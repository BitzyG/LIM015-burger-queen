(self.webpackChunkburger_queen=self.webpackChunkburger_queen||[]).push([[179],{8255:Ge=>{function we(L){return Promise.resolve().then(()=>{var f=new Error("Cannot find module '"+L+"'");throw f.code="MODULE_NOT_FOUND",f})}we.keys=()=>[],we.resolve=we,we.id=8255,Ge.exports=we},3018:(Ge,we,L)=>{"use strict";L.d(we,{deG:()=>eh,tb:()=>rb,AFp:()=>JI,ip1:()=>nb,CZH:()=>Jl,hGG:()=>PT,z2F:()=>Qo,sBO:()=>YD,Sil:()=>fc,_Vd:()=>Na,EJc:()=>ib,SBq:()=>oi,qLn:()=>K,vpe:()=>Ds,gxx:()=>Fu,tBr:()=>Mo,XFs:()=>Ae,OlP:()=>vn,zs3:()=>Ht,ZZ4:()=>Sm,aQg:()=>Df,soG:()=>Jm,YKP:()=>DE,v3s:()=>o_,h0i:()=>Yu,PXZ:()=>ET,R0b:()=>Oi,FiY:()=>ii,Lbi:()=>eT,g9A:()=>XI,Qsj:()=>GD,FYo:()=>xn,JOm:()=>No,Tiy:()=>Im,q3G:()=>fn,tp0:()=>fs,EAV:()=>mb,Rgc:()=>eo,dDg:()=>fT,DyG:()=>ya,q4F:()=>Nl,GfV:()=>mE,s_b:()=>Hn,ifc:()=>mn,eFA:()=>td,G48:()=>r_,Gpc:()=>re,f3M:()=>W_,X6Q:()=>np,_c5:()=>wb,VLi:()=>RR,c2e:()=>Jf,zSh:()=>Fh,wAp:()=>et,vHH:()=>Qe,EiD:()=>ly,mCW:()=>Da,qzn:()=>Au,JVY:()=>Vw,pB0:()=>jw,eBb:()=>ug,L6k:()=>Uw,LAX:()=>Bw,cg1:()=>om,Tjo:()=>rd,kL8:()=>Kv,yhl:()=>oh,dqk:()=>j,sIi:()=>Zh,CqO:()=>tf,QGY:()=>El,F4k:()=>Aa,RDi:()=>Rs,AaK:()=>Y,z3N:()=>ji,qOj:()=>Uu,TTD:()=>Ac,_Bn:()=>UD,xp6:()=>qS,uIk:()=>Bo,ekj:()=>je,Suo:()=>GE,Xpm:()=>wc,lG2:()=>bp,Yz7:()=>an,cJS:()=>di,oAB:()=>Ka,Yjl:()=>wp,Y36:()=>ef,_UZ:()=>j0,qZA:()=>xv,TgZ:()=>Av,n5z:()=>Wp,Ikx:()=>af,LFG:()=>hn,$8M:()=>$c,NdJ:()=>xa,CRH:()=>qE,oxw:()=>Z0,ALo:()=>Bf,lcZ:()=>UE,xi3:()=>BE,Dn7:()=>NI,Hsn:()=>Qg,F$t:()=>Rv,Q6J:()=>Wg,VKq:()=>sr,iGM:()=>UI,MAs:()=>gv,LSH:()=>Jc,kYT:()=>ia,Udp:()=>Es,YNc:()=>x0,_uU:()=>Vv,Oqu:()=>gr,hij:()=>wl,Gf:()=>$E});var f=L(9765),te=L(5319),B=L(7574),ve=L(6682),_e=L(2441);var ue=L(1307);function $(){return new f.xQ}function V(o){for(let a in o)if(o[a]===V)return a;throw Error("Could not find renamed property on target object.")}function X(o,a){for(const u in a)a.hasOwnProperty(u)&&!o.hasOwnProperty(u)&&(o[u]=a[u])}function Y(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(Y).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const a=o.toString();if(null==a)return""+a;const u=a.indexOf("\n");return-1===u?a:a.substring(0,u)}function z(o,a){return null==o||""===o?null===a?"":a:null==a||""===a?o:o+" "+a}const ce=V({__forward_ref__:V});function re(o){return o.__forward_ref__=re,o.toString=function(){return Y(this())},o}function ne(o){return Oe(o)?o():o}function Oe(o){return"function"==typeof o&&o.hasOwnProperty(ce)&&o.__forward_ref__===re}class Qe extends Error{constructor(a,u){super(function(o,a){return`${o?`NG0${o}: `:""}${a}`}(a,u)),this.code=a}}function Ue(o){return"string"==typeof o?o:null==o?"":String(o)}function bt(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():Ue(o)}function he(o,a){const u=a?` in ${a}`:"";throw new Qe("201",`No provider for ${bt(o)} found${u}`)}function on(o,a){null==o&&function(o,a,u,l){throw new Error(`ASSERTION ERROR: ${o}`+(null==l?"":` [Expected=> ${u} ${l} ${a} <=Actual]`))}(a,o,null,"!=")}function an(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function di(o){return{providers:o.providers||[],imports:o.imports||[]}}function wr(o){return na(o,Fn)||na(o,Wa)}function na(o,a){return o.hasOwnProperty(a)?o[a]:null}function Ss(o){return o&&(o.hasOwnProperty(Nr)||o.hasOwnProperty(lt))?o[Nr]:null}const Fn=V({\u0275prov:V}),Nr=V({\u0275inj:V}),Wa=V({ngInjectableDef:V}),lt=V({ngInjectorDef:V});var Ae=(()=>((Ae=Ae||{})[Ae.Default=0]="Default",Ae[Ae.Host=1]="Host",Ae[Ae.Self=2]="Self",Ae[Ae.SkipSelf=4]="SkipSelf",Ae[Ae.Optional=8]="Optional",Ae))();let zt;function cn(o){const a=zt;return zt=o,a}function Vt(o,a,u){const l=wr(o);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:u&Ae.Optional?null:void 0!==a?a:void he(Y(o),"Injector")}function We(o){return{toString:o}.toString()}var gn=(()=>((gn=gn||{})[gn.OnPush=0]="OnPush",gn[gn.Default=1]="Default",gn))(),mn=(()=>((mn=mn||{})[mn.Emulated=0]="Emulated",mn[mn.None=2]="None",mn[mn.ShadowDom=3]="ShadowDom",mn))();const Cr="undefined"!=typeof globalThis&&globalThis,ho="undefined"!=typeof window&&window,H="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,G="undefined"!=typeof global&&global,j=Cr||G||ho||H,He={},Ve=[],Ut=V({\u0275cmp:V}),ln=V({\u0275dir:V}),Wt=V({\u0275pipe:V}),Pr=V({\u0275mod:V}),It=V({\u0275loc:V}),Kt=V({\u0275fac:V}),nr=V({__NG_ELEMENT_ID__:V});let bc=0;function wc(o){return We(()=>{const u={},l={type:o.type,providersResolver:null,decls:o.decls,vars:o.vars,factory:null,template:o.template||null,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:u,inputs:null,outputs:null,exportAs:o.exportAs||null,onPush:o.changeDetection===gn.OnPush,directiveDefs:null,pipeDefs:null,selectors:o.selectors||Ve,viewQuery:o.viewQuery||null,features:o.features||null,data:o.data||{},encapsulation:o.encapsulation||mn.Emulated,id:"c",styles:o.styles||Ve,_:null,setInput:null,schemas:o.schemas||null,tView:null},h=o.directives,g=o.features,v=o.pipes;return l.id+=bc++,l.inputs=hi(o.inputs,u),l.outputs=hi(o.outputs),g&&g.forEach(b=>b(l)),l.directiveDefs=h?()=>("function"==typeof h?h():h).map(Id):null,l.pipeDefs=v?()=>("function"==typeof v?v():v).map(Cc):null,l})}function Id(o){return Wn(o)||function(o){return o[ln]||null}(o)}function Cc(o){return function(o){return o[Wt]||null}(o)}const ra={};function Ka(o){return We(()=>{const a={type:o.type,bootstrap:o.bootstrap||Ve,declarations:o.declarations||Ve,imports:o.imports||Ve,exports:o.exports||Ve,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null};return null!=o.id&&(ra[o.id]=o.type),a})}function ia(o,a){return We(()=>{const u=or(o,!0);u.declarations=a.declarations||Ve,u.imports=a.imports||Ve,u.exports=a.exports||Ve})}function hi(o,a){if(null==o)return He;const u={};for(const l in o)if(o.hasOwnProperty(l)){let h=o[l],g=h;Array.isArray(h)&&(g=h[1],h=h[0]),u[h]=l,a&&(a[h]=g)}return u}const bp=wc;function wp(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,onDestroy:o.type.prototype.ngOnDestroy||null}}function Wn(o){return o[Ut]||null}function or(o,a){const u=o[Pr]||null;if(!u&&!0===a)throw new Error(`Type ${Y(o)} does not have '\u0275mod' property.`);return u}function Lr(o){return Array.isArray(o)&&"object"==typeof o[1]}function jt(o){return Array.isArray(o)&&!0===o[1]}function Ja(o){return 0!=(8&o.flags)}function Ic(o){return 2==(2&o.flags)}function Vr(o){return 1==(1&o.flags)}function fi(o){return null!==o.template}function Rd(o){return 0!=(512&o[2])}function rs(o,a){return o.hasOwnProperty(Kt)?o[Kt]:null}class Pd{constructor(a,u,l){this.previousValue=a,this.currentValue=u,this.firstChange=l}isFirstChange(){return this.firstChange}}function Ac(){return Xa}function Xa(o){return o.type.prototype.ngOnChanges&&(o.setInput=k_),pi}function pi(){const o=eu(this),a=null==o?void 0:o.current;if(a){const u=o.previous;if(u===He)o.previous=a;else for(let l in a)u[l]=a[l];o.current=null,this.ngOnChanges(a)}}function k_(o,a,u,l){const h=eu(o)||function(o,a){return o[F_]=a}(o,{previous:He,current:null}),g=h.current||(h.current={}),v=h.previous,b=this.declaredInputs[u],D=v[b];g[b]=new Pd(D&&D.currentValue,a,v===He),o[l]=a}Ac.ngInherit=!0;const F_="__ngSimpleChanges__";function eu(o){return o[F_]||null}let vo;function Rs(o){vo=o}function en(o){return!!o.listen}const Nc={createRenderer:(o,a)=>void 0!==vo?vo:"undefined"!=typeof document?document:void 0};function tn(o){for(;Array.isArray(o);)o=o[0];return o}function ru(o,a){return tn(a[o])}function Ur(o,a){return tn(a[o.index])}function Ms(o,a){return o.data[a]}function iu(o,a){return o[a]}function ur(o,a){const u=a[o];return Lr(u)?u:u[0]}function su(o){return 4==(4&o[2])}function ou(o){return 128==(128&o[2])}function Os(o,a){return null==a?null:o[a]}function kc(o){o[18]=0}function kd(o,a){o[5]+=a;let u=o,l=o[3];for(;null!==l&&(1===a&&1===u[5]||-1===a&&0===u[5]);)l[5]+=a,u=l,l=l[3]}const ot={lFrame:Lp(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Fd(){return ot.bindingsEnabled}function Ie(){return ot.lFrame.lView}function Tt(){return ot.lFrame.tView}function _n(){let o=Np();for(;null!==o&&64===o.type;)o=o.parent;return o}function Np(){return ot.lFrame.currentTNode}function ti(o,a){const u=ot.lFrame;u.currentTNode=o,u.isParent=a}function Ld(){return ot.lFrame.isParent}function Ns(){ot.lFrame.isParent=!1}function la(){return ot.isInCheckNoChangesMode}function Ps(o){ot.isInCheckNoChangesMode=o}function Dr(){const o=ot.lFrame;let a=o.bindingRootIndex;return-1===a&&(a=o.bindingRootIndex=o.tView.bindingStartIndex),a}function ks(){return ot.lFrame.bindingIndex++}function Bd(o,a){const u=ot.lFrame;u.bindingIndex=u.bindingRootIndex=o,du(a)}function du(o){ot.lFrame.currentDirectiveIndex=o}function wo(){return ot.lFrame.currentQueryIndex}function $d(o){ot.lFrame.currentQueryIndex=o}function V_(o){const a=o[1];return 2===a.type?a.declTNode:1===a.type?o[6]:null}function U_(o,a,u){if(u&Ae.SkipSelf){let h=a,g=o;for(;!(h=h.parent,null!==h||u&Ae.Host||(h=V_(g),null===h||(g=g[15],10&h.type))););if(null===h)return!1;a=h,o=g}const l=ot.lFrame=Fp();return l.currentTNode=a,l.lView=o,!0}function hu(o){const a=Fp(),u=o[1];ot.lFrame=a,a.currentTNode=u.firstChild,a.lView=o,a.tView=u,a.contextLView=o,a.bindingIndex=u.bindingStartIndex,a.inI18n=!1}function Fp(){const o=ot.lFrame,a=null===o?null:o.child;return null===a?Lp(o):a}function Lp(o){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=a),a}function Vp(){const o=ot.lFrame;return ot.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const vw=Vp;function Up(){const o=Vp();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function Ir(){return ot.lFrame.selectedIndex}function Co(o){ot.lFrame.selectedIndex=o}function nn(){const o=ot.lFrame;return Ms(o.tView,o.selectedIndex)}function da(o,a){for(let u=a.directiveStart,l=a.directiveEnd;u<l;u++){const g=o.data[u].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:b,ngAfterViewInit:D,ngAfterViewChecked:T,ngOnDestroy:x}=g;v&&(o.contentHooks||(o.contentHooks=[])).push(-u,v),b&&((o.contentHooks||(o.contentHooks=[])).push(u,b),(o.contentCheckHooks||(o.contentCheckHooks=[])).push(u,b)),D&&(o.viewHooks||(o.viewHooks=[])).push(-u,D),T&&((o.viewHooks||(o.viewHooks=[])).push(u,T),(o.viewCheckHooks||(o.viewCheckHooks=[])).push(u,T)),null!=x&&(o.destroyHooks||(o.destroyHooks=[])).push(u,x)}}function ha(o,a,u){Zd(o,a,3,u)}function zd(o,a,u,l){(3&o[2])===u&&Zd(o,a,u,l)}function fu(o,a){let u=o[2];(3&u)===a&&(u&=2047,u+=1,o[2]=u)}function Zd(o,a,u,l){const g=null!=l?l:-1,v=a.length-1;let b=0;for(let D=void 0!==l?65535&o[18]:0;D<v;D++)if("number"==typeof a[D+1]){if(b=a[D],null!=l&&b>=l)break}else a[D]<0&&(o[18]+=65536),(b<g||-1==g)&&($_(o,u,a,D),o[18]=(4294901760&o[18])+D+2),D++}function $_(o,a,u,l){const h=u[l]<0,g=u[l+1],b=o[h?-u[l]:u[l]];if(h){if(o[2]>>11<o[18]>>16&&(3&o[2])===a){o[2]+=2048;try{g.call(b)}finally{}}}else try{g.call(b)}finally{}}class pu{constructor(a,u,l){this.factory=a,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=l}}function rn(o,a,u){const l=en(o);let h=0;for(;h<u.length;){const g=u[h];if("number"==typeof g){if(0!==g)break;h++;const v=u[h++],b=u[h++],D=u[h++];l?o.setAttribute(a,b,D,v):a.setAttributeNS(v,b,D)}else{const v=g,b=u[++h];Vc(v)?l&&o.setProperty(a,v,b):l?o.setAttribute(a,v,b):a.setAttribute(v,b),h++}}return h}function Kd(o){return 3===o||4===o||6===o}function Vc(o){return 64===o.charCodeAt(0)}function Yd(o,a){if(null!==a&&0!==a.length)if(null===o||0===o.length)o=a.slice();else{let u=-1;for(let l=0;l<a.length;l++){const h=a[l];"number"==typeof h?u=h:0===u||Qd(o,u,h,null,-1===u||2===u?a[++l]:null)}}return o}function Qd(o,a,u,l,h){let g=0,v=o.length;if(-1===a)v=-1;else for(;g<o.length;){const b=o[g++];if("number"==typeof b){if(b===a){v=-1;break}if(b>a){v=g-1;break}}}for(;g<o.length;){const b=o[g];if("number"==typeof b)break;if(b===u){if(null===l)return void(null!==h&&(o[g+1]=h));if(l===o[g+1])return void(o[g+2]=h)}g++,null!==l&&g++,null!==h&&g++}-1!==v&&(o.splice(v,0,a),g=v+1),o.splice(g++,0,u),null!==l&&o.splice(g++,0,l),null!==h&&o.splice(g++,0,h)}function Bp(o){return-1!==o}function gu(o){return 32767&o}function mu(o,a){let u=function(o){return o>>16}(o),l=a;for(;u>0;)l=l[15],u--;return l}let _u=!0;function Uc(o){const a=_u;return _u=o,a}let as=0;function Do(o,a){const u=yn(o,a);if(-1!==u)return u;const l=a[1];l.firstCreatePass&&(o.injectorIndex=a.length,$p(l.data,o),$p(a,null),$p(l.blueprint,null));const h=Hc(o,a),g=o.injectorIndex;if(Bp(h)){const v=gu(h),b=mu(h,a),D=b[1].data;for(let T=0;T<8;T++)a[g+T]=b[v+T]|D[v+T]}return a[g+8]=h,g}function $p(o,a){o.push(0,0,0,0,0,0,0,0,a)}function yn(o,a){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===a[o.injectorIndex+8]?-1:o.injectorIndex}function Hc(o,a){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let u=0,l=null,h=a;for(;null!==h;){const g=h[1],v=g.type;if(l=2===v?g.declTNode:1===v?h[6]:null,null===l)return-1;if(u++,h=h[15],-1!==l.injectorIndex)return l.injectorIndex|u<<16}return-1}function ft(o,a,u){!function(o,a,u){let l;"string"==typeof u?l=u.charCodeAt(0)||0:u.hasOwnProperty(nr)&&(l=u[nr]),null==l&&(l=u[nr]=as++);const h=255&l;a.data[o+(h>>5)]|=1<<h}(o,a,u)}function Cn(o,a,u){if(u&Ae.Optional)return o;he(a,"NodeInjector")}function us(o,a,u,l){if(u&Ae.Optional&&void 0===l&&(l=null),0==(u&(Ae.Self|Ae.Host))){const h=o[9],g=cn(void 0);try{return h?h.get(a,l,u&Ae.Optional):Vt(a,l,u&Ae.Optional)}finally{cn(g)}}return Cn(l,a,u)}function Gp(o,a,u,l=Ae.Default,h){if(null!==o){const g=function(o){if("string"==typeof o)return o.charCodeAt(0)||0;const a=o.hasOwnProperty(nr)?o[nr]:void 0;return"number"==typeof a?a>=0?255&a:bw:a}(u);if("function"==typeof g){if(!U_(a,o,l))return l&Ae.Host?Cn(h,u,l):us(a,u,l,h);try{const v=g(l);if(null!=v||l&Ae.Optional)return v;he(u)}finally{vw()}}else if("number"==typeof g){let v=null,b=yn(o,a),D=-1,T=l&Ae.Host?a[16][6]:null;for((-1===b||l&Ae.SkipSelf)&&(D=-1===b?Hc(o,a):a[b+8],-1!==D&&Zp(l,!1)?(v=a[1],b=gu(D),a=mu(D,a)):b=-1);-1!==b;){const x=a[1];if(zp(g,b,x.data)){const O=yu(b,a,u,v,l,T);if(O!==_t)return O}D=a[b+8],-1!==D&&Zp(l,a[1].data[b+8]===T)&&zp(g,b,a)?(v=x,b=gu(D),a=mu(D,a)):b=-1}}}return us(a,u,l,h)}const _t={};function bw(){return new cs(_n(),Ie())}function yu(o,a,u,l,h,g){const v=a[1],b=v.data[o+8],x=vu(b,v,u,null==l?Ic(b)&&_u:l!=v&&0!=(3&b.type),h&Ae.Host&&g===b);return null!==x?fa(a,v,x,b):_t}function vu(o,a,u,l,h){const g=o.providerIndexes,v=a.data,b=1048575&g,D=o.directiveStart,x=g>>20,k=h?b+x:o.directiveEnd;for(let U=l?b:b+x;U<k;U++){const q=v[U];if(U<D&&u===q||U>=D&&q.type===u)return U}if(h){const U=v[D];if(U&&fi(U)&&U.type===u)return D}return null}function fa(o,a,u,l){let h=o[u];const g=a.data;if(function(o){return o instanceof pu}(h)){const v=h;v.resolving&&function(o,a){throw new Qe("200",`Circular dependency in DI detected for ${o}`)}(bt(g[u]));const b=Uc(v.canSeeViewProviders);v.resolving=!0;const D=v.injectImpl?cn(v.injectImpl):null;U_(o,l,Ae.Default);try{h=o[u]=v.factory(void 0,g,o,l),a.firstCreatePass&&u>=l.directiveStart&&function(o,a,u){const{ngOnChanges:l,ngOnInit:h,ngDoCheck:g}=a.type.prototype;if(l){const v=Xa(a);(u.preOrderHooks||(u.preOrderHooks=[])).push(o,v),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(o,v)}h&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-o,h),g&&((u.preOrderHooks||(u.preOrderHooks=[])).push(o,g),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(o,g))}(u,g[u],a)}finally{null!==D&&cn(D),Uc(b),v.resolving=!1,vw()}}return h}function zp(o,a,u){return!!(u[a+(o>>5)]&1<<o)}function Zp(o,a){return!(o&Ae.Self||o&Ae.Host&&a)}class cs{constructor(a,u){this._tNode=a,this._lView=u}get(a,u){return Gp(this._tNode,this._lView,a,void 0,u)}}function Wp(o){return We(()=>{const a=o.prototype.constructor,u=a[Kt]||Jd(a),l=Object.prototype;let h=Object.getPrototypeOf(o.prototype).constructor;for(;h&&h!==l;){const g=h[Kt]||Jd(h);if(g&&g!==u)return g;h=Object.getPrototypeOf(h)}return g=>new g})}function Jd(o){return Oe(o)?()=>{const a=Jd(ne(o));return a&&a()}:rs(o)}function $c(o){return function(o,a){if("class"===a)return o.classes;if("style"===a)return o.styles;const u=o.attrs;if(u){const l=u.length;let h=0;for(;h<l;){const g=u[h];if(Kd(g))break;if(0===g)h+=2;else if("number"==typeof g)for(h++;h<l&&"string"==typeof u[h];)h++;else{if(g===a)return u[h+1];h+=2}}}return null}(_n(),o)}const pa="__parameters__";function ls(o,a,u){return We(()=>{const l=function(o){return function(...u){if(o){const l=o(...u);for(const h in l)this[h]=l[h]}}}(a);function h(...g){if(this instanceof h)return l.apply(this,g),this;const v=new h(...g);return b.annotation=v,b;function b(D,T,x){const O=D.hasOwnProperty(pa)?D[pa]:Object.defineProperty(D,pa,{value:[]})[pa];for(;O.length<=x;)O.push(null);return(O[x]=O[x]||[]).push(v),D}}return u&&(h.prototype=Object.create(u.prototype)),h.prototype.ngMetadataName=o,h.annotationCls=h,h})}class vn{constructor(a,u){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=an({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}toString(){return`InjectionToken ${this._desc}`}}const eh=new vn("AnalyzeForEntryComponents"),ya=Function;function ri(o,a){void 0===a&&(a=o);for(let u=0;u<o.length;u++){let l=o[u];Array.isArray(l)?(a===o&&(a=o.slice(0,u)),ri(l,a)):a!==o&&a.push(l)}return a}function Ot(o,a){o.forEach(u=>Array.isArray(u)?Ot(u,a):a(u))}function Dn(o,a,u){a>=o.length?o.push(u):o.splice(a,0,u)}function ds(o,a){return a>=o.length-1?o.pop():o.splice(a,1)[0]}function Vs(o,a){const u=[];for(let l=0;l<o;l++)u.push(a);return u}function Kn(o,a,u){let l=Ui(o,a);return l>=0?o[1|l]=u:(l=~l,function(o,a,u,l){let h=o.length;if(h==a)o.push(u,l);else if(1===h)o.push(l,o[0]),o[0]=u;else{for(h--,o.push(o[h-1],o[h]);h>a;)o[h]=o[h-2],h--;o[a]=u,o[a+1]=l}}(o,l,a,u)),l}function wu(o,a){const u=Ui(o,a);if(u>=0)return o[1|u]}function Ui(o,a){return function(o,a,u){let l=0,h=o.length>>u;for(;h!==l;){const g=l+(h-l>>1),v=o[g<<u];if(a===v)return g<<u;v>a?h=g:l=g+1}return~(h<<u)}(o,a,1)}const Ei={},Du="__NG_DI_FLAG__",Bs="ngTempTokenPath",nh=/\n/gm,lr="__source",Iu=V({provide:String,useValue:V});let Ea;function wi(o){const a=Ea;return Ea=o,a}function Aw(o,a=Ae.Default){if(void 0===Ea)throw new Error("inject() must be called from an injection context");return null===Ea?Vt(o,void 0,a):Ea.get(o,a&Ae.Optional?null:void 0,a)}function hn(o,a=Ae.Default){return(zt||Aw)(ne(o),a)}const W_=hn;function Ro(o){const a=[];for(let u=0;u<o.length;u++){const l=ne(o[u]);if(Array.isArray(l)){if(0===l.length)throw new Error("Arguments array must have arguments.");let h,g=Ae.Default;for(let v=0;v<l.length;v++){const b=l[v],D=rh(b);"number"==typeof D?-1===D?h=b.token:g|=D:h=b}a.push(hn(h,g))}else a.push(hn(l))}return a}function Wc(o,a){return o[Du]=a,o.prototype[Du]=a,o}function rh(o){return o[Du]}function K_(o,a,u,l){const h=o[Bs];throw a[lr]&&h.unshift(a[lr]),o.message=function(o,a,u,l=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.substr(2):o;let h=Y(a);if(Array.isArray(a))h=a.map(Y).join(" -> ");else if("object"==typeof a){let g=[];for(let v in a)if(a.hasOwnProperty(v)){let b=a[v];g.push(v+":"+("string"==typeof b?JSON.stringify(b):Y(b)))}h=`{${g.join(", ")}}`}return`${u}${l?"("+l+")":""}[${h}]: ${o.replace(nh,"\n  ")}`}("\n"+o.message,h,u,l),o.ngTokenPath=h,o[Bs]=null,o}const Mo=Wc(ls("Inject",o=>({token:o})),-1),ii=Wc(ls("Optional"),8),fs=Wc(ls("SkipSelf"),4);let Su;function Oo(o){var a;return(null===(a=function(){if(void 0===Su&&(Su=null,j.trustedTypes))try{Su=j.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch(o){}return Su}())||void 0===a?void 0:a.createHTML(o))||o}class wa{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class kw extends wa{getTypeName(){return"HTML"}}class IS extends wa{getTypeName(){return"Style"}}class Ca extends wa{getTypeName(){return"Script"}}class Fw extends wa{getTypeName(){return"URL"}}class Lw extends wa{getTypeName(){return"ResourceURL"}}function ji(o){return o instanceof wa?o.changingThisBreaksApplicationSecurity:o}function Au(o,a){const u=oh(o);if(null!=u&&u!==a){if("ResourceURL"===u&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${u} (see https://g.co/ng/security#xss)`)}return u===a}function oh(o){return o instanceof wa&&o.getTypeName()||null}function Vw(o){return new kw(o)}function Uw(o){return new IS(o)}function ug(o){return new Ca(o)}function Bw(o){return new Fw(o)}function jw(o){return new Lw(o)}class Hw{constructor(a){this.inertDocumentHelper=a}getInertBodyElement(a){a="<body><remove></remove>"+a;try{const u=(new window.DOMParser).parseFromString(Oo(a),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(a):(u.removeChild(u.firstChild),u)}catch(u){return null}}}class $w{constructor(a){if(this.defaultDoc=a,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const u=this.inertDocument.createElement("html");this.inertDocument.appendChild(u);const l=this.inertDocument.createElement("body");u.appendChild(l)}}getInertBodyElement(a){const u=this.inertDocument.createElement("template");if("content"in u)return u.innerHTML=Oo(a),u;const l=this.inertDocument.createElement("body");return l.innerHTML=Oo(a),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(l),l}stripCustomNsAttrs(a){const u=a.attributes;for(let h=u.length-1;0<h;h--){const v=u.item(h).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&a.removeAttribute(v)}let l=a.firstChild;for(;l;)l.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(l),l=l.nextSibling}}const qw=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,ry=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Da(o){return(o=String(o)).match(qw)||o.match(ry)?o:"unsafe:"+o}function ps(o){const a={};for(const u of o.split(","))a[u]=!0;return a}function Ia(...o){const a={};for(const u of o)for(const l in u)u.hasOwnProperty(l)&&(a[l]=!0);return a}const uh=ps("area,br,col,hr,img,wbr"),sy=ps("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),oy=ps("rp,rt"),lg=Ia(uh,Ia(sy,ps("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ia(oy,ps("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ia(oy,sy)),ch=ps("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),dg=ps("srcset"),ay=Ia(ch,dg,ps("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ps("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),lh=ps("script,style,template");class zw{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(a){let u=a.firstChild,l=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?l=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,l&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let h=this.checkClobberedElement(u,u.nextSibling);if(h){u=h;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(a){const u=a.nodeName.toLowerCase();if(!lg.hasOwnProperty(u))return this.sanitizedSomething=!0,!lh.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const l=a.attributes;for(let h=0;h<l.length;h++){const g=l.item(h),v=g.name,b=v.toLowerCase();if(!ay.hasOwnProperty(b)){this.sanitizedSomething=!0;continue}let D=g.value;ch[b]&&(D=Da(D)),dg[b]&&(o=D,D=(o=String(o)).split(",").map(a=>Da(a.trim())).join(", ")),this.buf.push(" ",v,'="',cy(D),'"')}var o;return this.buf.push(">"),!0}endElement(a){const u=a.nodeName.toLowerCase();lg.hasOwnProperty(u)&&!uh.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(a){this.buf.push(cy(a))}checkClobberedElement(a,u){if(u&&(a.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${a.outerHTML}`);return u}}const uy=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Zw=/([^\#-~ |!])/g;function cy(o){return o.replace(/&/g,"&amp;").replace(uy,function(a){return"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";"}).replace(Zw,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let dh;function ly(o,a){let u=null;try{dh=dh||function(o){const a=new $w(o);return function(){try{return!!(new window.DOMParser).parseFromString(Oo(""),"text/html")}catch(o){return!1}}()?new Hw(a):a}(o);let l=a?String(a):"";u=dh.getInertBodyElement(l);let h=5,g=l;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,l=g,g=u.innerHTML,u=dh.getInertBodyElement(l)}while(l!==g);return Oo((new zw).sanitizeChildren(hh(u)||u))}finally{if(u){const l=hh(u)||u;for(;l.firstChild;)l.removeChild(l.firstChild)}}}function hh(o){return"content"in o&&function(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var fn=(()=>((fn=fn||{})[fn.NONE=0]="NONE",fn[fn.HTML=1]="HTML",fn[fn.STYLE=2]="STYLE",fn[fn.SCRIPT=3]="SCRIPT",fn[fn.URL=4]="URL",fn[fn.RESOURCE_URL=5]="RESOURCE_URL",fn))();function Jc(o){const a=function(){const o=Ie();return o&&o[12]}();return a?a.sanitize(fn.URL,o)||"":Au(o,"URL")?ji(o):Da(Ue(o))}const fy="__ngContext__";function dr(o,a){o[fy]=a}function hr(o){const a=function(o){return o[fy]||null}(o);return a?Array.isArray(a)?a:a.lView:null}function C(o){return o.ngOriginalError}function N(o,...a){o.error(...a)}class K{constructor(){this._console=console}handleError(a){const u=this._findOriginalError(a),l=this._findContext(a),h=(o=a)&&o.ngErrorLogger||N;var o;h(this._console,"ERROR",a),u&&h(this._console,"ORIGINAL ERROR",u),l&&h(this._console,"ERROR CONTEXT",l)}_findContext(a){return a?a.ngDebugContext||this._findContext(C(a)):null}_findOriginalError(a){let u=a&&C(a);for(;u&&C(u);)u=C(u);return u||null}}const gh=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(j))();function ms(o){return o instanceof Function?o():o}var No=(()=>((No=No||{})[No.Important=1]="Important",No[No.DashCase=2]="DashCase",No))();function Hs(o,a){return undefined(o,a)}function mh(o){const a=o[3];return jt(a)?a[3]:a}function by(o){return iC(o[13])}function wy(o){return iC(o[4])}function iC(o){for(;null!==o&&!jt(o);)o=o[4];return o}function il(o,a,u,l,h){if(null!=l){let g,v=!1;jt(l)?g=l:Lr(l)&&(v=!0,l=l[0]);const b=tn(l);0===o&&null!==u?null==h?VS(a,u,b):sl(a,u,b,h||null,!0):1===o&&null!==u?sl(a,u,b,h||null,!0):2===o?function(o,a,u){const l=Ig(o,a);l&&function(o,a,u,l){en(o)?o.removeChild(a,u,l):a.removeChild(u)}(o,l,a,u)}(a,b,v):3===o&&a.destroyNode(b),null!=g&&function(o,a,u,l,h){const g=u[7];g!==tn(u)&&il(a,o,l,g,h);for(let b=10;b<u.length;b++){const D=u[b];Eh(D[1],D,o,a,l,g)}}(a,o,g,u,h)}}function Dy(o,a,u){return en(o)?o.createElement(a,u):null===u?o.createElement(a):o.createElementNS(u,a)}function PS(o,a){const u=o[9],l=u.indexOf(a),h=a[3];1024&a[2]&&(a[2]&=-1025,kd(h,-1)),u.splice(l,1)}function Iy(o,a){if(o.length<=10)return;const u=10+a,l=o[u];if(l){const h=l[17];null!==h&&h!==o&&PS(h,l),a>0&&(o[u-1][4]=l[4]);const g=ds(o,10+a);!function(o,a){Eh(o,a,a[11],2,null,null),a[0]=null,a[6]=null}(l[1],l);const v=g[19];null!==v&&v.detachView(g[1]),l[3]=null,l[4]=null,l[2]&=-129}return l}function kS(o,a){if(!(256&a[2])){const u=a[11];en(u)&&u.destroyNode&&Eh(o,a,u,3,null,null),function(o){let a=o[13];if(!a)return aC(o[1],o);for(;a;){let u=null;if(Lr(a))u=a[13];else{const l=a[10];l&&(u=l)}if(!u){for(;a&&!a[4]&&a!==o;)Lr(a)&&aC(a[1],a),a=a[3];null===a&&(a=o),Lr(a)&&aC(a[1],a),u=a&&a[4]}a=u}}(a)}}function aC(o,a){if(!(256&a[2])){a[2]&=-129,a[2]|=256,function(o,a){let u;if(null!=o&&null!=(u=o.destroyHooks))for(let l=0;l<u.length;l+=2){const h=a[u[l]];if(!(h instanceof pu)){const g=u[l+1];if(Array.isArray(g))for(let v=0;v<g.length;v+=2){const b=h[g[v]],D=g[v+1];try{D.call(b)}finally{}}else try{g.call(h)}finally{}}}}(o,a),function(o,a){const u=o.cleanup,l=a[7];let h=-1;if(null!==u)for(let g=0;g<u.length-1;g+=2)if("string"==typeof u[g]){const v=u[g+1],b="function"==typeof v?v(a):tn(a[v]),D=l[h=u[g+2]],T=u[g+3];"boolean"==typeof T?b.removeEventListener(u[g],D,T):T>=0?l[h=T]():l[h=-T].unsubscribe(),g+=2}else{const v=l[h=u[g+1]];u[g].call(v)}if(null!==l){for(let g=h+1;g<l.length;g++)l[g]();a[7]=null}}(o,a),1===a[1].type&&en(a[11])&&a[11].destroy();const u=a[17];if(null!==u&&jt(a[3])){u!==a[3]&&PS(u,a);const l=a[19];null!==l&&l.detachView(o)}}}function FS(o,a,u){return function(o,a,u){let l=a;for(;null!==l&&40&l.type;)l=(a=l).parent;if(null===l)return u[0];if(2&l.flags){const h=o.data[l.directiveStart].encapsulation;if(h===mn.None||h===mn.Emulated)return null}return Ur(l,u)}(o,a.parent,u)}function sl(o,a,u,l,h){en(o)?o.insertBefore(a,u,l,h):a.insertBefore(u,l,h)}function VS(o,a,u){en(o)?o.appendChild(a,u):a.appendChild(u)}function US(o,a,u,l,h){null!==l?sl(o,a,u,l,h):VS(o,a,u)}function Ig(o,a){return en(o)?o.parentNode(a):a.parentNode}function cC(o,a,u){return dC(o,a,u)}let dC=function(o,a,u){return 40&o.type?Ur(o,u):null};function yh(o,a,u,l){const h=FS(o,l,a),g=a[11],b=cC(l.parent||a[6],l,a);if(null!=h)if(Array.isArray(u))for(let D=0;D<u.length;D++)US(g,h,u[D],b,!1);else US(g,h,u,b,!1)}function vh(o,a){if(null!==a){const u=a.type;if(3&u)return Ur(a,o);if(4&u)return Sy(-1,o[a.index]);if(8&u){const l=a.child;if(null!==l)return vh(o,l);{const h=o[a.index];return jt(h)?Sy(-1,h):tn(h)}}if(32&u)return Hs(a,o)()||tn(o[a.index]);{const l=fC(o,a);return null!==l?Array.isArray(l)?l[0]:vh(mh(o[16]),l):vh(o,a.next)}}return null}function fC(o,a){return null!==a?o[16][6].projection[a.projection]:null}function Sy(o,a){const u=10+o+1;if(u<a.length){const l=a[u],h=l[1].firstChild;if(null!==h)return vh(l,h)}return a[7]}function Ay(o,a,u,l,h,g,v){for(;null!=u;){const b=l[u.index],D=u.type;if(v&&0===a&&(b&&dr(tn(b),l),u.flags|=4),64!=(64&u.flags))if(8&D)Ay(o,a,u.child,l,h,g,!1),il(a,o,h,b,g);else if(32&D){const T=Hs(u,l);let x;for(;x=T();)il(a,o,h,x,g);il(a,o,h,b,g)}else 16&D?jS(o,a,l,u,h,g):il(a,o,h,b,g);u=v?u.projectionNext:u.next}}function Eh(o,a,u,l,h,g){Ay(u,l,o.firstChild,a,h,g,!1)}function jS(o,a,u,l,h,g){const v=u[16],D=v[6].projection[l.projection];if(Array.isArray(D))for(let T=0;T<D.length;T++)il(a,o,h,D[T],g);else Ay(o,a,D,v[3],h,g,!0)}function gC(o,a,u){en(o)?o.setAttribute(a,"style",u):a.style.cssText=u}function xy(o,a,u){en(o)?""===u?o.removeAttribute(a,"class"):o.setAttribute(a,"class",u):a.className=u}function mC(o,a,u){let l=o.length;for(;;){const h=o.indexOf(a,u);if(-1===h)return h;if(0===h||o.charCodeAt(h-1)<=32){const g=a.length;if(h+g===l||o.charCodeAt(h+g)<=32)return h}u=h+1}}const $S="ng-template";function XM(o,a,u){let l=0;for(;l<o.length;){let h=o[l++];if(u&&"class"===h){if(h=o[l],-1!==mC(h.toLowerCase(),a,0))return!0}else if(1===h){for(;l<o.length&&"string"==typeof(h=o[l++]);)if(h.toLowerCase()===a)return!0;return!1}}return!1}function Ry(o){return 4===o.type&&o.value!==$S}function _C(o,a,u){return a===(4!==o.type||u?o.value:$S)}function yC(o,a,u){let l=4;const h=o.attrs||[],g=function(o){for(let a=0;a<o.length;a++)if(Kd(o[a]))return a;return o.length}(h);let v=!1;for(let b=0;b<a.length;b++){const D=a[b];if("number"!=typeof D){if(!v)if(4&l){if(l=2|1&l,""!==D&&!_C(o,D,u)||""===D&&1===a.length){if(_s(l))return!1;v=!0}}else{const T=8&l?D:a[++b];if(8&l&&null!==o.attrs){if(!XM(o.attrs,T,u)){if(_s(l))return!1;v=!0}continue}const O=vC(8&l?"class":D,h,Ry(o),u);if(-1===O){if(_s(l))return!1;v=!0;continue}if(""!==T){let k;k=O>g?"":h[O+1].toLowerCase();const U=8&l?k:null;if(U&&-1!==mC(U,T,0)||2&l&&T!==k){if(_s(l))return!1;v=!0}}}}else{if(!v&&!_s(l)&&!_s(D))return!1;if(v&&_s(D))continue;v=!1,l=D|1&l}}return _s(l)||v}function _s(o){return 0==(1&o)}function vC(o,a,u,l){if(null===a)return-1;let h=0;if(l||!u){let g=!1;for(;h<a.length;){const v=a[h];if(v===o)return h;if(3===v||6===v)g=!0;else{if(1===v||2===v){let b=a[++h];for(;"string"==typeof b;)b=a[++h];continue}if(4===v)break;if(0===v){h+=4;continue}}h+=g?1:2}return-1}return function(o,a){let u=o.indexOf(4);if(u>-1)for(u++;u<o.length;){const l=o[u];if("number"==typeof l)return-1;if(l===a)return u;u++}return-1}(a,o)}function Ru(o,a,u=!1){for(let l=0;l<a.length;l++)if(yC(o,a[l],u))return!0;return!1}function wC(o,a){e:for(let u=0;u<a.length;u++){const l=a[u];if(o.length===l.length){for(let h=0;h<o.length;h++)if(o[h]!==l[h])continue e;return!0}}return!1}function CC(o,a){return o?":not("+a.trim()+")":a}function eO(o){let a=o[0],u=1,l=2,h="",g=!1;for(;u<o.length;){let v=o[u];if("string"==typeof v)if(2&l){const b=o[++u];h+="["+v+(b.length>0?'="'+b+'"':"")+"]"}else 8&l?h+="."+v:4&l&&(h+=" "+v);else""!==h&&!_s(v)&&(a+=CC(g,h),h=""),l=v,g=g||!_s(l);u++}return""!==h&&(a+=CC(g,h)),a}const pt={};function qS(o){My(Tt(),Ie(),Ir()+o,la())}function My(o,a,u,l){if(!l)if(3==(3&a[2])){const g=o.preOrderCheckHooks;null!==g&&ha(a,g,u)}else{const g=o.preOrderHooks;null!==g&&zd(a,g,0,u)}Co(u)}function bh(o,a){return o<<17|a<<2}function Ci(o){return o>>17&32767}function Oy(o){return 2|o}function Po(o){return(131068&o)>>2}function wh(o,a){return-131069&o|a<<2}function Ch(o){return 1|o}function LC(o,a){const u=o.contentQueries;if(null!==u)for(let l=0;l<u.length;l+=2){const h=u[l],g=u[l+1];if(-1!==g){const v=o.data[g];$d(h),v.contentQueries(2,a[g],g)}}}function Mu(o,a,u,l,h,g,v,b,D,T){const x=a.blueprint.slice();return x[0]=h,x[2]=140|l,kc(x),x[3]=x[15]=o,x[8]=u,x[10]=v||o&&o[10],x[11]=b||o&&o[11],x[12]=D||o&&o[12]||null,x[9]=T||o&&o[9]||null,x[6]=g,x[16]=2==a.type?o[16]:x,x}function xh(o,a,u,l,h){let g=o.data[a];if(null===g)g=function(o,a,u,l,h){const g=Np(),v=Ld(),D=o.data[a]=function(o,a,u,l,h,g){return{type:u,index:l,insertBeforeIndex:null,injectorIndex:a?a.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?g:g&&g.parent,u,a,l,h);return null===o.firstChild&&(o.firstChild=D),null!==g&&(v?null==g.child&&null!==D.parent&&(g.child=D):null===g.next&&(g.next=D)),D}(o,a,u,l,h),ot.lFrame.inI18n&&(g.flags|=64);else if(64&g.type){g.type=u,g.value=l,g.attrs=h;const v=function(){const o=ot.lFrame,a=o.currentTNode;return o.isParent?a:a.parent}();g.injectorIndex=null===v?-1:v.injectorIndex}return ti(g,!0),g}function Rh(o,a,u,l){if(0===u)return-1;const h=a.length;for(let g=0;g<u;g++)a.push(l),o.blueprint.push(l),o.data.push(null);return h}function Mh(o,a,u){hu(a);try{const l=o.viewQuery;null!==l&&Qy(1,l,u);const h=o.template;null!==h&&$y(o,a,h,1,u),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&LC(o,a),o.staticViewQueries&&Qy(2,o.viewQuery,u);const g=o.components;null!==g&&function(o,a){for(let u=0;u<a.length;u++)dA(o,a[u])}(a,g)}catch(l){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),l}finally{a[2]&=-5,Up()}}function Ou(o,a,u,l){const h=a[2];if(256==(256&h))return;hu(a);const g=la();try{kc(a),function(o){ot.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==u&&$y(o,a,u,2,l);const v=3==(3&h);if(!g)if(v){const T=o.preOrderCheckHooks;null!==T&&ha(a,T,null)}else{const T=o.preOrderHooks;null!==T&&zd(a,T,0,null),fu(a,0)}if(function(o){for(let a=by(o);null!==a;a=wy(a)){if(!a[2])continue;const u=a[9];for(let l=0;l<u.length;l++){const h=u[l],g=h[3];0==(1024&h[2])&&kd(g,1),h[2]|=1024}}}(a),function(o){for(let a=by(o);null!==a;a=wy(a))for(let u=10;u<a.length;u++){const l=a[u],h=l[1];ou(l)&&Ou(h,l,h.template,l[8])}}(a),null!==o.contentQueries&&LC(o,a),!g)if(v){const T=o.contentCheckHooks;null!==T&&ha(a,T)}else{const T=o.contentHooks;null!==T&&zd(a,T,1),fu(a,1)}!function(o,a){const u=o.hostBindingOpCodes;if(null!==u)try{for(let l=0;l<u.length;l++){const h=u[l];if(h<0)Co(~h);else{const g=h,v=u[++l],b=u[++l];Bd(v,g),b(2,a[g])}}}finally{Co(-1)}}(o,a);const b=o.components;null!==b&&function(o,a){for(let u=0;u<a.length;u++)Pu(o,a[u])}(a,b);const D=o.viewQuery;if(null!==D&&Qy(2,D,l),!g)if(v){const T=o.viewCheckHooks;null!==T&&ha(a,T)}else{const T=o.viewHooks;null!==T&&zd(a,T,2),fu(a,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),g||(a[2]&=-73),1024&a[2]&&(a[2]&=-1025,kd(a[3],-1))}finally{Up()}}function JS(o,a,u,l){const h=a[10],g=!la(),v=su(a);try{g&&!v&&h.begin&&h.begin(),v&&Mh(o,a,l),Ou(o,a,u,l)}finally{g&&!v&&h.end&&h.end()}}function $y(o,a,u,l,h){const g=Ir(),v=2&l;try{Co(-1),v&&a.length>20&&My(o,a,20,la()),u(l,h)}finally{Co(g)}}function VC(o,a,u){!Fd()||(function(o,a,u,l){const h=u.directiveStart,g=u.directiveEnd;o.firstCreatePass||Do(u,a),dr(l,a);const v=u.initialInputs;for(let b=h;b<g;b++){const D=o.data[b],T=fi(D);T&&ZC(a,u,D);const x=fa(a,o,b,u);dr(x,a),null!==v&&cA(0,b-h,x,D,0,v),T&&(ur(u.index,a)[8]=x)}}(o,a,u,Ur(u,a)),128==(128&u.flags)&&function(o,a,u){const l=u.directiveStart,h=u.directiveEnd,v=u.index,b=ot.lFrame.currentDirectiveIndex;try{Co(v);for(let D=l;D<h;D++){const T=o.data[D],x=a[D];du(D),(null!==T.hostBindings||0!==T.hostVars||null!==T.hostAttrs)&&GC(T,x)}}finally{Co(-1),du(b)}}(o,a,u))}function Ng(o,a,u=Ur){const l=a.localNames;if(null!==l){let h=a.index+1;for(let g=0;g<l.length;g+=2){const v=l[g+1],b=-1===v?u(a,o):o[v];o[h++]=b}}}function XS(o){const a=o.tView;return null===a||a.incompleteFirstPass?o.tView=Oh(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts):a}function Oh(o,a,u,l,h,g,v,b,D,T){const x=20+l,O=x+h,k=function(o,a){const u=[];for(let l=0;l<a;l++)u.push(l<o?null:pt);return u}(x,O),U="function"==typeof T?T():T;return k[1]={type:o,blueprint:k,template:u,queries:null,viewQuery:b,declTNode:a,data:k.slice().fill(null,x),bindingStartIndex:x,expandoStartIndex:O,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:D,consts:U,incompleteFirstPass:!1}}function BC(o,a,u,l){const h=Jy(a);null===u?h.push(l):(h.push(u),o.firstCreatePass&&Xy(o).push(l,h.length-1))}function jC(o,a,u){for(let l in o)if(o.hasOwnProperty(l)){const h=o[l];(u=null===u?{}:u).hasOwnProperty(l)?u[l].push(a,h):u[l]=[a,h]}return u}function Di(o,a,u,l,h,g,v,b){const D=Ur(a,u);let x,T=a.inputs;!b&&null!=T&&(x=T[l])?(e0(o,u,x,l,h),Ic(a)&&function(o,a){const u=ur(a,o);16&u[2]||(u[2]|=64)}(u,a.index)):3&a.type&&(l=function(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(l),h=null!=v?v(h,a.value||"",l):h,en(g)?g.setProperty(D,l,h):Vc(l)||(D.setProperty?D.setProperty(l,h):D[l]=h))}function zy(o,a,u,l){let h=!1;if(Fd()){const g=function(o,a,u){const l=o.directiveRegistry;let h=null;if(l)for(let g=0;g<l.length;g++){const v=l[g];Ru(u,v.selectors,!1)&&(h||(h=[]),ft(Do(u,a),o,v.type),fi(v)?(Sr(o,u),h.unshift(v)):h.push(v))}return h}(o,a,u),v=null===l?null:{"":-1};if(null!==g){h=!0,qC(u,o.data.length,g.length);for(let x=0;x<g.length;x++){const O=g[x];O.providersResolver&&O.providersResolver(O)}let b=!1,D=!1,T=Rh(o,a,g.length,null);for(let x=0;x<g.length;x++){const O=g[x];u.mergedAttrs=Yd(u.mergedAttrs,O.hostAttrs),zC(o,u,a,T,O),Zy(T,O,v),null!==O.contentQueries&&(u.flags|=8),(null!==O.hostBindings||null!==O.hostAttrs||0!==O.hostVars)&&(u.flags|=128);const k=O.type.prototype;!b&&(k.ngOnChanges||k.ngOnInit||k.ngDoCheck)&&((o.preOrderHooks||(o.preOrderHooks=[])).push(u.index),b=!0),!D&&(k.ngOnChanges||k.ngDoCheck)&&((o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(u.index),D=!0),T++}!function(o,a){const l=a.directiveEnd,h=o.data,g=a.attrs,v=[];let b=null,D=null;for(let T=a.directiveStart;T<l;T++){const x=h[T],O=x.inputs,k=null===g||Ry(a)?null:WC(O,g);v.push(k),b=jC(O,T,b),D=jC(x.outputs,T,D)}null!==b&&(b.hasOwnProperty("class")&&(a.flags|=16),b.hasOwnProperty("style")&&(a.flags|=32)),a.initialInputs=v,a.inputs=b,a.outputs=D}(o,u)}v&&function(o,a,u){if(a){const l=o.localNames=[];for(let h=0;h<a.length;h+=2){const g=u[a[h+1]];if(null==g)throw new Qe("301",`Export of name '${a[h+1]}' not found!`);l.push(a[h],g)}}}(u,l,v)}return u.mergedAttrs=Yd(u.mergedAttrs,u.attrs),h}function ul(o,a,u,l,h,g){const v=g.hostBindings;if(v){let b=o.hostBindingOpCodes;null===b&&(b=o.hostBindingOpCodes=[]);const D=~a.index;(function(o){let a=o.length;for(;a>0;){const u=o[--a];if("number"==typeof u&&u<0)return u}return 0})(b)!=D&&b.push(D),b.push(l,h,v)}}function GC(o,a){null!==o.hostBindings&&o.hostBindings(1,a)}function Sr(o,a){a.flags|=2,(o.components||(o.components=[])).push(a.index)}function Zy(o,a,u){if(u){if(a.exportAs)for(let l=0;l<a.exportAs.length;l++)u[a.exportAs[l]]=o;fi(a)&&(u[""]=o)}}function qC(o,a,u){o.flags|=1,o.directiveStart=a,o.directiveEnd=a+u,o.providerIndexes=a}function zC(o,a,u,l,h){o.data[l]=h;const g=h.factory||(h.factory=rs(h.type)),v=new pu(g,fi(h),null);o.blueprint[l]=v,u[l]=v,ul(o,a,0,l,Rh(o,u,h.hostVars,pt),h)}function ZC(o,a,u){const l=Ur(a,o),h=XS(u),g=o[10],v=Pg(o,Mu(o,h,null,u.onPush?64:16,l,a,g,g.createRenderer(l,u),null,null));o[a.index]=v}function Gs(o,a,u,l,h,g){const v=Ur(o,a);!function(o,a,u,l,h,g,v){if(null==g)en(o)?o.removeAttribute(a,h,u):a.removeAttribute(h);else{const b=null==v?Ue(g):v(g,l||"",h);en(o)?o.setAttribute(a,h,b,u):u?a.setAttributeNS(u,h,b):a.setAttribute(h,b)}}(a[11],v,g,o.value,u,l,h)}function cA(o,a,u,l,h,g){const v=g[a];if(null!==v){const b=l.setInput;for(let D=0;D<v.length;){const T=v[D++],x=v[D++],O=v[D++];null!==b?l.setInput(u,O,T,x):u[x]=O}}}function WC(o,a){let u=null,l=0;for(;l<a.length;){const h=a[l];if(0!==h)if(5!==h){if("number"==typeof h)break;o.hasOwnProperty(h)&&(null===u&&(u=[]),u.push(h,o[h],a[l+1])),l+=2}else l+=2;else l+=4}return u}function KC(o,a,u,l){return new Array(o,!0,!1,a,null,0,l,u,null,null)}function Pu(o,a){const u=ur(a,o);if(ou(u)){const l=u[1];80&u[2]?Ou(l,u,l.template,u[8]):u[5]>0&&Ky(u)}}function Ky(o){for(let l=by(o);null!==l;l=wy(l))for(let h=10;h<l.length;h++){const g=l[h];if(1024&g[2]){const v=g[1];Ou(v,g,v.template,g[8])}else g[5]>0&&Ky(g)}const u=o[1].components;if(null!==u)for(let l=0;l<u.length;l++){const h=ur(u[l],o);ou(h)&&h[5]>0&&Ky(h)}}function dA(o,a){const u=ur(a,o),l=u[1];(function(o,a){for(let u=a.length;u<o.blueprint.length;u++)a.push(o.blueprint[u])})(l,u),Mh(l,u,u[8])}function Pg(o,a){return o[13]?o[14][4]=a:o[13]=a,o[14]=a,a}function ys(o){for(;o;){o[2]|=64;const a=mh(o);if(Rd(o)&&!a)return o;o=a}return null}function kg(o,a,u){const l=a[10];l.begin&&l.begin();try{Ou(o,a,o.template,u)}catch(h){throw XC(a,h),h}finally{l.end&&l.end()}}function QC(o){!function(o){for(let a=0;a<o.components.length;a++){const u=o.components[a],l=hr(u),h=l[1];JS(h,l,h.template,u)}}(o[8])}function Qy(o,a,u){$d(0),a(o,u)}const gA=(()=>Promise.resolve(null))();function Jy(o){return o[7]||(o[7]=[])}function Xy(o){return o.cleanup||(o.cleanup=[])}function XC(o,a){const u=o[9],l=u?u.get(K,null):null;l&&l.handleError(a)}function e0(o,a,u,l,h){for(let g=0;g<u.length;){const v=u[g++],b=u[g++],D=a[v],T=o.data[v];null!==T.setInput?T.setInput(D,h,l,b):D[b]=h}}function Lo(o,a,u){const l=ru(a,o);!function(o,a,u){en(o)?o.setValue(a,u):a.textContent=u}(o[11],l,u)}function Ph(o,a,u){let l=u?o.styles:null,h=u?o.classes:null,g=0;if(null!==a)for(let v=0;v<a.length;v++){const b=a[v];"number"==typeof b?g=b:1==g?h=z(h,b):2==g&&(l=z(l,b+": "+a[++v]+";"))}u?o.styles=l:o.stylesWithoutHost=l,u?o.classes=h:o.classesWithoutHost=h}const Fu=new vn("INJECTOR",-1);class Fg{get(a,u=Ei){if(u===Ei){const l=new Error(`NullInjectorError: No provider for ${Y(a)}!`);throw l.name="NullInjectorError",l}return u}}const Fh=new vn("Set Injector scope."),Lh={},_A={};let Hi;function ev(){return void 0===Hi&&(Hi=new Fg),Hi}function tv(o,a=null,u=null,l){return new lO(o,u,a||ev(),l)}class lO{constructor(a,u,l,h=null){this.parent=l,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const g=[];u&&Ot(u,b=>this.processProvider(b,a,u)),Ot([a],b=>this.processInjectorType(b,[],g)),this.records.set(Fu,Lu(void 0,this));const v=this.records.get(Fh);this.scope=null!=v?v.value:null,this.source=h||("object"==typeof a?null:Y(a))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(a=>a.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(a,u=Ei,l=Ae.Default){this.assertNotDestroyed();const h=wi(this),g=cn(void 0);try{if(!(l&Ae.SkipSelf)){let b=this.records.get(a);if(void 0===b){const D=("function"==typeof(o=a)||"object"==typeof o&&o instanceof vn)&&wr(a);b=D&&this.injectableDefInScope(D)?Lu(Yn(a),Lh):null,this.records.set(a,b)}if(null!=b)return this.hydrate(a,b)}return(l&Ae.Self?ev():this.parent).get(a,u=l&Ae.Optional&&u===Ei?null:u)}catch(v){if("NullInjectorError"===v.name){if((v[Bs]=v[Bs]||[]).unshift(Y(a)),h)throw v;return K_(v,a,"R3InjectorError",this.source)}throw v}finally{cn(g),wi(h)}var o}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(a=>this.get(a))}toString(){const a=[];return this.records.forEach((l,h)=>a.push(Y(h))),`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(a,u,l){if(!(a=ne(a)))return!1;let h=Ss(a);const g=null==h&&a.ngModule||void 0,v=void 0===g?a:g,b=-1!==l.indexOf(v);if(void 0!==g&&(h=Ss(g)),null==h)return!1;if(null!=h.imports&&!b){let x;l.push(v);try{Ot(h.imports,O=>{this.processInjectorType(O,u,l)&&(void 0===x&&(x=[]),x.push(O))})}finally{}if(void 0!==x)for(let O=0;O<x.length;O++){const{ngModule:k,providers:U}=x[O];Ot(U,q=>this.processProvider(q,k,U||Ve))}}this.injectorDefTypes.add(v);const D=rs(v)||(()=>new v);this.records.set(v,Lu(D,Lh));const T=h.providers;if(null!=T&&!b){const x=a;Ot(T,O=>this.processProvider(O,x,T))}return void 0!==g&&void 0!==a.providers}processProvider(a,u,l){let h=cl(a=ne(a))?a:ne(a&&a.provide);const g=nv(o=a)?Lu(void 0,o.useValue):Lu(n0(o),Lh);var o;if(cl(a)||!0!==a.multi)this.records.get(h);else{let v=this.records.get(h);v||(v=Lu(void 0,Lh,!0),v.factory=()=>Ro(v.multi),this.records.set(h,v)),h=a,v.multi.push(a)}this.records.set(h,g)}hydrate(a,u){return u.value===Lh&&(u.value=_A,u.value=u.factory()),"object"==typeof u.value&&u.value&&null!==(o=u.value)&&"object"==typeof o&&"function"==typeof o.ngOnDestroy&&this.onDestroy.add(u.value),u.value;var o}injectableDefInScope(a){if(!a.providedIn)return!1;const u=ne(a.providedIn);return"string"==typeof u?"any"===u||u===this.scope:this.injectorDefTypes.has(u)}}function Yn(o){const a=wr(o),u=null!==a?a.factory:rs(o);if(null!==u)return u;if(o instanceof vn)throw new Error(`Token ${Y(o)} is missing a \u0275prov definition.`);if(o instanceof Function)return function(o){const a=o.length;if(a>0){const l=Vs(a,"?");throw new Error(`Can't resolve all parameters for ${Y(o)}: (${l.join(", ")}).`)}const u=function(o){const a=o&&(o[Fn]||o[Wa]);if(a){const u=function(o){if(o.hasOwnProperty("name"))return o.name;const a=(""+o).match(/^function\s*([^\s(]+)/);return null===a?"":a[1]}(o);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),a}return null}(o);return null!==u?()=>u.factory(o):()=>new o}(o);throw new Error("unreachable")}function n0(o,a,u){let l;if(cl(o)){const h=ne(o);return rs(h)||Yn(h)}if(nv(o))l=()=>ne(o.useValue);else if(function(o){return!(!o||!o.useFactory)}(o))l=()=>o.useFactory(...Ro(o.deps||[]));else if(function(o){return!(!o||!o.useExisting)}(o))l=()=>hn(ne(o.useExisting));else{const h=ne(o&&(o.useClass||o.provide));if(!function(o){return!!o.deps}(o))return rs(h)||Yn(h);l=()=>new h(...Ro(o.deps))}return l}function Lu(o,a,u=!1){return{factory:o,value:a,multi:u?[]:void 0}}function nv(o){return null!==o&&"object"==typeof o&&Iu in o}function cl(o){return"function"==typeof o}const a0=function(o,a,u){return function(o,a=null,u=null,l){const h=tv(o,a,u,l);return h._resolveInjectorDefTypes(),h}({name:u},a,o,u)};let Ht=(()=>{class o{static create(u,l){return Array.isArray(u)?a0(u,l,""):a0(u.providers,u.parent,u.name||"")}}return o.THROW_IF_NOT_FOUND=Ei,o.NULL=new Fg,o.\u0275prov=an({token:o,providedIn:"any",factory:()=>hn(Fu)}),o.__NG_ELEMENT_ID__=-1,o})();function DA(o,a){da(hr(o)[1],_n())}function Uu(o){let a=function(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),u=!0;const l=[o];for(;a;){let h;if(fi(o))h=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new Error("Directives cannot inherit Components");h=a.\u0275dir}if(h){if(u){l.push(h);const v=o;v.inputs=$g(o.inputs),v.declaredInputs=$g(o.declaredInputs),v.outputs=$g(o.outputs);const b=h.hostBindings;b&&dv(o,b);const D=h.viewQuery,T=h.contentQueries;if(D&&w0(o,D),T&&IA(o,T),X(o.inputs,h.inputs),X(o.declaredInputs,h.declaredInputs),X(o.outputs,h.outputs),fi(h)&&h.data.animation){const x=o.data;x.animation=(x.animation||[]).concat(h.data.animation)}}const g=h.features;if(g)for(let v=0;v<g.length;v++){const b=g[v];b&&b.ngInherit&&b(o),b===Uu&&(u=!1)}}a=Object.getPrototypeOf(a)}!function(o){let a=0,u=null;for(let l=o.length-1;l>=0;l--){const h=o[l];h.hostVars=a+=h.hostVars,h.hostAttrs=Yd(h.hostAttrs,u=Yd(u,h.hostAttrs))}}(l)}function $g(o){return o===He?{}:o===Ve?[]:o}function w0(o,a){const u=o.viewQuery;o.viewQuery=u?(l,h)=>{a(l,h),u(l,h)}:a}function IA(o,a){const u=o.contentQueries;o.contentQueries=u?(l,h,g)=>{a(l,h,g),u(l,h,g)}:a}function dv(o,a){const u=o.hostBindings;o.hostBindings=u?(l,h)=>{a(l,h),u(l,h)}:a}let zh=null;function Vo(){if(!zh){const o=j.Symbol;if(o&&o.iterator)zh=o.iterator;else{const a=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<a.length;++u){const l=a[u];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(zh=l)}}}return zh}class Ii{constructor(a){this.wrapped=a}static wrap(a){return new Ii(a)}static unwrap(a){return Ii.isWrapped(a)?a.wrapped:a}static isWrapped(a){return a instanceof Ii}}function Zh(o){return!!hv(o)&&(Array.isArray(o)||!(o instanceof Map)&&Vo()in o)}function hv(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function Zs(o,a,u){return o[a]=u}function Ar(o,a,u){return!Object.is(o[a],u)&&(o[a]=u,!0)}function Uo(o,a,u,l){const h=Ar(o,a,u);return Ar(o,a+1,l)||h}function Bo(o,a,u,l){const h=Ie();return Ar(h,ks(),a)&&(Tt(),Gs(nn(),h,o,a,u,l)),Bo}function x0(o,a,u,l,h,g,v,b){const D=Ie(),T=Tt(),x=o+20,O=T.firstCreatePass?function(o,a,u,l,h,g,v,b,D){const T=a.consts,x=xh(a,o,4,v||null,Os(T,b));zy(a,u,x,Os(T,D)),da(a,x);const O=x.tViews=Oh(2,x,l,h,g,a.directiveRegistry,a.pipeRegistry,null,a.schemas,T);return null!==a.queries&&(a.queries.template(a,x),O.queries=a.queries.embeddedTView(x)),x}(x,T,D,a,u,l,h,g,v):T.data[x];ti(O,!1);const k=D[11].createComment("");yh(T,D,k,O),dr(k,D),Pg(D,D[x]=KC(k,D,k,O)),Vr(O)&&VC(T,D,O),null!=v&&Ng(D,O,b)}function gv(o){return iu(ot.lFrame.contextLView,20+o)}function ef(o,a=Ae.Default){const u=Ie();return null===u?hn(o,a):Gp(_n(),u,ne(o),a)}function Wg(o,a,u){const l=Ie();return Ar(l,ks(),a)&&Di(Tt(),nn(),l,o,a,l[11],u,!1),Wg}function Sv(o,a,u,l,h){const v=h?"class":"style";e0(o,u,a.inputs[v],v,l)}function Av(o,a,u,l){const h=Ie(),g=Tt(),v=20+o,b=h[11],D=h[v]=Dy(b,a,ot.lFrame.currentNamespace),T=g.firstCreatePass?function(o,a,u,l,h,g,v){const b=a.consts,T=xh(a,o,2,h,Os(b,g));return zy(a,u,T,Os(b,v)),null!==T.attrs&&Ph(T,T.attrs,!1),null!==T.mergedAttrs&&Ph(T,T.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,T),T}(v,g,h,0,a,u,l):g.data[v];ti(T,!0);const x=T.mergedAttrs;null!==x&&rn(b,D,x);const O=T.classes;null!==O&&xy(b,D,O);const k=T.styles;null!==k&&gC(b,D,k),64!=(64&T.flags)&&yh(g,h,D,T),0===ot.lFrame.elementDepthCount&&dr(D,h),ot.lFrame.elementDepthCount++,Vr(T)&&(VC(g,h,T),function(o,a,u){if(Ja(a)){const h=a.directiveEnd;for(let g=a.directiveStart;g<h;g++){const v=o.data[g];v.contentQueries&&v.contentQueries(1,u[g],g)}}}(g,T,h)),null!==l&&Ng(h,T)}function xv(){let o=_n();Ld()?Ns():(o=o.parent,ti(o,!1));const a=o;ot.lFrame.elementDepthCount--;const u=Tt();u.firstCreatePass&&(da(u,o),Ja(o)&&u.queries.elementEnd(o)),null!=a.classesWithoutHost&&function(o){return 0!=(16&o.flags)}(a)&&Sv(u,a,Ie(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function(o){return 0!=(32&o.flags)}(a)&&Sv(u,a,Ie(),a.stylesWithoutHost,!1)}function j0(o,a,u,l){Av(o,a,u,l),xv()}function El(o){return!!o&&"function"==typeof o.then}function Aa(o){return!!o&&"function"==typeof o.subscribe}const tf=Aa;function xa(o,a,u,l){const h=Ie(),g=Tt(),v=_n();return function(o,a,u,l,h,g,v,b){const D=Vr(l),x=o.firstCreatePass&&Xy(o),O=a[8],k=Jy(a);let U=!0;if(3&l.type||b){const J=Ur(l,a),xe=b?b(J):J,me=k.length,$e=b?rt=>b(tn(rt[l.index])):l.index;if(en(u)){let rt=null;if(!b&&D&&(rt=function(o,a,u,l){const h=o.cleanup;if(null!=h)for(let g=0;g<h.length-1;g+=2){const v=h[g];if(v===u&&h[g+1]===l){const b=a[7],D=h[g+2];return b.length>D?b[D]:null}"string"==typeof v&&(g+=2)}return null}(o,a,h,l.index)),null!==rt)(rt.__ngLastListenerFn__||rt).__ngNextListenerFn__=g,rt.__ngLastListenerFn__=g,U=!1;else{g=Yg(l,a,O,g,!1);const At=u.listen(xe,h,g);k.push(g,At),x&&x.push(h,$e,me,me+1)}}else g=Yg(l,a,O,g,!0),xe.addEventListener(h,g,v),k.push(g),x&&x.push(h,$e,me,v)}else g=Yg(l,a,O,g,!1);const q=l.outputs;let ae;if(U&&null!==q&&(ae=q[h])){const J=ae.length;if(J)for(let xe=0;xe<J;xe+=2){const tr=a[ae[xe]][ae[xe+1]].subscribe(g),Pi=k.length;k.push(g,tr),x&&x.push(h,l.index,Pi,-(Pi+1))}}}(g,h,h[11],v,o,a,!!u,l),xa}function z0(o,a,u,l){try{return!1!==u(l)}catch(h){return XC(o,h),!1}}function Yg(o,a,u,l,h){return function g(v){if(v===Function)return l;const b=2&o.flags?ur(o.index,a):a;0==(32&a[2])&&ys(b);let D=z0(a,0,l,v),T=g.__ngNextListenerFn__;for(;T;)D=z0(a,0,T,v)&&D,T=T.__ngNextListenerFn__;return h&&!1===D&&(v.preventDefault(),v.returnValue=!1),D}}function Z0(o=1){return function(o){return(ot.lFrame.contextLView=function(o,a){for(;o>0;)a=a[15],o--;return a}(o,ot.lFrame.contextLView))[8]}(o)}function W0(o,a){let u=null;const l=function(o){const a=o.attrs;if(null!=a){const u=a.indexOf(5);if(0==(1&u))return a[u+1]}return null}(o);for(let h=0;h<a.length;h++){const g=a[h];if("*"!==g){if(null===l?Ru(o,g,!0):wC(l,g))return h}else u=h}return u}function Rv(o){const a=Ie()[16][6];if(!a.projection){const l=a.projection=Vs(o?o.length:1,null),h=l.slice();let g=a.child;for(;null!==g;){const v=o?W0(g,o):0;null!==v&&(h[v]?h[v].projectionNext=g:l[v]=g,h[v]=g),g=g.next}}}function Qg(o,a=0,u){const l=Ie(),h=Tt(),g=xh(h,20+o,16,null,u||null);null===g.projection&&(g.projection=a),Ns(),64!=(64&g.flags)&&function(o,a,u){jS(a[11],0,a,u,FS(o,u,a),cC(u.parent||a[6],u,a))}(h,l,g)}function tD(o,a,u,l,h){const g=o[u+1],v=null===a;let b=l?Ci(g):Po(g),D=!1;for(;0!==b&&(!1===D||v);){const x=o[b+1];Nv(o[b],a)&&(D=!0,o[b+1]=l?Ch(x):Oy(x)),b=l?Ci(x):Po(x)}D&&(o[u+1]=l?Oy(g):Ch(g))}function Nv(o,a){return null===o||null==a||(Array.isArray(o)?o[1]:o)===a||!(!Array.isArray(o)||"string"!=typeof a)&&Ui(o,a)>=0}function Es(o,a,u){return qr(o,a,u,!1),Es}function je(o,a){return qr(o,a,null,!0),je}function qr(o,a,u,l){const h=Ie(),g=Tt(),v=function(o){const a=ot.lFrame,u=a.bindingIndex;return a.bindingIndex=a.bindingIndex+o,u}(2);g.firstUpdatePass&&function(o,a,u,l){const h=o.data;if(null===h[u+1]){const g=h[Ir()],v=function(o,a){return a>=o.expandoStartIndex}(o,u);(function(o,a){return 0!=(o.flags&(a?16:32))})(g,l)&&null===a&&!v&&(a=!1),a=function(o,a,u,l){const h=function(o){const a=ot.lFrame.currentDirectiveIndex;return-1===a?null:o[a]}(o);let g=l?a.residualClasses:a.residualStyles;if(null===h)0===(l?a.classBindings:a.styleBindings)&&(u=Zi(u=Jn(null,o,a,u,l),a.attrs,l),g=null);else{const v=a.directiveStylingLast;if(-1===v||o[v]!==h)if(u=Jn(h,o,a,u,l),null===g){let D=function(o,a,u){const l=u?a.classBindings:a.styleBindings;if(0!==Po(l))return o[Ci(l)]}(o,a,l);void 0!==D&&Array.isArray(D)&&(D=Jn(null,o,a,D[1],l),D=Zi(D,a.attrs,l),function(o,a,u,l){o[Ci(u?a.classBindings:a.styleBindings)]=l}(o,a,l,D))}else g=function(o,a,u){let l;const h=a.directiveEnd;for(let g=1+a.directiveStylingLast;g<h;g++)l=Zi(l,o[g].hostAttrs,u);return Zi(l,a.attrs,u)}(o,a,l)}return void 0!==g&&(l?a.residualClasses=g:a.residualStyles=g),u}(h,g,a,l),function(o,a,u,l,h,g){let v=g?a.classBindings:a.styleBindings,b=Ci(v),D=Po(v);o[l]=u;let x,T=!1;if(Array.isArray(u)){const O=u;x=O[1],(null===x||Ui(O,x)>0)&&(T=!0)}else x=u;if(h)if(0!==D){const k=Ci(o[b+1]);o[l+1]=bh(k,b),0!==k&&(o[k+1]=wh(o[k+1],l)),o[b+1]=function(o,a){return 131071&o|a<<17}(o[b+1],l)}else o[l+1]=bh(b,0),0!==b&&(o[b+1]=wh(o[b+1],l)),b=l;else o[l+1]=bh(D,0),0===b?b=l:o[D+1]=wh(o[D+1],l),D=l;T&&(o[l+1]=Oy(o[l+1])),tD(o,x,l,!0),tD(o,x,l,!1),function(o,a,u,l,h){const g=h?o.residualClasses:o.residualStyles;null!=g&&"string"==typeof a&&Ui(g,a)>=0&&(u[l+1]=Ch(u[l+1]))}(a,x,o,l,g),v=bh(b,D),g?a.classBindings=v:a.styleBindings=v}(h,g,a,u,v,l)}}(g,o,v,l),a!==pt&&Ar(h,v,a)&&function(o,a,u,l,h,g,v,b){if(!(3&a.type))return;const D=o.data,T=D[b+1];nf(function(o){return 1==(1&o)}(T)?aD(D,a,u,h,Po(T),v):void 0)||(nf(g)||function(o){return 2==(2&o)}(T)&&(g=aD(D,null,u,h,b,v)),function(o,a,u,l,h){const g=en(o);if(a)h?g?o.addClass(u,l):u.classList.add(l):g?o.removeClass(u,l):u.classList.remove(l);else{let v=-1===l.indexOf("-")?void 0:No.DashCase;if(null==h)g?o.removeStyle(u,l,v):u.style.removeProperty(l);else{const b="string"==typeof h&&h.endsWith("!important");b&&(h=h.slice(0,-10),v|=No.Important),g?o.setStyle(u,l,h,v):u.style.setProperty(l,h,b?"important":"")}}}(l,v,ru(Ir(),u),h,g))}(g,g.data[Ir()],h,h[11],o,h[v+1]=function(o,a){return null==o||("string"==typeof a?o+=a:"object"==typeof o&&(o=Y(ji(o)))),o}(a,u),l,v)}function Jn(o,a,u,l,h){let g=null;const v=u.directiveEnd;let b=u.directiveStylingLast;for(-1===b?b=u.directiveStart:b++;b<v&&(g=a[b],l=Zi(l,g.hostAttrs,h),g!==o);)b++;return null!==o&&(u.directiveStylingLast=b),l}function Zi(o,a,u){const l=u?1:2;let h=-1;if(null!==a)for(let g=0;g<a.length;g++){const v=a[g];"number"==typeof v?h=v:h===l&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),Kn(o,v,!!u||a[++g]))}return void 0===o?null:o}function aD(o,a,u,l,h,g){const v=null===a;let b;for(;h>0;){const D=o[h],T=Array.isArray(D),x=T?D[1]:D,O=null===x;let k=u[h+1];k===pt&&(k=O?Ve:void 0);let U=O?wu(k,l):x===l?k:void 0;if(T&&!nf(U)&&(U=wu(D,l)),nf(U)&&(b=U,v))return b;const q=o[h+1];h=v?Ci(q):Po(q)}if(null!==a){let D=g?a.residualClasses:a.residualStyles;null!=D&&(b=wu(D,l))}return b}function nf(o){return void 0!==o}function Vv(o,a=""){const u=Ie(),l=Tt(),h=o+20,g=l.firstCreatePass?xh(l,h,1,a,null):l.data[h],v=u[h]=function(o,a){return en(o)?o.createText(a):o.createTextNode(a)}(u[11],a);yh(l,u,v,g),ti(g,!1)}function gr(o){return wl("",o,""),gr}function wl(o,a,u){const l=Ie(),h=function(o,a,u,l){return Ar(o,ks(),u)?a+Ue(u)+l:pt}(l,o,a,u);return h!==pt&&Lo(l,Ir(),h),wl}function af(o,a,u){const l=Ie();return Ar(l,ks(),a)&&Di(Tt(),nn(),l,o,a,l[11],u,!0),af}const Ho=void 0;var mD=["en",[["a","p"],["AM","PM"],Ho],[["AM","PM"],Ho,Ho],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ho,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ho,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ho,"{1} 'at' {0}",Ho],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(o){const a=Math.floor(Math.abs(o)),u=o.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===u?1:5}];let Tl={};function om(o){const a=function(o){return o.toLowerCase().replace(/_/g,"-")}(o);let u=yD(a);if(u)return u;const l=a.split("-")[0];if(u=yD(l),u)return u;if("en"===l)return mD;throw new Error(`Missing locale data for the locale "${o}".`)}function Kv(o){return om(o)[et.PluralCase]}function yD(o){return o in Tl||(Tl[o]=j.ng&&j.ng.common&&j.ng.common.locales&&j.ng.common.locales[o]),Tl[o]}var et=(()=>((et=et||{})[et.LocaleId=0]="LocaleId",et[et.DayPeriodsFormat=1]="DayPeriodsFormat",et[et.DayPeriodsStandalone=2]="DayPeriodsStandalone",et[et.DaysFormat=3]="DaysFormat",et[et.DaysStandalone=4]="DaysStandalone",et[et.MonthsFormat=5]="MonthsFormat",et[et.MonthsStandalone=6]="MonthsStandalone",et[et.Eras=7]="Eras",et[et.FirstDayOfWeek=8]="FirstDayOfWeek",et[et.WeekendRange=9]="WeekendRange",et[et.DateFormat=10]="DateFormat",et[et.TimeFormat=11]="TimeFormat",et[et.DateTimeFormat=12]="DateTimeFormat",et[et.NumberSymbols=13]="NumberSymbols",et[et.NumberFormats=14]="NumberFormats",et[et.CurrencyCode=15]="CurrencyCode",et[et.CurrencySymbol=16]="CurrencySymbol",et[et.CurrencyName=17]="CurrencyName",et[et.Currencies=18]="Currencies",et[et.Directionality=19]="Directionality",et[et.PluralCase=20]="PluralCase",et[et.ExtraData=21]="ExtraData",et))();const $u="en-US";let ED=$u;function uf(o){on(o,"Expected localeId to be defined"),"string"==typeof o&&(ED=o.toLowerCase().replace(/_/g,"-"))}function Js(o,a,u,l,h){if(o=ne(o),Array.isArray(o))for(let g=0;g<o.length;g++)Js(o[g],a,u,l,h);else{const g=Tt(),v=Ie();let b=cl(o)?o:ne(o.provide),D=n0(o);const T=_n(),x=1048575&T.providerIndexes,O=T.directiveStart,k=T.providerIndexes>>20;if(cl(o)||!o.multi){const U=new pu(D,h,ef),q=vm(b,a,h?x:x+k,O);-1===q?(ft(Do(T,v),g,b),ym(g,o,a.length),a.push(b),T.directiveStart++,T.directiveEnd++,h&&(T.providerIndexes+=1048576),u.push(U),v.push(U)):(u[q]=U,v[q]=U)}else{const U=vm(b,a,x+k,O),q=vm(b,a,x,x+k),ae=U>=0&&u[U],J=q>=0&&u[q];if(h&&!J||!h&&!ae){ft(Do(T,v),g,b);const xe=function(o,a,u,l,h){const g=new pu(o,u,ef);return g.multi=[],g.index=a,g.componentProviders=0,hE(g,h,l&&!u),g}(h?Cx:Ml,u.length,h,l,D);!h&&J&&(u[q].providerFactory=xe),ym(g,o,a.length,0),a.push(b),T.directiveStart++,T.directiveEnd++,h&&(T.providerIndexes+=1048576),u.push(xe),v.push(xe)}else ym(g,o,U>-1?U:q,hE(u[h?q:U],D,!h&&l));!h&&l&&J&&u[q].componentProviders++}}}function ym(o,a,u,l){const h=cl(a);if(h||function(o){return!!o.useClass}(a)){const v=(a.useClass||a).prototype.ngOnDestroy;if(v){const b=o.destroyHooks||(o.destroyHooks=[]);if(!h&&a.multi){const D=b.indexOf(u);-1===D?b.push(u,[l,v]):b[D+1].push(l,v)}else b.push(u,v)}}}function hE(o,a,u){return u&&o.componentProviders++,o.multi.push(a)-1}function vm(o,a,u,l){for(let h=u;h<l;h++)if(a[h]===o)return h;return-1}function Ml(o,a,u,l){return fE(this.multi,[])}function Cx(o,a,u,l){const h=this.multi;let g;if(this.providerFactory){const v=this.providerFactory.componentProviders,b=fa(u,u[1],this.providerFactory.index,l);g=b.slice(0,v),fE(h,g);for(let D=v;D<b.length;D++)g.push(b[D])}else g=[],fE(h,g);return g}function fE(o,a){for(let u=0;u<o.length;u++)a.push((0,o[u])());return a}function UD(o,a=[]){return u=>{u.providersResolver=(l,h)=>function(o,a,u){const l=Tt();if(l.firstCreatePass){const h=fi(o);Js(u,l.data,l.blueprint,h,!0),Js(a,l.data,l.blueprint,h,!1)}}(l,h?h(o):o,a)}}class pE{}const bm="ngComponent";class jD{resolveComponentFactory(a){throw function(o){const a=Error(`No component factory found for ${Y(o)}. Did you add it to @NgModule.entryComponents?`);return a[bm]=o,a}(a)}}let Na=(()=>{class o{}return o.NULL=new jD,o})();function wm(...o){}function Xs(o,a){return new oi(Ur(o,a))}const $D=function(){return Xs(_n(),Ie())};let oi=(()=>{class o{constructor(u){this.nativeElement=u}}return o.__NG_ELEMENT_ID__=$D,o})();function Ol(o){return o instanceof oi?o.nativeElement:o}class xn{}let GD=(()=>{class o{}return o.__NG_ELEMENT_ID__=()=>Tx(),o})();const Tx=function(){const o=Ie(),u=ur(_n().index,o);return function(o){return o[11]}(Lr(u)?u:o)};let Im=(()=>{class o{}return o.\u0275prov=an({token:o,providedIn:"root",factory:()=>null}),o})();class mE{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const Nl=new mE("12.2.7");class _E{constructor(){}supports(a){return Zh(a)}create(a){return new xx(a)}}const qo=(o,a)=>a;class xx{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||qo}forEachItem(a){let u;for(u=this._itHead;null!==u;u=u._next)a(u)}forEachOperation(a){let u=this._itHead,l=this._removalsHead,h=0,g=null;for(;u||l;){const v=!l||u&&u.currentIndex<Tm(l,h,g)?u:l,b=Tm(v,h,g),D=v.currentIndex;if(v===l)h--,l=l._nextRemoved;else if(u=u._next,null==v.previousIndex)h++;else{g||(g=[]);const T=b-h,x=D-h;if(T!=x){for(let k=0;k<T;k++){const U=k<g.length?g[k]:g[k]=0,q=U+k;x<=q&&q<T&&(g[k]=U+1)}g[v.previousIndex]=x-T}}b!==D&&a(v,b,D)}}forEachPreviousItem(a){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)a(u)}forEachAddedItem(a){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)a(u)}forEachMovedItem(a){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)a(u)}forEachRemovedItem(a){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)a(u)}forEachIdentityChange(a){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)a(u)}diff(a){if(null==a&&(a=[]),!Zh(a))throw new Error(`Error trying to diff '${Y(a)}'. Only arrays and iterables are allowed`);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let h,g,v,u=this._itHead,l=!1;if(Array.isArray(a)){this.length=a.length;for(let b=0;b<this.length;b++)g=a[b],v=this._trackByFn(b,g),null!==u&&Object.is(u.trackById,v)?(l&&(u=this._verifyReinsertion(u,g,v,b)),Object.is(u.item,g)||this._addIdentityChange(u,g)):(u=this._mismatch(u,g,v,b),l=!0),u=u._next}else h=0,function(o,a){if(Array.isArray(o))for(let u=0;u<o.length;u++)a(o[u]);else{const u=o[Vo()]();let l;for(;!(l=u.next()).done;)a(l.value)}}(a,b=>{v=this._trackByFn(h,b),null!==u&&Object.is(u.trackById,v)?(l&&(u=this._verifyReinsertion(u,b,v,h)),Object.is(u.item,b)||this._addIdentityChange(u,b)):(u=this._mismatch(u,b,v,h),l=!0),u=u._next,h++}),this.length=h;return this._truncate(u),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,u,l,h){let g;return null===a?g=this._itTail:(g=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(a.item,u)||this._addIdentityChange(a,u),this._reinsertAfter(a,g,h)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(l,h))?(Object.is(a.item,u)||this._addIdentityChange(a,u),this._moveAfter(a,g,h)):a=this._addAfter(new yE(u,l),g,h),a}_verifyReinsertion(a,u,l,h){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==g?a=this._reinsertAfter(g,a._prev,h):a.currentIndex!=h&&(a.currentIndex=h,this._addToMoves(a,h)),a}_truncate(a){for(;null!==a;){const u=a._next;this._addToRemovals(this._unlink(a)),a=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,u,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const h=a._prevRemoved,g=a._nextRemoved;return null===h?this._removalsHead=g:h._nextRemoved=g,null===g?this._removalsTail=h:g._prevRemoved=h,this._insertAfter(a,u,l),this._addToMoves(a,l),a}_moveAfter(a,u,l){return this._unlink(a),this._insertAfter(a,u,l),this._addToMoves(a,l),a}_addAfter(a,u,l){return this._insertAfter(a,u,l),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,u,l){const h=null===u?this._itHead:u._next;return a._next=h,a._prev=u,null===h?this._itTail=a:h._prev=a,null===u?this._itHead=a:u._next=a,null===this._linkedRecords&&(this._linkedRecords=new vE),this._linkedRecords.put(a),a.currentIndex=l,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const u=a._prev,l=a._next;return null===u?this._itHead=l:u._next=l,null===l?this._itTail=u:l._prev=u,a}_addToMoves(a,u){return a.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new vE),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,u){return a.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class yE{constructor(a,u){this.item=a,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class bf{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,u){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===u||u<=l.currentIndex)&&Object.is(l.trackById,a))return l;return null}remove(a){const u=a._prevDup,l=a._nextDup;return null===u?this._head=l:u._nextDup=l,null===l?this._tail=u:l._prevDup=u,null===this._head}}class vE{constructor(){this.map=new Map}put(a){const u=a.trackById;let l=this.map.get(u);l||(l=new bf,this.map.set(u,l)),l.add(a)}get(a,u){const h=this.map.get(a);return h?h.get(a,u):null}remove(a){const u=a.trackById;return this.map.get(u).remove(a)&&this.map.delete(u),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Tm(o,a,u){const l=o.previousIndex;if(null===l)return l;let h=0;return u&&l<u.length&&(h=u[l]),l+a+h}class wf{constructor(){}supports(a){return a instanceof Map||hv(a)}create(){return new zD}}class zD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let u;for(u=this._mapHead;null!==u;u=u._next)a(u)}forEachPreviousItem(a){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)a(u)}forEachChangedItem(a){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)a(u)}forEachAddedItem(a){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)a(u)}forEachRemovedItem(a){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)a(u)}diff(a){if(a){if(!(a instanceof Map||hv(a)))throw new Error(`Error trying to diff '${Y(a)}'. Only maps and objects are allowed`)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(a,(l,h)=>{if(u&&u.key===h)this._maybeAddToChanges(u,l),this._appendAfter=u,u=u._next;else{const g=this._getOrCreateRecordForKey(h,l);u=this._insertBeforeOrAppend(u,g)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let l=u;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,u){if(a){const l=a._prev;return u._next=a,u._prev=l,a._prev=u,l&&(l._next=u),a===this._mapHead&&(this._mapHead=u),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(a,u){if(this._records.has(a)){const h=this._records.get(a);this._maybeAddToChanges(h,u);const g=h._prev,v=h._next;return g&&(g._next=v),v&&(v._prev=g),h._next=null,h._prev=null,h}const l=new EE(a);return this._records.set(a,l),l.currentValue=u,this._addToAdditions(l),l}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,u){Object.is(u,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=u,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,u){a instanceof Map?a.forEach(u):Object.keys(a).forEach(l=>u(a[l],l))}}class EE{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Cf(){return new Sm([new _E])}let Sm=(()=>{class o{constructor(u){this.factories=u}static create(u,l){if(null!=l){const h=l.factories.slice();u=u.concat(h)}return new o(u)}static extend(u){return{provide:o,useFactory:l=>o.create(u,l||Cf()),deps:[[o,new fs,new ii]]}}find(u){const l=this.factories.find(h=>h.supports(u));if(null!=l)return l;throw new Error(`Cannot find a differ supporting object '${u}' of type '${function(o){return o.name||typeof o}(u)}'`)}}return o.\u0275prov=an({token:o,providedIn:"root",factory:Cf}),o})();function Pl(){return new Df([new wf])}let Df=(()=>{class o{constructor(u){this.factories=u}static create(u,l){if(l){const h=l.factories.slice();u=u.concat(h)}return new o(u)}static extend(u){return{provide:o,useFactory:l=>o.create(u,l||Pl()),deps:[[o,new fs,new ii]]}}find(u){const l=this.factories.find(h=>h.supports(u));if(l)return l;throw new Error(`Cannot find a differ supporting object '${u}'`)}}return o.\u0275prov=an({token:o,providedIn:"root",factory:Pl}),o})();function If(o,a,u,l,h=!1){for(;null!==u;){const g=a[u.index];if(null!==g&&l.push(tn(g)),jt(g))for(let b=10;b<g.length;b++){const D=g[b],T=D[1].firstChild;null!==T&&If(D[1],D,T,l)}const v=u.type;if(8&v)If(o,a,u.child,l);else if(32&v){const b=Hs(u,a);let D;for(;D=b();)l.push(D)}else if(16&v){const b=fC(a,u);if(Array.isArray(b))l.push(...b);else{const D=mh(a[16]);If(D[1],D,b,l,!0)}}u=h?u.projectionNext:u.next}return l}class Wu{constructor(a,u){this._lView=a,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const a=this._lView,u=a[1];return If(u,a,u.firstChild,[])}get context(){return this._lView[8]}set context(a){this._lView[8]=a}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[3];if(jt(a)){const u=a[8],l=u?u.indexOf(this):-1;l>-1&&(Iy(a,l),ds(u,l))}this._attachedToViewContainer=!1}kS(this._lView[1],this._lView)}onDestroy(a){BC(this._lView[1],this._lView,null,a)}markForCheck(){ys(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){kg(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(o,a,u){Ps(!0);try{kg(o,a,u)}finally{Ps(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var a;this._appRef=null,Eh(this._lView[1],a=this._lView,a[11],2,null,null)}attachToAppRef(a){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=a}}class bE extends Wu{constructor(a){super(a),this._view=a}detectChanges(){QC(this._view)}checkNoChanges(){!function(o){Ps(!0);try{QC(o)}finally{Ps(!1)}}(this._view)}get context(){return null}}const KD=function(o){return function(o,a,u){if(Ic(o)&&!u){const l=ur(o.index,a);return new Wu(l,l)}return 47&o.type?new Wu(a[16],a):null}(_n(),Ie(),16==(16&o))};let YD=(()=>{class o{}return o.__NG_ELEMENT_ID__=KD,o})();const JD=[new wf],eI=new Sm([new _E]),Am=new Df(JD),tI=function(){return xm(_n(),Ie())};let eo=(()=>{class o{}return o.__NG_ELEMENT_ID__=tI,o})();const Mx=eo,Ox=class extends Mx{constructor(a,u,l){super(),this._declarationLView=a,this._declarationTContainer=u,this.elementRef=l}createEmbeddedView(a){const u=this._declarationTContainer.tViews,l=Mu(this._declarationLView,u,a,16,null,u.declTNode,null,null,null,null);l[17]=this._declarationLView[this._declarationTContainer.index];const g=this._declarationLView[19];return null!==g&&(l[19]=g.createEmbeddedView(u)),Mh(u,l,a),new Wu(l)}};function xm(o,a){return 4&o.type?new Ox(a,o,Xs(o,a)):null}class Yu{}class DE{}const Px=function(){return Vn(_n(),Ie())};let Hn=(()=>{class o{}return o.__NG_ELEMENT_ID__=Px,o})();const Pa=Hn,Rm=class extends Pa{constructor(a,u,l){super(),this._lContainer=a,this._hostTNode=u,this._hostLView=l}get element(){return Xs(this._hostTNode,this._hostLView)}get injector(){return new cs(this._hostTNode,this._hostLView)}get parentInjector(){const a=Hc(this._hostTNode,this._hostLView);if(Bp(a)){const u=mu(a,this._hostLView),l=gu(a);return new cs(u[1].data[l+8],u)}return new cs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const u=nI(this._lContainer);return null!==u&&u[a]||null}get length(){return this._lContainer.length-10}createEmbeddedView(a,u,l){const h=a.createEmbeddedView(u||{});return this.insert(h,l),h}createComponent(a,u,l,h,g){const v=l||this.parentInjector;if(!g&&null==a.ngModule&&v){const D=v.get(Yu,null);D&&(g=D)}const b=a.create(v,h,void 0,g);return this.insert(b.hostView,u),b}insert(a,u){const l=a._lView,h=l[1];if(jt(l[3])){const x=this.indexOf(a);if(-1!==x)this.detach(x);else{const O=l[3],k=new Rm(O,O[6],O[3]);k.detach(k.indexOf(a))}}const g=this._adjustIndex(u),v=this._lContainer;!function(o,a,u,l){const h=10+l,g=u.length;l>0&&(u[h-1][4]=a),l<g-10?(a[4]=u[h],Dn(u,10+l,a)):(u.push(a),a[4]=null),a[3]=u;const v=a[17];null!==v&&u!==v&&function(o,a){const u=o[9];a[16]!==a[3][3][16]&&(o[2]=!0),null===u?o[9]=[a]:u.push(a)}(v,a);const b=a[19];null!==b&&b.insertView(o),a[2]|=128}(h,l,v,g);const b=Sy(g,v),D=l[11],T=Ig(D,v[7]);return null!==T&&function(o,a,u,l,h,g){l[0]=h,l[6]=a,Eh(o,l,u,1,h,g)}(h,v[6],D,l,T,b),a.attachToViewContainerRef(),Dn(Me(v),g,a),a}move(a,u){return this.insert(a,u)}indexOf(a){const u=nI(this._lContainer);return null!==u?u.indexOf(a):-1}remove(a){const u=this._adjustIndex(a,-1),l=Iy(this._lContainer,u);l&&(ds(Me(this._lContainer),u),kS(l[1],l))}detach(a){const u=this._adjustIndex(a,-1),l=Iy(this._lContainer,u);return l&&null!=ds(Me(this._lContainer),u)?new Wu(l):null}_adjustIndex(a,u=0){return null==a?this.length+u:a}};function nI(o){return o[8]}function Me(o){return o[8]||(o[8]=[])}function Vn(o,a){let u;const l=a[o.index];if(jt(l))u=l;else{let h;if(8&o.type)h=tn(l);else{const g=a[11];h=g.createComment("");const v=Ur(o,a);sl(g,Ig(g,v),h,function(o,a){return en(o)?o.nextSibling(a):a.nextSibling}(g,v),!1)}a[o.index]=u=KC(l,a,h,o),Pg(a,u)}return new Rm(u,o,a)}const sc={};class bI extends Na{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const u=Wn(a);return new ql(u,this.ngModule)}}function Um(o){const a=[];for(let u in o)o.hasOwnProperty(u)&&a.push({propName:o[u],templateName:u});return a}const wI=new vn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>gh});class ql extends pE{constructor(a,u){super(),this.componentDef=a,this.ngModule=u,this.componentType=a.type,this.selector=a.selectors.map(eO).join(","),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return Um(this.componentDef.inputs)}get outputs(){return Um(this.componentDef.outputs)}create(a,u,l,h){const g=(h=h||this.ngModule)?function(o,a){return{get:(u,l,h)=>{const g=o.get(u,sc,h);return g!==sc||l===sc?g:a.get(u,l,h)}}}(a,h.injector):a,v=g.get(xn,Nc),b=g.get(Im,null),D=v.createRenderer(null,this.componentDef),T=this.componentDef.selectors[0][0]||"div",x=l?function(o,a,u){if(en(o))return o.selectRootElement(a,u===mn.ShadowDom);let l="string"==typeof a?o.querySelector(a):a;return l.textContent="",l}(D,l,this.componentDef.encapsulation):Dy(v.createRenderer(null,this.componentDef),T,function(o){const a=o.toLowerCase();return"svg"===a?"http://www.w3.org/2000/svg":"math"===a?"http://www.w3.org/1998/MathML/":null}(T)),O=this.componentDef.onPush?576:528,k=function(o,a){return{components:[],scheduler:o||gh,clean:gA,playerHandler:a||null,flags:0}}(),U=Oh(0,null,null,1,0,null,null,null,null,null),q=Mu(null,U,k,O,null,null,v,D,b,g);let ae,J;hu(q);try{const xe=function(o,a,u,l,h,g){const v=u[1];u[20]=o;const D=xh(v,20,2,"#host",null),T=D.mergedAttrs=a.hostAttrs;null!==T&&(Ph(D,T,!0),null!==o&&(rn(h,o,T),null!==D.classes&&xy(h,o,D.classes),null!==D.styles&&gC(h,o,D.styles)));const x=l.createRenderer(o,a),O=Mu(u,XS(a),null,a.onPush?64:16,u[20],D,l,x,g||null,null);return v.firstCreatePass&&(ft(Do(D,u),v,a.type),Sr(v,D),qC(D,u.length,1)),Pg(u,O),u[20]=O}(x,this.componentDef,q,v,D);if(x)if(l)rn(D,x,["ng-version",Nl.full]);else{const{attrs:me,classes:$e}=function(o){const a=[],u=[];let l=1,h=2;for(;l<o.length;){let g=o[l];if("string"==typeof g)2===h?""!==g&&a.push(g,o[++l]):8===h&&u.push(g);else{if(!_s(h))break;h=g}l++}return{attrs:a,classes:u}}(this.componentDef.selectors[0]);me&&rn(D,x,me),$e&&$e.length>0&&xy(D,x,$e.join(" "))}if(J=Ms(U,20),void 0!==u){const me=J.projection=[];for(let $e=0;$e<this.ngContentSelectors.length;$e++){const rt=u[$e];me.push(null!=rt?Array.from(rt):null)}}ae=function(o,a,u,l,h){const g=u[1],v=function(o,a,u){const l=_n();o.firstCreatePass&&(u.providersResolver&&u.providersResolver(u),zC(o,l,a,Rh(o,a,1,null),u));const h=fa(a,o,l.directiveStart,l);dr(h,a);const g=Ur(l,a);return g&&dr(g,a),h}(g,u,a);if(l.components.push(v),o[8]=v,h&&h.forEach(D=>D(v,a)),a.contentQueries){const D=_n();a.contentQueries(1,v,D.directiveStart)}const b=_n();return!g.firstCreatePass||null===a.hostBindings&&null===a.hostAttrs||(Co(b.index),ul(u[1],b,0,b.directiveStart,b.directiveEnd,a),GC(a,v)),v}(xe,this.componentDef,q,k,[DA]),Mh(U,q,null)}finally{Up()}return new DI(this.componentType,ae,Xs(J,q),q,J)}}class DI extends class{}{constructor(a,u,l,h,g){super(),this.location=l,this._rootLView=h,this._tNode=g,this.instance=u,this.hostView=this.changeDetectorRef=new bE(h),this.componentType=a}get injector(){return new cs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}const no=new Map;class AI extends Yu{constructor(a,u){super(),this._parent=u,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new bI(this);const l=or(a),h=a[It]||null;h&&uf(h),this._bootstrapComponents=ms(l.bootstrap),this._r3Injector=tv(a,u,[{provide:Yu,useValue:this},{provide:Na,useValue:this.componentFactoryResolver}],Y(a)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(a)}get(a,u=Ht.THROW_IF_NOT_FOUND,l=Ae.Default){return a===Ht||a===Yu||a===Fu?this:this._r3Injector.get(a,u,l)}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class Un extends DE{constructor(a){super(),this.moduleType=a,null!==or(a)&&function(o){const a=new Set;!function u(l){const h=or(l,!0),g=h.id;null!==g&&(function(o,a,u){if(a&&a!==u)throw new Error(`Duplicate module registered for ${o} - ${Y(a)} vs ${Y(a.name)}`)}(g,no.get(g),l),no.set(g,l));const v=ms(h.imports);for(const b of v)a.has(b)||(a.add(b),u(b))}(o)}(a)}create(a){return new AI(this.moduleType,a)}}function sr(o,a,u,l){return Gt(Ie(),Dr(),o,a,u,l)}function Vf(o,a){const u=o[a];return u===pt?void 0:u}function Gt(o,a,u,l,h,g){const v=a+u;return Ar(o,v,h)?Zs(o,v+1,g?l.call(g,h):l(h)):Vf(o,v+1)}function Uf(o,a,u,l,h,g,v,b){const D=a+u;return function(o,a,u,l,h){const g=Uo(o,a,u,l);return Ar(o,a+2,h)||g}(o,D,h,g,v)?Zs(o,D+3,b?l.call(b,h,g,v):l(h,g,v)):Vf(o,D+3)}function Bf(o,a){const u=Tt();let l;const h=o+20;u.firstCreatePass?(l=function(o,a){if(a)for(let u=a.length-1;u>=0;u--){const l=a[u];if(o===l.name)return l}throw new Qe("302",`The pipe '${o}' could not be found!`)}(a,u.pipeRegistry),u.data[h]=l,l.onDestroy&&(u.destroyHooks||(u.destroyHooks=[])).push(h,l.onDestroy)):l=u.data[h];const g=l.factory||(l.factory=rs(l.type)),v=cn(ef);try{const b=Uc(!1),D=g();return Uc(b),function(o,a,u,l){u>=o.data.length&&(o.data[u]=null,o.blueprint[u]=null),a[u]=l}(u,Ie(),h,D),D}finally{cn(v)}}function UE(o,a,u){const l=o+20,h=Ie(),g=iu(h,l);return Hf(h,jf(h,l)?Gt(h,Dr(),a,g.transform,u,g):g.transform(u))}function BE(o,a,u,l){const h=o+20,g=Ie(),v=iu(g,h);return Hf(g,jf(g,h)?function(o,a,u,l,h,g,v){const b=a+u;return Uo(o,b,h,g)?Zs(o,b+2,v?l.call(v,h,g):l(h,g)):Vf(o,b+2)}(g,Dr(),a,v.transform,u,l,v):v.transform(u,l))}function NI(o,a,u,l,h){const g=o+20,v=Ie(),b=iu(v,g);return Hf(v,jf(v,g)?Uf(v,Dr(),a,b.transform,u,l,h,b):b.transform(u,l,h))}function jf(o,a){return o[1].data[a].pure}function Hf(o,a){return Ii.isWrapped(a)&&(a=Ii.unwrap(a),o[ot.lFrame.bindingIndex]=pt),a}function oc(o){return a=>{setTimeout(o,void 0,a)}}const Ds=class extends f.xQ{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,u,l){var h,g,v;let b=a,D=u||(()=>null),T=l;if(a&&"object"==typeof a){const O=a;b=null===(h=O.next)||void 0===h?void 0:h.bind(O),D=null===(g=O.error)||void 0===g?void 0:g.bind(O),T=null===(v=O.complete)||void 0===v?void 0:v.bind(O)}this.__isAsync&&(D=oc(D),b&&(b=oc(b)),T&&(T=oc(T)));const x=super.subscribe({next:b,error:D,complete:T});return a instanceof te.w&&a.add(x),x}};function tR(){return this._results[Vo()]()}class Bn{constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=Vo(),l=Bn.prototype;l[u]||(l[u]=tR)}get changes(){return this._changes||(this._changes=new Ds)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,u){return this._results.reduce(a,u)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,u){const l=this;l.dirty=!1;const h=ri(a);(this._changesDetected=!function(o,a,u){if(o.length!==a.length)return!1;for(let l=0;l<o.length;l++){let h=o[l],g=a[l];if(u&&(h=u(h),g=u(g)),g!==h)return!1}return!0}(l._results,h,u))&&(l._results=h,l.length=h.length,l.last=h[this.length-1],l.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class Yi{constructor(a){this.queryList=a,this.matches=null}clone(){return new Yi(this.queryList)}setDirty(){this.queryList.setDirty()}}class $f{constructor(a=[]){this.queries=a}createEmbeddedView(a){const u=a.queries;if(null!==u){const l=null!==a.contentQueries?a.contentQueries[0]:u.length,h=[];for(let g=0;g<l;g++){const v=u.getByIndex(g);h.push(this.queries[v.indexInDeclarationView].clone())}return new $f(h)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let u=0;u<this.queries.length;u++)null!==jI(a,u).matches&&this.queries[u].setDirty()}}class HE{constructor(a,u,l=null){this.predicate=a,this.flags=u,this.read=l}}class ac{constructor(a=[]){this.queries=a}elementStart(a,u){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(a,u)}elementEnd(a){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(a)}embeddedTView(a){let u=null;for(let l=0;l<this.length;l++){const h=null!==u?u.length:0,g=this.getByIndex(l).embeddedTView(a,h);g&&(g.indexInDeclarationView=l,null!==u?u.push(g):u=[g])}return null!==u?new ac(u):null}template(a,u){for(let l=0;l<this.queries.length;l++)this.queries[l].template(a,u)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class Hm{constructor(a,u=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(a,u){this.isApplyingToNode(u)&&this.matchTNode(a,u)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,u){this.elementStart(a,u)}embeddedTView(a,u){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,u),new Hm(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let l=a.parent;for(;null!==l&&8&l.type&&l.index!==u;)l=l.parent;return u===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(a,u){const l=this.metadata.predicate;if(Array.isArray(l))for(let h=0;h<l.length;h++){const g=l[h];this.matchTNodeWithReadOption(a,u,LI(u,g)),this.matchTNodeWithReadOption(a,u,vu(u,a,g,!1,!1))}else l===eo?4&u.type&&this.matchTNodeWithReadOption(a,u,-1):this.matchTNodeWithReadOption(a,u,vu(u,a,l,!1,!1))}matchTNodeWithReadOption(a,u,l){if(null!==l){const h=this.metadata.read;if(null!==h)if(h===oi||h===Hn||h===eo&&4&u.type)this.addMatch(u.index,-2);else{const g=vu(u,a,h,!1,!1);null!==g&&this.addMatch(u.index,g)}else this.addMatch(u.index,l)}}addMatch(a,u){null===this.matches?this.matches=[a,u]:this.matches.push(a,u)}}function LI(o,a){const u=o.localNames;if(null!==u)for(let l=0;l<u.length;l+=2)if(u[l]===a)return u[l+1];return null}function nR(o,a,u,l){return-1===u?function(o,a){return 11&o.type?Xs(o,a):4&o.type?xm(o,a):null}(a,o):-2===u?function(o,a,u){return u===oi?Xs(a,o):u===eo?xm(a,o):u===Hn?Vn(a,o):void 0}(o,a,l):fa(o,o[1],u,a)}function Gf(o,a,u,l){const h=a[19].queries[l];if(null===h.matches){const g=o.data,v=u.matches,b=[];for(let D=0;D<v.length;D+=2){const T=v[D];b.push(T<0?null:nR(a,g[T],v[D+1],u.metadata.read))}h.matches=b}return h.matches}function $m(o,a,u,l){const h=o.queries.getByIndex(u),g=h.matches;if(null!==g){const v=Gf(o,a,h,u);for(let b=0;b<g.length;b+=2){const D=g[b];if(D>0)l.push(v[b/2]);else{const T=g[b+1],x=a[-D];for(let O=10;O<x.length;O++){const k=x[O];k[17]===k[3]&&$m(k[1],k,T,l)}if(null!==x[9]){const O=x[9];for(let k=0;k<O.length;k++){const U=O[k];$m(U[1],U,T,l)}}}}}return l}function UI(o){const a=Ie(),u=Tt(),l=wo();$d(l+1);const h=jI(u,l);if(o.dirty&&su(a)===(2==(2&h.metadata.flags))){if(null===h.matches)o.reset([]);else{const g=h.crossesNgTemplate?$m(u,a,l,[]):Gf(u,a,h,l);o.reset(g,Ol),o.notifyOnChanges()}return!0}return!1}function $E(o,a,u){const l=Tt();l.firstCreatePass&&(ZE(l,new HE(o,a,u),-1),2==(2&a)&&(l.staticViewQueries=!0)),zE(l,Ie(),a)}function GE(o,a,u,l){const h=Tt();if(h.firstCreatePass){const g=_n();ZE(h,new HE(a,u,l),g.index),function(o,a){const u=o.contentQueries||(o.contentQueries=[]);a!==(u.length?u[u.length-1]:-1)&&u.push(o.queries.length-1,a)}(h,o),2==(2&u)&&(h.staticContentQueries=!0)}zE(h,Ie(),u)}function qE(){return o=Ie(),a=wo(),o[19].queries[a].queryList;var o,a}function zE(o,a,u){const l=new Bn(4==(4&u));BC(o,a,l,l.destroy),null===a[19]&&(a[19]=new $f),a[19].queries.push(new Yi(l))}function ZE(o,a,u){null===o.queries&&(o.queries=new ac),o.queries.track(new Hm(a,u))}function jI(o,a){return o.queries.getByIndex(a)}const nb=new vn("Application Initializer");let Jl=(()=>{class o{constructor(u){this.appInits=u,this.resolve=wm,this.reject=wm,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,h)=>{this.resolve=l,this.reject=h})}runInitializers(){if(this.initialized)return;const u=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const g=this.appInits[h]();if(El(g))u.push(g);else if(tf(g)){const v=new Promise((b,D)=>{g.subscribe({complete:b,error:D})});u.push(v)}}Promise.all(u).then(()=>{l()}).catch(h=>{this.reject(h)}),0===u.length&&l(),this.initialized=!0}}return o.\u0275fac=function(u){return new(u||o)(hn(nb,8))},o.\u0275prov=an({token:o,factory:o.\u0275fac}),o})();const JI=new vn("AppId"),Xl={provide:JI,useFactory:function(){return`${Qm()}${Qm()}${Qm()}`},deps:[]};function Qm(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const XI=new vn("Platform Initializer"),eT=new vn("Platform ID"),rb=new vn("appBootstrapListener");let Jf=(()=>{class o{log(u){console.log(u)}warn(u){console.warn(u)}}return o.\u0275fac=function(u){return new(u||o)},o.\u0275prov=an({token:o,factory:o.\u0275fac}),o})();const Jm=new vn("LocaleId"),ib=new vn("DefaultCurrencyCode");class iT{constructor(a,u){this.ngModuleFactory=a,this.componentFactories=u}}const sb=function(o){return new Un(o)},oT=sb,IR=function(o){return Promise.resolve(sb(o))},uT=function(o){const a=sb(o),l=ms(or(o).declarations).reduce((h,g)=>{const v=Wn(g);return v&&h.push(new ql(v)),h},[]);return new iT(a,l)},cT=uT,ed=function(o){return Promise.resolve(uT(o))};let fc=(()=>{class o{constructor(){this.compileModuleSync=oT,this.compileModuleAsync=IR,this.compileModuleAndAllComponentsSync=cT,this.compileModuleAndAllComponentsAsync=ed}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return o.\u0275fac=function(u){return new(u||o)},o.\u0275prov=an({token:o,factory:o.\u0275fac}),o})();const dT=(()=>Promise.resolve(0))();function ob(o){"undefined"==typeof Zone?dT.then(()=>{o&&o.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",o)}class Oi{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ds(!1),this.onMicrotaskEmpty=new Ds(!1),this.onStable=new Ds(!1),this.onError=new Ds(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!l&&u,h.shouldCoalesceRunChangeDetection=l,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function(){let o=j.requestAnimationFrame,a=j.cancelAnimationFrame;if("undefined"!=typeof Zone&&o&&a){const u=o[Zone.__symbol__("OriginalDelegate")];u&&(o=u);const l=a[Zone.__symbol__("OriginalDelegate")];l&&(a=l)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function(o){const a=()=>{!function(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(j,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,ep(o),o.isCheckStableRunning=!0,cb(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),ep(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,l,h,g,v,b)=>{try{return er(o),u.invokeTask(h,g,v,b)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||o.shouldCoalesceRunChangeDetection)&&a(),hT(o)}},onInvoke:(u,l,h,g,v,b,D)=>{try{return er(o),u.invoke(h,g,v,b,D)}finally{o.shouldCoalesceRunChangeDetection&&a(),hT(o)}},onHasTask:(u,l,h,g)=>{u.hasTask(h,g),l===h&&("microTask"==g.change?(o._hasPendingMicrotasks=g.microTask,ep(o),cb(o)):"macroTask"==g.change&&(o.hasPendingMacrotasks=g.macroTask))},onHandleError:(u,l,h,g)=>(u.handleError(h,g),o.runOutsideAngular(()=>o.onError.emit(g)),!1)})}(h)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Oi.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Oi.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(a,u,l){return this._inner.run(a,u,l)}runTask(a,u,l,h){const g=this._inner,v=g.scheduleEventTask("NgZoneEvent: "+h,a,ub,wm,wm);try{return g.runTask(v,u,l)}finally{g.cancelTask(v)}}runGuarded(a,u,l){return this._inner.runGuarded(a,u,l)}runOutsideAngular(a){return this._outer.run(a)}}const ub={};function cb(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function ep(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function er(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function hT(o){o._nesting--,cb(o)}class AR{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ds,this.onMicrotaskEmpty=new Ds,this.onStable=new Ds,this.onError=new Ds}run(a,u,l){return a.apply(u,l)}runGuarded(a,u,l){return a.apply(u,l)}runOutsideAngular(a){return a()}runTask(a,u,l,h){return a.apply(u,l)}}let fT=(()=>{class o{constructor(u){this._ngZone=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Oi.assertNotInAngularZone(),ob(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())ob(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(u)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,l,h){let g=-1;l&&l>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==g),u(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:u,timeoutId:g,updateCb:h})}whenStable(u,l,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,l,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(u,l,h){return[]}}return o.\u0275fac=function(u){return new(u||o)(hn(Oi))},o.\u0275prov=an({token:o,factory:o.\u0275fac}),o})(),pT=(()=>{class o{constructor(){this._applications=new Map,tp.addToWindow(this)}registerApplication(u,l){this._applications.set(u,l)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,l=!0){return tp.findTestabilityInTree(this,u,l)}}return o.\u0275fac=function(u){return new(u||o)},o.\u0275prov=an({token:o,factory:o.\u0275fac}),o})();class xR{addToWindow(a){}findTestabilityInTree(a,u,l){return null}}function RR(o){tp=o}let tp=new xR,db=!0,hb=!1;function np(){return hb=!0,db}function r_(){if(hb)throw new Error("Cannot enable prod mode after platform setup.");db=!1}let Yr;const vT=new vn("AllowMultipleToken");class ET{constructor(a,u){this.name=a,this.token=u}}function td(o,a,u=[]){const l=`Platform: ${a}`,h=new vn(l);return(g=[])=>{let v=bT();if(!v||v.injector.get(vT,!1))if(o)o(u.concat(g).concat({provide:h,useValue:!0}));else{const b=u.concat(g).concat({provide:h,useValue:!0},{provide:Fh,useValue:"platform"});!function(o){if(Yr&&!Yr.destroyed&&!Yr.injector.get(vT,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Yr=o.get(wT);const a=o.get(XI,null);a&&a.forEach(u=>u())}(Ht.create({providers:b,name:l}))}return function(o){const a=bT();if(!a)throw new Error("No platform exists!");if(!a.injector.get(o,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return a}(h)}}function bT(){return Yr&&!Yr.destroyed?Yr:null}let wT=(()=>{class o{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,l){const b=function(o,a){let u;return u="noop"===o?new AR:("zone.js"===o?void 0:o)||new Oi({enableLongStackTrace:np(),shouldCoalesceEventChangeDetection:!!(null==a?void 0:a.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==a?void 0:a.ngZoneRunCoalescing)}),u}(l?l.ngZone:void 0,{ngZoneEventCoalescing:l&&l.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:l&&l.ngZoneRunCoalescing||!1}),D=[{provide:Oi,useValue:b}];return b.run(()=>{const T=Ht.create({providers:D,parent:this.injector,name:u.moduleType.name}),x=u.create(T),O=x.injector.get(K,null);if(!O)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return b.runOutsideAngular(()=>{const k=b.onError.subscribe({next:U=>{O.handleError(U)}});x.onDestroy(()=>{rp(this._modules,x),k.unsubscribe()})}),function(o,a,u){try{const l=u();return El(l)?l.catch(h=>{throw a.runOutsideAngular(()=>o.handleError(h)),h}):l}catch(l){throw a.runOutsideAngular(()=>o.handleError(l)),l}}(O,b,()=>{const k=x.injector.get(Jl);return k.runInitializers(),k.donePromise.then(()=>(uf(x.injector.get(Jm,$u)||$u),this._moduleDoBootstrap(x),x))})})}bootstrapModule(u,l=[]){const h=CT({},l);return function(o,a,u){const l=new Un(u);return Promise.resolve(l)}(0,0,u).then(g=>this.bootstrapModuleFactory(g,h))}_moduleDoBootstrap(u){const l=u.injector.get(Qo);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(h=>l.bootstrap(h));else{if(!u.instance.ngDoBootstrap)throw new Error(`The module ${Y(u.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);u.instance.ngDoBootstrap(l)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u()),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(u){return new(u||o)(hn(Ht))},o.\u0275prov=an({token:o,factory:o.\u0275fac}),o})();function CT(o,a){return Array.isArray(a)?a.reduce(CT,o):Object.assign(Object.assign({},o),a)}let Qo=(()=>{class o{constructor(u,l,h,g,v){this._zone=u,this._injector=l,this._exceptionHandler=h,this._componentFactoryResolver=g,this._initStatus=v,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const b=new B.y(T=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{T.next(this._stable),T.complete()})}),D=new B.y(T=>{let x;this._zone.runOutsideAngular(()=>{x=this._zone.onStable.subscribe(()=>{Oi.assertNotInAngularZone(),ob(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,T.next(!0))})})});const O=this._zone.onUnstable.subscribe(()=>{Oi.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{T.next(!1)}))});return()=>{x.unsubscribe(),O.unsubscribe()}});this.isStable=(0,ve.T)(b,D.pipe(o=>(0,ue.x)()(function(o,a){return function(l){let h;h="function"==typeof o?o:function(){return o};const g=Object.create(l,_e.N);return g.source=l,g.subjectFactory=h,g}}($)(o))))}bootstrap(u,l){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let h;h=u instanceof pE?u:this._componentFactoryResolver.resolveComponentFactory(u),this.componentTypes.push(h.componentType);const g=function(o){return o.isBoundToModule}(h)?void 0:this._injector.get(Yu),b=h.create(Ht.NULL,[],l||h.selector,g),D=b.location.nativeElement,T=b.injector.get(fT,null),x=T&&b.injector.get(pT);return T&&x&&x.registerApplication(D,T),b.onDestroy(()=>{this.detachView(b.hostView),rp(this.components,b),x&&x.unregisterApplication(D)}),this._loadComponent(b),b}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const l=u;this._views.push(l),l.attachToAppRef(this)}detachView(u){const l=u;rp(this._views,l),l.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get(rb,[]).concat(this._bootstrapListeners).forEach(h=>h(u))}ngOnDestroy(){this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return o.\u0275fac=function(u){return new(u||o)(hn(Oi),hn(Ht),hn(K),hn(Na),hn(Jl))},o.\u0275prov=an({token:o,factory:o.\u0275fac}),o})();function rp(o,a){const u=o.indexOf(a);u>-1&&o.splice(u,1)}class o_{}class IT{}const LR={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let mb=(()=>{class o{constructor(u,l){this._compiler=u,this._config=l||LR}load(u){return this.loadAndCompile(u)}loadAndCompile(u){let[l,h]=u.split("#");return void 0===h&&(h="default"),L(8255)(l).then(g=>g[h]).then(g=>TT(g,l,h)).then(g=>this._compiler.compileModuleAsync(g))}loadFactory(u){let[l,h]=u.split("#"),g="NgFactory";return void 0===h&&(h="default",g=""),L(8255)(this._config.factoryPathPrefix+l+this._config.factoryPathSuffix).then(v=>v[h+g]).then(v=>TT(v,l,h))}}return o.\u0275fac=function(u){return new(u||o)(hn(fc),hn(IT,8))},o.\u0275prov=an({token:o,factory:o.\u0275fac}),o})();function TT(o,a,u){if(!o)throw new Error(`Cannot find '${u}' in '${a}'`);return o}const rd=function(o){return null},wb=td(null,"core",[{provide:eT,useValue:"unknown"},{provide:wT,deps:[Ht]},{provide:pT,deps:[]},{provide:Jf,deps:[]}]),Ib=[{provide:Qo,useClass:Qo,deps:[Oi,Ht,K,Na,Jl]},{provide:wI,deps:[Oi],useFactory:function(o){let a=[];return o.onStable.subscribe(()=>{for(;a.length;)a.pop()()}),function(u){a.push(u)}}},{provide:Jl,useClass:Jl,deps:[[new ii,nb]]},{provide:fc,useClass:fc,deps:[]},Xl,{provide:Sm,useFactory:function(){return eI},deps:[]},{provide:Df,useFactory:function(){return Am},deps:[]},{provide:Jm,useFactory:function(o){return uf(o=o||"undefined"!=typeof $localize&&$localize.locale||$u),o},deps:[[new Mo(Jm),new ii,new fs]]},{provide:ib,useValue:"USD"}];let PT=(()=>{class o{constructor(u){}}return o.\u0275fac=function(u){return new(u||o)(hn(Qo))},o.\u0275mod=Ka({type:o}),o.\u0275inj=di({providers:Ib}),o})()},8939:(Ge,we,L)=>{"use strict";L.d(we,{hO:()=>Y,xv:()=>$,Dh:()=>ue,GT:()=>oe,on:()=>F,pX:()=>_e});var f=L(3018),te=L(7841),B=L(9126);Ge=L.hmd(Ge);const ve=["ngOnDestroy"],_e=(z,ce,re,ne={})=>new Proxy(z,{get:(Oe,Be)=>re.runOutsideAngular(()=>{var Qe;if(z[Be])return(null===(Qe=null==ne?void 0:ne.spy)||void 0===Qe?void 0:Qe.get)&&ne.spy.get(Be,z[Be]),z[Be];if(ve.indexOf(Be)>-1)return()=>{};const ct=ce.toPromise().then(it=>{const Ue=it&&it[Be];return"function"==typeof Ue?Ue.bind(it):Ue&&Ue.then?Ue.then(bt=>re.run(()=>bt)):re.run(()=>Ue)});return new Proxy(()=>{},{get:(it,Ue)=>ct[Ue],apply:(it,Ue,bt)=>ct.then(Rt=>{var Ce;const se=Rt&&Rt(...bt);return(null===(Ce=null==ne?void 0:ne.spy)||void 0===Ce?void 0:Ce.apply)&&ne.spy.apply(Be,bt,se),se})})})}),oe=(z,ce)=>{ce.forEach(re=>{Object.getOwnPropertyNames(re.prototype||re).forEach(ne=>{Object.defineProperty(z.prototype,ne,Object.getOwnPropertyDescriptor(re.prototype||re,ne))})})};class le{constructor(ce){return ce}}const ue=new f.OlP("angularfire2.app.options"),$=new f.OlP("angularfire2.app.name");function F(z,ce,re){const Oe="object"==typeof re&&re||{};Oe.name=Oe.name||"string"==typeof re&&re||"[DEFAULT]";const Qe=te.Z.apps.filter(ct=>ct&&ct.name===Oe.name)[0]||ce.runOutsideAngular(()=>te.Z.initializeApp(z,Oe));try{JSON.stringify(z)!==JSON.stringify(Qe.options)&&V("error",`${Qe.name} Firebase App already initialized with different options${Ge.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(ct){}return new le(Qe)}const V=(z,...ce)=>{(0,f.X6Q)()&&"undefined"!=typeof console&&console[z](...ce)},X={provide:le,useFactory:F,deps:[ue,f.R0b,[new f.FiY,$]]};let Y=(()=>{class z{constructor(re){te.Z.registerVersion("angularfire",B.q4.full,"core"),te.Z.registerVersion("angularfire",B.q4.full,"app-compat"),te.Z.registerVersion("angular",f.q4F.full,re.toString())}static initializeApp(re,ne){return{ngModule:z,providers:[{provide:ue,useValue:re},{provide:$,useValue:ne}]}}}return z.\u0275fac=function(re){return new(re||z)(f.LFG(f.Lbi))},z.\u0275mod=f.oAB({type:z}),z.\u0275inj=f.cJS({providers:[X]}),z})()},9126:(Ge,we,L)=>{"use strict";L.d(we,{q4:()=>F,iC:()=>se,HU:()=>ct,cc:()=>Y});var f=L(3018);(0,L(5452).registerVersion)("firebase","9.1.0","app");var _e=L(7771),oe=L(3637),le=L(3342),ue=L(9673),$=L(309);Ge=L.hmd(Ge);const F=new f.GfV("7.0.4"),V=!!Ge.hot,X=(pe,...ee)=>{(0,f.X6Q)()&&"undefined"!=typeof console&&console[pe](...ee)};function Y(pe,ee,Re,Ze,wt){const[,tt,mt]=globalThis.\u0275AngularfireInstanceCache.find(Xt=>Xt[0]===pe)||[];if(tt)return function(pe,ee){try{return pe.toString()===ee.toString()}catch(Re){return pe===ee}}(wt,mt)||(X("error",`${ee} was already initialized on the ${Re} Firebase App with different settings.${V?" You may need to reload as Firebase is not HMR aware.":""}`),X("warn",{is:wt,was:mt})),tt;{const Xt=Ze();return globalThis.\u0275AngularfireInstanceCache.push([pe,Xt,wt]),Xt}}function Oe(){}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[]);class Be{constructor(ee,Re=_e.N){this.zone=ee,this.delegate=Re}now(){return this.delegate.now()}schedule(ee,Re,Ze){const wt=this.zone;return this.delegate.schedule(function(mt){wt.runGuarded(()=>{ee.apply(this,[mt])})},Re,Ze)}}class Qe{constructor(ee){this.zone=ee,this.task=null}call(ee,Re){const Ze=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Oe,{},Oe,Oe)),Re.pipe((0,le.b)({next:Ze,complete:Ze,error:Ze})).subscribe(ee).add(Ze)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ct=(()=>{class pe{constructor(Re){this.ngZone=Re,this.outsideAngular=Re.runOutsideAngular(()=>new Be(Zone.current)),this.insideAngular=Re.run(()=>new Be(Zone.current,oe.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return pe.\u0275fac=function(Re){return new(Re||pe)(f.LFG(f.R0b))},pe.\u0275prov=f.Yz7({token:pe,factory:pe.\u0275fac,providedIn:"root"}),pe})();function it(){const pe=globalThis.\u0275AngularFireScheduler;if(!pe)throw new Error("AngularFireModule has not been provided");return pe}function se(pe){return it(),function(pe){return function(Re){return(Re=Re.lift(new Qe(pe.ngZone))).pipe((0,ue.R)(pe.outsideAngular),(0,$.QV)(pe.insideAngular))}}(it())(pe)}},4486:(Ge,we,L)=>{"use strict";L.d(we,{Z:()=>ce});var f=L(3854),te=L(6034),B=L(5452),ve=L(5601);class _e{constructor(ne,Oe){this._delegate=ne,this.firebase=Oe,(0,B._addComponent)(ne,new te.wA("app-compat",()=>this,"PUBLIC")),this.container=ne.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ne){this._delegate.automaticDataCollectionEnabled=ne}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ne=>{this._delegate.checkDestroyed(),ne()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,B.deleteApp)(this._delegate)))}_getService(ne,Oe=B._DEFAULT_ENTRY_NAME){var Be;this._delegate.checkDestroyed();const Qe=this._delegate.container.getProvider(ne);return!Qe.isInitialized()&&"EXPLICIT"===(null===(Be=Qe.getComponent())||void 0===Be?void 0:Be.instantiationMode)&&Qe.initialize(),Qe.getImmediate({identifier:Oe})}_removeServiceInstance(ne,Oe=B._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ne).clearInstance(Oe)}_addComponent(ne){(0,B._addComponent)(this._delegate,ne)}_addOrOverwriteComponent(ne){(0,B._addOrOverwriteComponent)(this._delegate,ne)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const le=new f.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),F=function $(){const re=function(re){const ne={},Oe={__esModule:!0,initializeApp:function(Rt,Ce={}){const se=B.initializeApp(Rt,Ce);if((0,f.r3)(ne,se.name))return ne[se.name];const he=new re(se,Oe);return ne[se.name]=he,he},app:Qe,registerVersion:B.registerVersion,setLogLevel:B.setLogLevel,onLog:B.onLog,apps:null,SDK_VERSION:B.SDK_VERSION,INTERNAL:{registerComponent:function(Rt){const Ce=Rt.name,se=Ce.replace("-compat","");if(B._registerComponent(Rt)&&"PUBLIC"===Rt.type){const he=(ge=Qe())=>{if("function"!=typeof ge[se])throw le.create("invalid-app-argument",{appName:Ce});return ge[se]()};void 0!==Rt.serviceProps&&(0,f.ZB)(he,Rt.serviceProps),Oe[se]=he,re.prototype[se]=function(...ge){return this._getService.bind(this,Ce).apply(this,Rt.multipleInstances?ge:[])}}return"PUBLIC"===Rt.type?Oe[se]:null},removeApp:function(Rt){delete ne[Rt]},useAsService:function(Rt,Ce){return"serverAuth"===Ce?null:Ce},modularAPIs:B}};function Qe(Rt){if(!(0,f.r3)(ne,Rt=Rt||B._DEFAULT_ENTRY_NAME))throw le.create("no-app",{appName:Rt});return ne[Rt]}return Oe.default=Oe,Object.defineProperty(Oe,"apps",{get:function(){return Object.keys(ne).map(Rt=>ne[Rt])}}),Qe.App=re,Oe}(_e);return re.INTERNAL=Object.assign(Object.assign({},re.INTERNAL),{createFirebaseNamespace:$,extendNamespace:function(Oe){(0,f.ZB)(re,Oe)},createSubscribe:f.ne,ErrorFactory:f.LL,deepExtend:f.ZB}),re}(),V=new ve.Yd("@firebase/app-compat");if((0,f.jU)()&&void 0!==self.firebase){V.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const re=self.firebase.SDK_VERSION;re&&re.indexOf("LITE")>=0&&V.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ce=F;(0,B.registerVersion)("@firebase/app-compat","0.1.2",undefined)},5452:(Ge,we,L)=>{"use strict";L.r(we),L.d(we,{FirebaseError:()=>ve.ZR,SDK_VERSION:()=>li,_DEFAULT_ENTRY_NAME:()=>wt,_addComponent:()=>pn,_addOrOverwriteComponent:()=>Jr,_apps:()=>mt,_clearComponents:()=>Pt,_components:()=>Xt,_getProvider:()=>on,_registerComponent:()=>Xr,_removeServiceInstance:()=>st,deleteApp:()=>Ts,getApp:()=>wr,getApps:()=>na,initializeApp:()=>di,onLog:()=>Fn,registerVersion:()=>Ss,setLogLevel:()=>Nr});var f=L(8239),te=L(6034),B=L(5601),ve=L(3854);class _e{constructor(Ae){this.container=Ae}getPlatformInfoString(){return this.container.getProviders().map(zt=>{if(function(lt){const Ae=lt.getComponent();return"VERSION"===(null==Ae?void 0:Ae.type)}(zt)){const un=zt.getImmediate();return`${un.library}/${un.version}`}return null}).filter(zt=>zt).join(" ")}}const le="@firebase/app",$=new B.Yd("@firebase/app"),wt="[DEFAULT]",tt={[le]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},mt=new Map,Xt=new Map;function pn(lt,Ae){try{lt.container.addComponent(Ae)}catch(zt){$.debug(`Component ${Ae.name} failed to register with FirebaseApp ${lt.name}`,zt)}}function Jr(lt,Ae){lt.container.addOrOverwriteComponent(Ae)}function Xr(lt){const Ae=lt.name;if(Xt.has(Ae))return $.debug(`There were multiple attempts to register component ${Ae}.`),!1;Xt.set(Ae,lt);for(const zt of mt.values())pn(zt,lt);return!0}function on(lt,Ae){return lt.container.getProvider(Ae)}function st(lt,Ae,zt=wt){on(lt,Ae).clearInstance(zt)}function Pt(){Xt.clear()}const Xi=new ve.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class an{constructor(Ae,zt,un){this._isDeleted=!1,this._options=Object.assign({},Ae),this._config=Object.assign({},zt),this._name=zt.name,this._automaticDataCollectionEnabled=zt.automaticDataCollectionEnabled,this._container=un,this.container.addComponent(new te.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ae){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ae}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ae){this._isDeleted=Ae}checkDestroyed(){if(this.isDeleted)throw Xi.create("app-deleted",{appName:this._name})}}const li="9.1.0";function di(lt,Ae={}){"object"!=typeof Ae&&(Ae={name:Ae});const zt=Object.assign({name:wt,automaticDataCollectionEnabled:!1},Ae),un=zt.name;if("string"!=typeof un||!un)throw Xi.create("bad-app-name",{appName:String(un)});const cn=mt.get(un);if(cn){if((0,ve.vZ)(lt,cn.options)&&(0,ve.vZ)(zt,cn.config))return cn;throw Xi.create("duplicate-app",{appName:un})}const Vt=new te.H0(un);for(const We of Xt.values())Vt.addComponent(We);const qe=new an(lt,zt,Vt);return mt.set(un,qe),qe}function wr(lt=wt){const Ae=mt.get(lt);if(!Ae)throw Xi.create("no-app",{appName:lt});return Ae}function na(){return Array.from(mt.values())}function Ts(lt){return co.apply(this,arguments)}function co(){return(co=(0,f.Z)(function*(lt){const Ae=lt.name;mt.has(Ae)&&(mt.delete(Ae),yield Promise.all(lt.container.getProviders().map(zt=>zt.delete())),lt.isDeleted=!0)})).apply(this,arguments)}function Ss(lt,Ae,zt){var un;let cn=null!==(un=tt[lt])&&void 0!==un?un:lt;zt&&(cn+=`-${zt}`);const Vt=cn.match(/\s|\//),qe=Ae.match(/\s|\//);if(Vt||qe){const We=[`Unable to register library "${cn}" with version "${Ae}":`];return Vt&&We.push(`library name "${cn}" contains illegal characters (whitespace or "/")`),Vt&&qe&&We.push("and"),qe&&We.push(`version name "${Ae}" contains illegal characters (whitespace or "/")`),void $.warn(We.join(" "))}Xr(new te.wA(`${cn}-version`,()=>({library:cn,version:Ae}),"VERSION"))}function Fn(lt,Ae){if(null!==lt&&"function"!=typeof lt)throw Xi.create("invalid-log-argument");(0,B.Am)(lt,Ae)}function Nr(lt){(0,B.Ub)(lt)}Xr(new te.wA("platform-logger",Ae=>new _e(Ae),"PRIVATE")),Ss(le,"0.7.1",undefined),Ss("fire-js","")},6034:(Ge,we,L)=>{"use strict";L.d(we,{wA:()=>B,H0:()=>ue});var f=L(4762),te=L(3854),B=function(){function $(F,V,X){this.name=F,this.instanceFactory=V,this.type=X,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return $.prototype.setInstantiationMode=function(F){return this.instantiationMode=F,this},$.prototype.setMultipleInstances=function(F){return this.multipleInstances=F,this},$.prototype.setServiceProps=function(F){return this.serviceProps=F,this},$.prototype.setInstanceCreatedCallback=function(F){return this.onInstanceCreated=F,this},$}(),ve="[DEFAULT]",_e=function(){function $(F,V){this.name=F,this.container=V,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return $.prototype.get=function(F){var V=this.normalizeInstanceIdentifier(F);if(!this.instancesDeferred.has(V)){var X=new te.BH;if(this.instancesDeferred.set(V,X),this.isInitialized(V)||this.shouldAutoInitialize())try{var Y=this.getOrInitializeService({instanceIdentifier:V});Y&&X.resolve(Y)}catch(z){}}return this.instancesDeferred.get(V).promise},$.prototype.getImmediate=function(F){var V,X=this.normalizeInstanceIdentifier(null==F?void 0:F.identifier),Y=null!==(V=null==F?void 0:F.optional)&&void 0!==V&&V;if(!this.isInitialized(X)&&!this.shouldAutoInitialize()){if(Y)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:X})}catch(z){if(Y)return null;throw z}},$.prototype.getComponent=function(){return this.component},$.prototype.setComponent=function(F){var V,X;if(F.name!==this.name)throw Error("Mismatching Component "+F.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=F,this.shouldAutoInitialize()){if(function($){return"EAGER"===$.instantiationMode}(F))try{this.getOrInitializeService({instanceIdentifier:ve})}catch(Qe){}try{for(var Y=(0,f.XA)(this.instancesDeferred.entries()),z=Y.next();!z.done;z=Y.next()){var ce=(0,f.CR)(z.value,2),ne=ce[1],Oe=this.normalizeInstanceIdentifier(ce[0]);try{var Be=this.getOrInitializeService({instanceIdentifier:Oe});ne.resolve(Be)}catch(Qe){}}}catch(Qe){V={error:Qe}}finally{try{z&&!z.done&&(X=Y.return)&&X.call(Y)}finally{if(V)throw V.error}}}},$.prototype.clearInstance=function(F){void 0===F&&(F=ve),this.instancesDeferred.delete(F),this.instancesOptions.delete(F),this.instances.delete(F)},$.prototype.delete=function(){return(0,f.mG)(this,void 0,void 0,function(){var F;return(0,f.Jh)(this,function(V){switch(V.label){case 0:return F=Array.from(this.instances.values()),[4,Promise.all((0,f.ev)((0,f.ev)([],(0,f.CR)(F.filter(function(X){return"INTERNAL"in X}).map(function(X){return X.INTERNAL.delete()}))),(0,f.CR)(F.filter(function(X){return"_delete"in X}).map(function(X){return X._delete()}))))];case 1:return V.sent(),[2]}})})},$.prototype.isComponentSet=function(){return null!=this.component},$.prototype.isInitialized=function(F){return void 0===F&&(F=ve),this.instances.has(F)},$.prototype.getOptions=function(F){return void 0===F&&(F=ve),this.instancesOptions.get(F)||{}},$.prototype.initialize=function(F){var V,X;void 0===F&&(F={});var Y=F.options,z=void 0===Y?{}:Y,ce=this.normalizeInstanceIdentifier(F.instanceIdentifier);if(this.isInitialized(ce))throw Error(this.name+"("+ce+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var re=this.getOrInitializeService({instanceIdentifier:ce,options:z});try{for(var ne=(0,f.XA)(this.instancesDeferred.entries()),Oe=ne.next();!Oe.done;Oe=ne.next()){var Be=(0,f.CR)(Oe.value,2),ct=Be[1];ce===this.normalizeInstanceIdentifier(Be[0])&&ct.resolve(re)}}catch(Ue){V={error:Ue}}finally{try{Oe&&!Oe.done&&(X=ne.return)&&X.call(ne)}finally{if(V)throw V.error}}return re},$.prototype.onInit=function(F,V){var X,Y=this.normalizeInstanceIdentifier(V),z=null!==(X=this.onInitCallbacks.get(Y))&&void 0!==X?X:new Set;z.add(F),this.onInitCallbacks.set(Y,z);var ce=this.instances.get(Y);return ce&&F(ce,Y),function(){z.delete(F)}},$.prototype.invokeOnInitCallbacks=function(F,V){var X,Y,z=this.onInitCallbacks.get(V);if(z)try{for(var ce=(0,f.XA)(z),re=ce.next();!re.done;re=ce.next()){var ne=re.value;try{ne(F,V)}catch(Oe){}}}catch(Oe){X={error:Oe}}finally{try{re&&!re.done&&(Y=ce.return)&&Y.call(ce)}finally{if(X)throw X.error}}},$.prototype.getOrInitializeService=function(F){var V=F.instanceIdentifier,X=F.options,Y=void 0===X?{}:X,z=this.instances.get(V);if(!z&&this.component&&(z=this.component.instanceFactory(this.container,{instanceIdentifier:oe(V),options:Y}),this.instances.set(V,z),this.instancesOptions.set(V,Y),this.invokeOnInitCallbacks(z,V),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,V,z)}catch(ce){}return z||null},$.prototype.normalizeInstanceIdentifier=function(F){return void 0===F&&(F=ve),this.component?this.component.multipleInstances?F:ve:F},$.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},$}();function oe($){return $===ve?void 0:$}var ue=function(){function $(F){this.name=F,this.providers=new Map}return $.prototype.addComponent=function(F){var V=this.getProvider(F.name);if(V.isComponentSet())throw new Error("Component "+F.name+" has already been registered with "+this.name);V.setComponent(F)},$.prototype.addOrOverwriteComponent=function(F){this.getProvider(F.name).isComponentSet()&&this.providers.delete(F.name),this.addComponent(F)},$.prototype.getProvider=function(F){if(this.providers.has(F))return this.providers.get(F);var V=new _e(F,this);return this.providers.set(F,V),V},$.prototype.getProviders=function(){return Array.from(this.providers.values())},$}()},5601:(Ge,we,L)=>{"use strict";L.d(we,{in:()=>te,Yd:()=>le,Ub:()=>ue,Am:()=>$});const f=[];var te=(()=>{return(F=te||(te={}))[F.DEBUG=0]="DEBUG",F[F.VERBOSE=1]="VERBOSE",F[F.INFO=2]="INFO",F[F.WARN=3]="WARN",F[F.ERROR=4]="ERROR",F[F.SILENT=5]="SILENT",te;var F})();const B={debug:te.DEBUG,verbose:te.VERBOSE,info:te.INFO,warn:te.WARN,error:te.ERROR,silent:te.SILENT},ve=te.INFO,_e={[te.DEBUG]:"log",[te.VERBOSE]:"log",[te.INFO]:"info",[te.WARN]:"warn",[te.ERROR]:"error"},oe=(F,V,...X)=>{if(V<F.logLevel)return;const Y=(new Date).toISOString(),z=_e[V];if(!z)throw new Error(`Attempted to log a message with an invalid logType (value: ${V})`);console[z](`[${Y}]  ${F.name}:`,...X)};class le{constructor(V){this.name=V,this._logLevel=ve,this._logHandler=oe,this._userLogHandler=null,f.push(this)}get logLevel(){return this._logLevel}set logLevel(V){if(!(V in te))throw new TypeError(`Invalid value "${V}" assigned to \`logLevel\``);this._logLevel=V}setLogLevel(V){this._logLevel="string"==typeof V?B[V]:V}get logHandler(){return this._logHandler}set logHandler(V){if("function"!=typeof V)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=V}get userLogHandler(){return this._userLogHandler}set userLogHandler(V){this._userLogHandler=V}debug(...V){this._userLogHandler&&this._userLogHandler(this,te.DEBUG,...V),this._logHandler(this,te.DEBUG,...V)}log(...V){this._userLogHandler&&this._userLogHandler(this,te.VERBOSE,...V),this._logHandler(this,te.VERBOSE,...V)}info(...V){this._userLogHandler&&this._userLogHandler(this,te.INFO,...V),this._logHandler(this,te.INFO,...V)}warn(...V){this._userLogHandler&&this._userLogHandler(this,te.WARN,...V),this._logHandler(this,te.WARN,...V)}error(...V){this._userLogHandler&&this._userLogHandler(this,te.ERROR,...V),this._logHandler(this,te.ERROR,...V)}}function ue(F){f.forEach(V=>{V.setLogLevel(F)})}function $(F,V){for(const X of f){let Y=null;V&&V.level&&(Y=B[V.level]),X.userLogHandler=null===F?null:(z,ce,...re)=>{const ne=re.map(Oe=>{if(null==Oe)return null;if("string"==typeof Oe)return Oe;if("number"==typeof Oe||"boolean"==typeof Oe)return Oe.toString();if(Oe instanceof Error)return Oe.message;try{return JSON.stringify(Oe)}catch(Be){return null}}).filter(Oe=>Oe).join(" ");ce>=(null!=Y?Y:z.logLevel)&&F({level:te[ce].toLowerCase(),message:ne,args:re,type:z.name})}}}},3854:(Ge,we,L)=>{"use strict";L.d(we,{BH:()=>Y,LL:()=>ee,ZR:()=>pe,tV:()=>$,r3:()=>on,Sg:()=>z,ne:()=>Ts,vZ:()=>Xi,ZB:()=>V,pd:()=>wr,m9:()=>ho,z$:()=>ce,jU:()=>Oe,ru:()=>Be,d:()=>ct,xb:()=>Pt,w1:()=>it,hl:()=>Ce,uI:()=>re,UG:()=>ne,b$:()=>Qe,G6:()=>Rt,Mn:()=>Ue,xO:()=>li,zd:()=>di});const ve=function(H){const G=[];let j=0;for(let De=0;De<H.length;De++){let ie=H.charCodeAt(De);ie<128?G[j++]=ie:ie<2048?(G[j++]=ie>>6|192,G[j++]=63&ie|128):55296==(64512&ie)&&De+1<H.length&&56320==(64512&H.charCodeAt(De+1))?(ie=65536+((1023&ie)<<10)+(1023&H.charCodeAt(++De)),G[j++]=ie>>18|240,G[j++]=ie>>12&63|128,G[j++]=ie>>6&63|128,G[j++]=63&ie|128):(G[j++]=ie>>12|224,G[j++]=ie>>6&63|128,G[j++]=63&ie|128)}return G},oe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(H,G){if(!Array.isArray(H))throw Error("encodeByteArray takes an array as a parameter");this.init_();const j=G?this.byteToCharMapWebSafe_:this.byteToCharMap_,De=[];for(let ie=0;ie<H.length;ie+=3){const He=H[ie],Ve=ie+1<H.length,Ut=Ve?H[ie+1]:0,ln=ie+2<H.length,Wt=ln?H[ie+2]:0;let Kt=(15&Ut)<<2|Wt>>6,nr=63&Wt;ln||(nr=64,Ve||(Kt=64)),De.push(j[He>>2],j[(3&He)<<4|Ut>>4],j[Kt],j[nr])}return De.join("")},encodeString(H,G){return this.HAS_NATIVE_SUPPORT&&!G?btoa(H):this.encodeByteArray(ve(H),G)},decodeString(H,G){return this.HAS_NATIVE_SUPPORT&&!G?atob(H):function(H){const G=[];let j=0,De=0;for(;j<H.length;){const ie=H[j++];if(ie<128)G[De++]=String.fromCharCode(ie);else if(ie>191&&ie<224){const He=H[j++];G[De++]=String.fromCharCode((31&ie)<<6|63&He)}else if(ie>239&&ie<365){const ln=((7&ie)<<18|(63&H[j++])<<12|(63&H[j++])<<6|63&H[j++])-65536;G[De++]=String.fromCharCode(55296+(ln>>10)),G[De++]=String.fromCharCode(56320+(1023&ln))}else{const He=H[j++],Ve=H[j++];G[De++]=String.fromCharCode((15&ie)<<12|(63&He)<<6|63&Ve)}}return G.join("")}(this.decodeStringToByteArray(H,G))},decodeStringToByteArray(H,G){this.init_();const j=G?this.charToByteMapWebSafe_:this.charToByteMap_,De=[];for(let ie=0;ie<H.length;){const He=j[H.charAt(ie++)],Ut=ie<H.length?j[H.charAt(ie)]:0;++ie;const Wt=ie<H.length?j[H.charAt(ie)]:64;++ie;const It=ie<H.length?j[H.charAt(ie)]:64;if(++ie,null==He||null==Ut||null==Wt||null==It)throw Error();De.push(He<<2|Ut>>4),64!==Wt&&(De.push(Ut<<4&240|Wt>>2),64!==It&&De.push(Wt<<6&192|It))}return De},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let H=0;H<this.ENCODED_VALS.length;H++)this.byteToCharMap_[H]=this.ENCODED_VALS.charAt(H),this.charToByteMap_[this.byteToCharMap_[H]]=H,this.byteToCharMapWebSafe_[H]=this.ENCODED_VALS_WEBSAFE.charAt(H),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[H]]=H,H>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(H)]=H,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(H)]=H)}}},ue=function(H){return function(H){const G=ve(H);return oe.encodeByteArray(G,!0)}(H).replace(/\./g,"")},$=function(H){try{return oe.decodeString(H,!0)}catch(G){console.error("base64Decode failed: ",G)}return null};function V(H,G){if(!(G instanceof Object))return G;switch(G.constructor){case Date:return new Date(G.getTime());case Object:void 0===H&&(H={});break;case Array:H=[];break;default:return G}for(const j in G)!G.hasOwnProperty(j)||!X(j)||(H[j]=V(H[j],G[j]));return H}function X(H){return"__proto__"!==H}class Y{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((G,j)=>{this.resolve=G,this.reject=j})}wrapCallback(G){return(j,De)=>{j?this.reject(j):this.resolve(De),"function"==typeof G&&(this.promise.catch(()=>{}),1===G.length?G(j):G(j,De))}}}function z(H,G){if(H.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const De=G||"demo-project",ie=H.iat||0,He=H.sub||H.user_id;if(!He)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ve=Object.assign({iss:`https://securetoken.google.com/${De}`,aud:De,iat:ie,exp:ie+3600,auth_time:ie,sub:He,user_id:He,firebase:{sign_in_provider:"custom",identities:{}}},H);return[ue(JSON.stringify({alg:"none",type:"JWT"})),ue(JSON.stringify(Ve)),""].join(".")}function ce(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function re(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ce())}function ne(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(H){return!1}}function Oe(){return"object"==typeof self&&self.self===self}function Be(){const H="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof H&&void 0!==H.id}function Qe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ct(){return ce().indexOf("Electron/")>=0}function it(){const H=ce();return H.indexOf("MSIE ")>=0||H.indexOf("Trident/")>=0}function Ue(){return ce().indexOf("MSAppHost/")>=0}function Rt(){return!ne()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ce(){return"object"==typeof indexedDB}class pe extends Error{constructor(G,j,De){super(j),this.code=G,this.customData=De,this.name="FirebaseError",Object.setPrototypeOf(this,pe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ee.prototype.create)}}class ee{constructor(G,j,De){this.service=G,this.serviceName=j,this.errors=De}create(G,...j){const De=j[0]||{},ie=`${this.service}/${G}`,He=this.errors[G],Ve=He?function(H,G){return H.replace(Ze,(j,De)=>{const ie=G[De];return null!=ie?String(ie):`<${De}?>`})}(He,De):"Error";return new pe(ie,`${this.serviceName}: ${Ve} (${ie}).`,De)}}const Ze=/\{\$([^}]+)}/g;function on(H,G){return Object.prototype.hasOwnProperty.call(H,G)}function Pt(H){for(const G in H)if(Object.prototype.hasOwnProperty.call(H,G))return!1;return!0}function Xi(H,G){if(H===G)return!0;const j=Object.keys(H),De=Object.keys(G);for(const ie of j){if(!De.includes(ie))return!1;const He=H[ie],Ve=G[ie];if(an(He)&&an(Ve)){if(!Xi(He,Ve))return!1}else if(He!==Ve)return!1}for(const ie of De)if(!j.includes(ie))return!1;return!0}function an(H){return null!==H&&"object"==typeof H}function li(H){const G=[];for(const[j,De]of Object.entries(H))Array.isArray(De)?De.forEach(ie=>{G.push(encodeURIComponent(j)+"="+encodeURIComponent(ie))}):G.push(encodeURIComponent(j)+"="+encodeURIComponent(De));return G.length?"&"+G.join("&"):""}function di(H){const G={};return H.replace(/^\?/,"").split("&").forEach(De=>{if(De){const[ie,He]=De.split("=");G[decodeURIComponent(ie)]=decodeURIComponent(He)}}),G}function wr(H){const G=H.indexOf("?");if(!G)return"";const j=H.indexOf("#",G);return H.substring(G,j>0?j:void 0)}function Ts(H,G){const j=new co(H,G);return j.subscribe.bind(j)}class co{constructor(G,j){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=j,this.task.then(()=>{G(this)}).catch(De=>{this.error(De)})}next(G){this.forEachObserver(j=>{j.next(G)})}error(G){this.forEachObserver(j=>{j.error(G)}),this.close(G)}complete(){this.forEachObserver(G=>{G.complete()}),this.close()}subscribe(G,j,De){let ie;if(void 0===G&&void 0===j&&void 0===De)throw new Error("Missing Observer.");ie=function(H,G){if("object"!=typeof H||null===H)return!1;for(const j of["next","error","complete"])if(j in H&&"function"==typeof H[j])return!0;return!1}(G)?G:{next:G,error:j,complete:De},void 0===ie.next&&(ie.next=Nr),void 0===ie.error&&(ie.error=Nr),void 0===ie.complete&&(ie.complete=Nr);const He=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ie.error(this.finalError):ie.complete()}catch(Ve){}}),this.observers.push(ie),He}unsubscribeOne(G){void 0===this.observers||void 0===this.observers[G]||(delete this.observers[G],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(G){if(!this.finalized)for(let j=0;j<this.observers.length;j++)this.sendOne(j,G)}sendOne(G,j){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[G])try{j(this.observers[G])}catch(De){"undefined"!=typeof console&&console.error&&console.error(De)}})}close(G){this.finalized||(this.finalized=!0,void 0!==G&&(this.finalError=G),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Nr(){}function ho(H){return H&&H._delegate?H._delegate:H}},7841:(Ge,we,L)=>{"use strict";L.d(we,{Z:()=>f.Z});var f=L(4486);f.Z.registerVersion("firebase","9.1.0","app-compat")},670:(Ge,we,L)=>{"use strict";L.r(we);var f=L(8239),te=L(4486),B=L(3854),ve=L(5452),_e=L(4762),oe=L(5601),le=L(6034);const ce=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},re=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ne=new B.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Be=new oe.Yd("@firebase/auth");function Qe(w,..._){Be.logLevel<=oe.in.ERROR&&Be.error(`Auth (${ve.SDK_VERSION}): ${w}`,..._)}function ct(w,..._){throw Rt(w,..._)}function it(w,..._){return Rt(w,..._)}function Ue(w,_,y){const C=Object.assign(Object.assign({},re()),{[_]:y});return new B.LL("auth","Firebase",C).create(_,{appName:w.name})}function bt(w,_,y){if(!(_ instanceof y))throw y.name!==_.constructor.name&&ct(w,"argument-error"),Ue(w,"argument-error",`Type of ${_.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Rt(w,..._){if("string"!=typeof w){const y=_[0],C=[..._.slice(1)];return C[0]&&(C[0].appName=w.name),w._errorFactory.create(y,...C)}return ne.create(w,..._)}function Ce(w,_,...y){if(!w)throw Rt(_,...y)}function se(w){const _="INTERNAL ASSERTION FAILED: "+w;throw Qe(_),new Error(_)}function he(w,_){w||se(_)}const ge=new Map;function fe(w){he(w instanceof Function,"Expected a class definition");let _=ge.get(w);return _?(he(_ instanceof w,"Instance stored in cache mismatched with class"),_):(_=new w,ge.set(w,_),_)}function Re(){var w;return"undefined"!=typeof self&&(null===(w=self.location)||void 0===w?void 0:w.href)||""}function Ze(){return"http:"===wt()||"https:"===wt()}function wt(){var w;return"undefined"!=typeof self&&(null===(w=self.location)||void 0===w?void 0:w.protocol)||null}class Xt{constructor(_,y){this.shortDelay=_,this.longDelay=y,he(y>_,"Short delay should be less than long delay!"),this.isMobile=(0,B.uI)()||(0,B.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ze()||(0,B.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function pn(w,_){he(w.emulator,"Emulator should always be set here");const{url:y}=w.emulator;return _?`${y}${_.startsWith("/")?_.slice(1):_}`:y}class Jr{static initialize(_,y,C){this.fetchImpl=_,y&&(this.headersImpl=y),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void se("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void se("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void se("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Xr={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},on=new Xt(3e4,6e4);function st(w,_){return w.tenantId&&!_.tenantId?Object.assign(Object.assign({},_),{tenantId:w.tenantId}):_}function Pt(w,_,y,C){return uo.apply(this,arguments)}function uo(){return(uo=(0,f.Z)(function*(w,_,y,C,R={}){return Xi(w,R,()=>{let N={},K={};C&&("GET"===_?K=C:N={body:JSON.stringify(C)});const ye=(0,B.xO)(Object.assign({key:w.config.apiKey},K)).slice(1),Pe=new(Jr.headers());return Pe.set("Content-Type","application/json"),Pe.set("X-Client-Version",w._getSdkClientVersion()),w.languageCode&&Pe.set("X-Firebase-Locale",w.languageCode),Jr.fetch()(wr(w,w.config.apiHost,y,ye),Object.assign({method:_,headers:Pe,referrerPolicy:"no-referrer"},N))})})).apply(this,arguments)}function Xi(w,_,y){return an.apply(this,arguments)}function an(){return(an=(0,f.Z)(function*(w,_,y){w._canInitEmulator=!1;const C=Object.assign(Object.assign({},Xr),_);try{const R=new na(w),N=yield Promise.race([y(),R.promise]);R.clearNetworkTimeout();const K=yield N.json();if("needConfirmation"in K)throw Ts(w,"account-exists-with-different-credential",K);if(N.ok&&!("errorMessage"in K))return K;{const ye=N.ok?K.errorMessage:K.error.message,[Pe,ze]=ye.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Pe)throw Ts(w,"credential-already-in-use",K);if("EMAIL_EXISTS"===Pe)throw Ts(w,"email-already-in-use",K);const at=C[Pe]||Pe.toLowerCase().replace(/[_\s]+/g,"-");if(ze)throw Ue(w,at,ze);ct(w,at)}}catch(R){if(R instanceof B.ZR)throw R;ct(w,"network-request-failed")}})).apply(this,arguments)}function li(w,_,y,C){return di.apply(this,arguments)}function di(){return(di=(0,f.Z)(function*(w,_,y,C,R={}){const N=yield Pt(w,_,y,C,R);return"mfaPendingCredential"in N&&ct(w,"multi-factor-auth-required",{serverResponse:N}),N})).apply(this,arguments)}function wr(w,_,y,C){const R=`${_}${y}?${C}`;return w.config.emulator?pn(w.config,R):`${w.config.apiScheme}://${R}`}class na{constructor(_){this.auth=_,this.timer=null,this.promise=new Promise((y,C)=>{this.timer=setTimeout(()=>C(it(this.auth,"timeout")),on.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ts(w,_,y){const C={appName:w.name};y.email&&(C.email=y.email),y.phoneNumber&&(C.phoneNumber=y.phoneNumber);const R=it(w,_,C);return R.customData._tokenResponse=y,R}function Ss(){return(Ss=(0,f.Z)(function*(w,_){return Pt(w,"POST","/v1/accounts:delete",_)})).apply(this,arguments)}function Fn(w,_){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,f.Z)(function*(w,_){return Pt(w,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function Wa(w,_){return lt.apply(this,arguments)}function lt(){return(lt=(0,f.Z)(function*(w,_){return Pt(w,"POST","/v1/accounts:lookup",_)})).apply(this,arguments)}function Ae(w){if(w)try{const _=new Date(Number(w));if(!isNaN(_.getTime()))return _.toUTCString()}catch(_){}}function cn(){return(cn=(0,f.Z)(function*(w,_=!1){const y=(0,B.m9)(w),C=yield y.getIdToken(_),R=qe(C);Ce(R&&R.exp&&R.auth_time&&R.iat,y.auth,"internal-error");const N="object"==typeof R.firebase?R.firebase:void 0,K=null==N?void 0:N.sign_in_provider;return{claims:R,token:C,authTime:Ae(Vt(R.auth_time)),issuedAtTime:Ae(Vt(R.iat)),expirationTime:Ae(Vt(R.exp)),signInProvider:K||null,signInSecondFactor:(null==N?void 0:N.sign_in_second_factor)||null}})).apply(this,arguments)}function Vt(w){return 1e3*Number(w)}function qe(w){const[_,y,C]=w.split(".");if(void 0===_||void 0===y||void 0===C)return Qe("JWT malformed, contained fewer than 3 sections"),null;try{const R=(0,B.tV)(y);return R?JSON.parse(R):(Qe("Failed to decode base64 JWT payload"),null)}catch(R){return Qe("Caught error parsing JWT payload as JSON",R),null}}function gn(w,_){return lo.apply(this,arguments)}function lo(){return(lo=(0,f.Z)(function*(w,_,y=!1){if(y)return _;try{return yield _}catch(C){throw C instanceof B.ZR&&es(C)&&w.auth.currentUser===w&&(yield w.auth.signOut()),C}})).apply(this,arguments)}function es({code:w}){return"auth/user-disabled"===w||"auth/user-token-expired"===w}class mn{constructor(_){this.user=_,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(_){var y;if(_){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const R=(null!==(y=this.user.stsTokenManager.expirationTime)&&void 0!==y?y:0)-Date.now()-3e5;return Math.max(0,R)}}schedule(_=!1){var y=this;if(!this.isRunning)return;const C=this.getInterval(_);this.timerId=setTimeout((0,f.Z)(function*(){yield y.iteration()}),C)}iteration(){var _=this;return(0,f.Z)(function*(){try{yield _.user.getIdToken(!0)}catch(y){return void("auth/network-request-failed"===y.code&&_.schedule(!0))}_.schedule()})()}}class Cr{constructor(_,y){this.createdAt=_,this.lastLoginAt=y,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ae(this.lastLoginAt),this.creationTime=Ae(this.createdAt)}_copy(_){this.createdAt=_.createdAt,this.lastLoginAt=_.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ho(w){return H.apply(this,arguments)}function H(){return(H=(0,f.Z)(function*(w){var _;const y=w.auth,C=yield w.getIdToken(),R=yield gn(w,Wa(y,{idToken:C}));Ce(null==R?void 0:R.users.length,y,"internal-error");const N=R.users[0];w._notifyReloadListener(N);const K=(null===(_=N.providerUserInfo)||void 0===_?void 0:_.length)?ie(N.providerUserInfo):[],ye=De(w.providerData,K),at=!!w.isAnonymous&&!(w.email&&N.passwordHash||(null==ye?void 0:ye.length)),nt={uid:N.localId,displayName:N.displayName||null,photoURL:N.photoUrl||null,email:N.email||null,emailVerified:N.emailVerified||!1,phoneNumber:N.phoneNumber||null,tenantId:N.tenantId||null,providerData:ye,metadata:new Cr(N.createdAt,N.lastLoginAt),isAnonymous:at};Object.assign(w,nt)})).apply(this,arguments)}function j(){return(j=(0,f.Z)(function*(w){const _=(0,B.m9)(w);yield ho(_),yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)})).apply(this,arguments)}function De(w,_){return[...w.filter(C=>!_.some(R=>R.providerId===C.providerId)),..._]}function ie(w){return w.map(_=>{var{providerId:y}=_,C=(0,_e._T)(_,["providerId"]);return{providerId:y,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}function Ve(){return(Ve=(0,f.Z)(function*(w,_){const y=yield Xi(w,{},()=>{const C=(0,B.xO)({grant_type:"refresh_token",refresh_token:_}).slice(1),{tokenApiHost:R,apiKey:N}=w.config,K=wr(w,R,"/v1/token",`key=${N}`);return Jr.fetch()(K,{method:"POST",headers:{"X-Client-Version":w._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:C})});return{accessToken:y.access_token,expiresIn:y.expires_in,refreshToken:y.refresh_token}})).apply(this,arguments)}class Ut{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(_){Ce(_.idToken,"internal-error"),Ce(void 0!==_.idToken,"internal-error"),Ce(void 0!==_.refreshToken,"internal-error");const y="expiresIn"in _&&void 0!==_.expiresIn?Number(_.expiresIn):function(w){const _=qe(w);return Ce(_,"internal-error"),Ce(void 0!==_.exp,"internal-error"),Ce(void 0!==_.iat,"internal-error"),Number(_.exp)-Number(_.iat)}(_.idToken);this.updateTokensAndExpiration(_.idToken,_.refreshToken,y)}getToken(_,y=!1){var C=this;return(0,f.Z)(function*(){return Ce(!C.accessToken||C.refreshToken,_,"user-token-expired"),y||!C.accessToken||C.isExpired?C.refreshToken?(yield C.refresh(_,C.refreshToken),C.accessToken):null:C.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(_,y){var C=this;return(0,f.Z)(function*(){const{accessToken:R,refreshToken:N,expiresIn:K}=yield function(w,_){return Ve.apply(this,arguments)}(_,y);C.updateTokensAndExpiration(R,N,Number(K))})()}updateTokensAndExpiration(_,y,C){this.refreshToken=y||null,this.accessToken=_||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(_,y){const{refreshToken:C,accessToken:R,expirationTime:N}=y,K=new Ut;return C&&(Ce("string"==typeof C,"internal-error",{appName:_}),K.refreshToken=C),R&&(Ce("string"==typeof R,"internal-error",{appName:_}),K.accessToken=R),N&&(Ce("number"==typeof N,"internal-error",{appName:_}),K.expirationTime=N),K}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(_){this.accessToken=_.accessToken,this.refreshToken=_.refreshToken,this.expirationTime=_.expirationTime}_clone(){return Object.assign(new Ut,this.toJSON())}_performRefresh(){return se("not implemented")}}function ln(w,_){Ce("string"==typeof w||void 0===w,"internal-error",{appName:_})}class Wt{constructor(_){var{uid:y,auth:C,stsTokenManager:R}=_,N=(0,_e._T)(_,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new mn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=y,this.auth=C,this.stsTokenManager=R,this.accessToken=R.accessToken,this.displayName=N.displayName||null,this.email=N.email||null,this.emailVerified=N.emailVerified||!1,this.phoneNumber=N.phoneNumber||null,this.photoURL=N.photoURL||null,this.isAnonymous=N.isAnonymous||!1,this.metadata=new Cr(N.createdAt||void 0,N.lastLoginAt||void 0)}getIdToken(_){var y=this;return(0,f.Z)(function*(){const C=yield gn(y,y.stsTokenManager.getToken(y.auth,_));return Ce(C,y.auth,"internal-error"),y.accessToken!==C&&(y.accessToken=C,yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)),C})()}getIdTokenResult(_){return function(w){return cn.apply(this,arguments)}(this,_)}reload(){return function(w){return j.apply(this,arguments)}(this)}_assign(_){this!==_&&(Ce(this.uid===_.uid,this.auth,"internal-error"),this.displayName=_.displayName,this.photoURL=_.photoURL,this.email=_.email,this.emailVerified=_.emailVerified,this.phoneNumber=_.phoneNumber,this.isAnonymous=_.isAnonymous,this.tenantId=_.tenantId,this.providerData=_.providerData.map(y=>Object.assign({},y)),this.metadata._copy(_.metadata),this.stsTokenManager._assign(_.stsTokenManager))}_clone(_){return new Wt(Object.assign(Object.assign({},this),{auth:_,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(_){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=_,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(_){this.reloadListener?this.reloadListener(_):this.reloadUserInfo=_}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(_,y=!1){var C=this;return(0,f.Z)(function*(){let R=!1;_.idToken&&_.idToken!==C.stsTokenManager.accessToken&&(C.stsTokenManager.updateFromServerResponse(_),R=!0),y&&(yield ho(C)),yield C.auth._persistUserIfCurrent(C),R&&C.auth._notifyListenersIfCurrent(C)})()}delete(){var _=this;return(0,f.Z)(function*(){const y=yield _.getIdToken();return yield gn(_,function(w,_){return Ss.apply(this,arguments)}(_.auth,{idToken:y})),_.stsTokenManager.clearRefreshToken(),_.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(_=>Object.assign({},_)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(_,y){var C,R,N,K,ye,Pe,ze,at;const nt=null!==(C=y.displayName)&&void 0!==C?C:void 0,Tn=null!==(R=y.email)&&void 0!==R?R:void 0,Sn=null!==(N=y.phoneNumber)&&void 0!==N?N:void 0,nl=null!==(K=y.photoURL)&&void 0!==K?K:void 0,_y=null!==(ye=y.tenantId)&&void 0!==ye?ye:void 0,bg=null!==(Pe=y._redirectEventId)&&void 0!==Pe?Pe:void 0,wg=null!==(ze=y.createdAt)&&void 0!==ze?ze:void 0,Xw=null!==(at=y.lastLoginAt)&&void 0!==at?at:void 0,{uid:gh,emailVerified:yy,isAnonymous:vy,providerData:Cg,stsTokenManager:Ta}=y;Ce(gh&&Ta,_,"internal-error");const ms=Ut.fromJSON(this.name,Ta);Ce("string"==typeof gh,_,"internal-error"),ln(nt,_.name),ln(Tn,_.name),Ce("boolean"==typeof yy,_,"internal-error"),Ce("boolean"==typeof vy,_,"internal-error"),ln(Sn,_.name),ln(nl,_.name),ln(_y,_.name),ln(bg,_.name),ln(wg,_.name),ln(Xw,_.name);const Ey=new Wt({uid:gh,auth:_,email:Tn,emailVerified:yy,displayName:nt,isAnonymous:vy,photoURL:nl,phoneNumber:Sn,tenantId:_y,stsTokenManager:ms,createdAt:wg,lastLoginAt:Xw});return Cg&&Array.isArray(Cg)&&(Ey.providerData=Cg.map(OS=>Object.assign({},OS))),bg&&(Ey._redirectEventId=bg),Ey}static _fromIdTokenResponse(_,y,C=!1){return(0,f.Z)(function*(){const R=new Ut;R.updateFromServerResponse(y);const N=new Wt({uid:y.localId,auth:_,stsTokenManager:R,isAnonymous:C});return yield ho(N),N})()}}const It=(()=>{class w{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,f.Z)(function*(){return!0})()}_set(y,C){var R=this;return(0,f.Z)(function*(){R.storage[y]=C})()}_get(y){var C=this;return(0,f.Z)(function*(){const R=C.storage[y];return void 0===R?null:R})()}_remove(y){var C=this;return(0,f.Z)(function*(){delete C.storage[y]})()}_addListener(y,C){}_removeListener(y,C){}}return w.type="NONE",w})();function Kt(w,_,y){return`firebase:${w}:${_}:${y}`}class nr{constructor(_,y,C){this.persistence=_,this.auth=y,this.userKey=C;const{config:R,name:N}=this.auth;this.fullUserKey=Kt(this.userKey,R.apiKey,N),this.fullPersistenceKey=Kt("persistence",R.apiKey,N),this.boundEventHandler=y._onStorageEvent.bind(y),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(_){return this.persistence._set(this.fullUserKey,_.toJSON())}getCurrentUser(){var _=this;return(0,f.Z)(function*(){const y=yield _.persistence._get(_.fullUserKey);return y?Wt._fromJSON(_.auth,y):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(_){var y=this;return(0,f.Z)(function*(){if(y.persistence===_)return;const C=yield y.getCurrentUser();return yield y.removeCurrentUser(),y.persistence=_,C?y.setCurrentUser(C):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(_,y,C="authUser"){return(0,f.Z)(function*(){if(!y.length)return new nr(fe(It),_,C);const R=(yield Promise.all(y.map(function(){var ze=(0,f.Z)(function*(at){if(yield at._isAvailable())return at});return function(at){return ze.apply(this,arguments)}}()))).filter(ze=>ze);let N=R[0]||fe(It);const K=Kt(C,_.config.apiKey,_.name);let ye=null;for(const ze of y)try{const at=yield ze._get(K);if(at){const nt=Wt._fromJSON(_,at);ze!==N&&(ye=nt),N=ze;break}}catch(at){}const Pe=R.filter(ze=>ze._shouldAllowMigration);return N._shouldAllowMigration&&Pe.length?(N=Pe[0],ye&&(yield N._set(K,ye.toJSON())),yield Promise.all(y.map(function(){var ze=(0,f.Z)(function*(at){if(at!==N)try{yield at._remove(K)}catch(nt){}});return function(at){return ze.apply(this,arguments)}}())),new nr(N,_,C)):new nr(N,_,C)})()}}function bc(w){const _=w.toLowerCase();if(_.includes("opera/")||_.includes("opr/")||_.includes("opios/"))return"Opera";if(Cc(_))return"IEMobile";if(_.includes("msie")||_.includes("trident/"))return"IE";if(_.includes("edge/"))return"Edge";if(wc(_))return"Firefox";if(_.includes("silk/"))return"Silk";if(Ka(_))return"Blackberry";if(ia(_))return"Webos";if(Dd(_))return"Safari";if((_.includes("chrome/")||Id(_))&&!_.includes("edge/"))return"Chrome";if(ra(_))return"Android";{const C=w.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==C?void 0:C.length))return C[1]}return"Other"}function wc(w=(0,B.z$)()){return/firefox\//i.test(w)}function Dd(w=(0,B.z$)()){const _=w.toLowerCase();return _.includes("safari/")&&!_.includes("chrome/")&&!_.includes("crios/")&&!_.includes("android")}function Id(w=(0,B.z$)()){return/crios\//i.test(w)}function Cc(w=(0,B.z$)()){return/iemobile/i.test(w)}function ra(w=(0,B.z$)()){return/android/i.test(w)}function Ka(w=(0,B.z$)()){return/blackberry/i.test(w)}function ia(w=(0,B.z$)()){return/webos/i.test(w)}function hi(w=(0,B.z$)()){return/iphone|ipad|ipod/i.test(w)}function Vi(w=(0,B.z$)()){return hi(w)||ra(w)||ia(w)||Ka(w)||/windows phone/i.test(w)||Cc(w)}function or(w,_=[]){let y;switch(w){case"Browser":y=bc((0,B.z$)());break;case"Worker":y=`${bc((0,B.z$)())}-${w}`;break;default:y=w}const C=_.length?_.join(","):"FirebaseCore-web";return`${y}/JsCore/${ve.SDK_VERSION}/${C}`}class N_{constructor(_,y){this.app=_,this.config=y,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Le(this),this.idTokenSubscription=new Le(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ne,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=_.name,this.clientVersion=y.sdkClientVersion}_initializeWithPersistence(_,y){var C=this;return y&&(this._popupRedirectResolver=fe(y)),this._initializationPromise=this.queue((0,f.Z)(function*(){var R;C._deleted||(C.persistenceManager=yield nr.create(C,_),!C._deleted&&((null===(R=C._popupRedirectResolver)||void 0===R?void 0:R._shouldInitProactively)&&(yield C._popupRedirectResolver._initialize(C)),yield C.initializeCurrentUser(y),!C._deleted&&(C._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var _=this;return(0,f.Z)(function*(){if(_._deleted)return;const y=yield _.assertedPersistence.getCurrentUser();if(_.currentUser||y){if(_.currentUser&&y&&_.currentUser.uid===y.uid)return _._currentUser._assign(y),void(yield _.currentUser.getIdToken());yield _._updateCurrentUser(y)}})()}initializeCurrentUser(_){var y=this;return(0,f.Z)(function*(){var C;let R=yield y.assertedPersistence.getCurrentUser();if(_&&y.config.authDomain){yield y.getOrInitRedirectPersistenceManager();const N=null===(C=y.redirectUser)||void 0===C?void 0:C._redirectEventId,K=null==R?void 0:R._redirectEventId,ye=yield y.tryRedirectSignIn(_);(!N||N===K)&&(null==ye?void 0:ye.user)&&(R=ye.user)}return R?R._redirectEventId?(Ce(y._popupRedirectResolver,y,"argument-error"),yield y.getOrInitRedirectPersistenceManager(),y.redirectUser&&y.redirectUser._redirectEventId===R._redirectEventId?y.directlySetCurrentUser(R):y.reloadAndSetCurrentUserOrClear(R)):y.reloadAndSetCurrentUserOrClear(R):y.directlySetCurrentUser(null)})()}tryRedirectSignIn(_){var y=this;return(0,f.Z)(function*(){let C=null;try{C=yield y._popupRedirectResolver._completeRedirectFn(y,_,!0)}catch(R){yield y._setRedirectUser(null)}return C})()}reloadAndSetCurrentUserOrClear(_){var y=this;return(0,f.Z)(function*(){try{yield ho(_)}catch(C){if("auth/network-request-failed"!==C.code)return y.directlySetCurrentUser(null)}return y.directlySetCurrentUser(_)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const w=navigator;return w.languages&&w.languages[0]||w.language||null}()}_delete(){var _=this;return(0,f.Z)(function*(){_._deleted=!0})()}updateCurrentUser(_){var y=this;return(0,f.Z)(function*(){const C=_?(0,B.m9)(_):null;return C&&Ce(C.auth.config.apiKey===y.config.apiKey,y,"invalid-user-token"),y._updateCurrentUser(C&&C._clone(y))})()}_updateCurrentUser(_){var y=this;return(0,f.Z)(function*(){if(!y._deleted)return _&&Ce(y.tenantId===_.tenantId,y,"tenant-id-mismatch"),y.queue((0,f.Z)(function*(){yield y.directlySetCurrentUser(_),y.notifyAuthListeners()}))})()}signOut(){var _=this;return(0,f.Z)(function*(){return(_.redirectPersistenceManager||_._popupRedirectResolver)&&(yield _._setRedirectUser(null)),_._updateCurrentUser(null)})()}setPersistence(_){var y=this;return this.queue((0,f.Z)(function*(){yield y.assertedPersistence.setPersistence(fe(_))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(_){this._errorFactory=new B.LL("auth","Firebase",_())}onAuthStateChanged(_,y,C){return this.registerStateListener(this.authStateSubscription,_,y,C)}onIdTokenChanged(_,y,C){return this.registerStateListener(this.idTokenSubscription,_,y,C)}toJSON(){var _;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(_=this._currentUser)||void 0===_?void 0:_.toJSON()}}_setRedirectUser(_,y){var C=this;return(0,f.Z)(function*(){const R=yield C.getOrInitRedirectPersistenceManager(y);return null===_?R.removeCurrentUser():R.setCurrentUser(_)})()}getOrInitRedirectPersistenceManager(_){var y=this;return(0,f.Z)(function*(){if(!y.redirectPersistenceManager){const C=_&&fe(_)||y._popupRedirectResolver;Ce(C,y,"argument-error"),y.redirectPersistenceManager=yield nr.create(y,[fe(C._redirectPersistence)],"redirectUser"),y.redirectUser=yield y.redirectPersistenceManager.getCurrentUser()}return y.redirectPersistenceManager})()}_redirectUserForId(_){var y=this;return(0,f.Z)(function*(){var C,R;return y._isInitialized&&(yield y.queue((0,f.Z)(function*(){}))),(null===(C=y._currentUser)||void 0===C?void 0:C._redirectEventId)===_?y._currentUser:(null===(R=y.redirectUser)||void 0===R?void 0:R._redirectEventId)===_?y.redirectUser:null})()}_persistUserIfCurrent(_){var y=this;return(0,f.Z)(function*(){if(_===y.currentUser)return y.queue((0,f.Z)(function*(){return y.directlySetCurrentUser(_)}))})()}_notifyListenersIfCurrent(_){_===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var _,y;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=null!==(y=null===(_=this.currentUser)||void 0===_?void 0:_.uid)&&void 0!==y?y:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(_,y,C,R){if(this._deleted)return()=>{};const N="function"==typeof y?y:y.next.bind(y),K=this._isInitialized?Promise.resolve():this._initializationPromise;return Ce(K,this,"internal-error"),K.then(()=>N(this.currentUser)),"function"==typeof y?_.addObserver(y,C,R):_.addObserver(y)}directlySetCurrentUser(_){var y=this;return(0,f.Z)(function*(){y.currentUser&&y.currentUser!==_&&(y._currentUser._stopProactiveRefresh(),_&&y.isProactiveRefreshEnabled&&_._startProactiveRefresh()),y.currentUser=_,_?yield y.assertedPersistence.setCurrentUser(_):yield y.assertedPersistence.removeCurrentUser()})()}queue(_){return this.operations=this.operations.then(_,_),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(_){!_||this.frameworks.includes(_)||(this.frameworks.push(_),this.frameworks.sort(),this.clientVersion=or(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function Bt(w){return(0,B.m9)(w)}class Le{constructor(_){this.auth=_,this.observer=null,this.addObserver=(0,B.ne)(y=>this.observer=y)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Yt(w){const _=w.indexOf(":");return _<0?"":w.substr(0,_+1)}function As(w){if(!w)return null;const _=Number(w);return isNaN(_)?null:_}class ar{constructor(_,y){this.providerId=_,this.signInMethod=y}toJSON(){return se("not implemented")}_getIdTokenResponse(_){return se("not implemented")}_linkToIdToken(_,y){return se("not implemented")}_getReauthenticationResolver(_){return se("not implemented")}}function dn(w,_){return po.apply(this,arguments)}function po(){return(po=(0,f.Z)(function*(w,_){return Pt(w,"POST","/v1/accounts:resetPassword",st(w,_))})).apply(this,arguments)}function sa(w,_){return ht.apply(this,arguments)}function ht(){return(ht=(0,f.Z)(function*(w,_){return Pt(w,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function Dc(w,_){return xs.apply(this,arguments)}function xs(){return(xs=(0,f.Z)(function*(w,_){return Pt(w,"POST","/v1/accounts:update",st(w,_))})).apply(this,arguments)}function ei(){return(ei=(0,f.Z)(function*(w,_){return li(w,"POST","/v1/accounts:signInWithPassword",st(w,_))})).apply(this,arguments)}function jn(w,_){return go.apply(this,arguments)}function go(){return(go=(0,f.Z)(function*(w,_){return Pt(w,"POST","/v1/accounts:sendOobCode",st(w,_))})).apply(this,arguments)}function mo(w,_){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,f.Z)(function*(w,_){return jn(w,_)})).apply(this,arguments)}function Zt(w,_){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,f.Z)(function*(w,_){return jn(w,_)})).apply(this,arguments)}function Sd(w,_){return oa.apply(this,arguments)}function oa(){return(oa=(0,f.Z)(function*(w,_){return jn(w,_)})).apply(this,arguments)}function Ad(w,_){return aa.apply(this,arguments)}function aa(){return(aa=(0,f.Z)(function*(w,_){return jn(w,_)})).apply(this,arguments)}function ts(){return(ts=(0,f.Z)(function*(w,_){return li(w,"POST","/v1/accounts:signInWithEmailLink",st(w,_))})).apply(this,arguments)}function xd(){return(xd=(0,f.Z)(function*(w,_){return li(w,"POST","/v1/accounts:signInWithEmailLink",st(w,_))})).apply(this,arguments)}class Lr extends ar{constructor(_,y,C,R=null){super("password",C),this._email=_,this._password=y,this._tenantId=R}static _fromEmailAndPassword(_,y){return new Lr(_,y,"password")}static _fromEmailAndCode(_,y,C=null){return new Lr(_,y,"emailLink",C)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(_){const y="string"==typeof _?JSON.parse(_):_;if((null==y?void 0:y.email)&&(null==y?void 0:y.password)){if("password"===y.signInMethod)return this._fromEmailAndPassword(y.email,y.password);if("emailLink"===y.signInMethod)return this._fromEmailAndCode(y.email,y.password,y.tenantId)}return null}_getIdTokenResponse(_){var y=this;return(0,f.Z)(function*(){switch(y.signInMethod){case"password":return function(w,_){return ei.apply(this,arguments)}(_,{returnSecureToken:!0,email:y._email,password:y._password});case"emailLink":return function(w,_){return ts.apply(this,arguments)}(_,{email:y._email,oobCode:y._password});default:ct(_,"internal-error")}})()}_linkToIdToken(_,y){var C=this;return(0,f.Z)(function*(){switch(C.signInMethod){case"password":return sa(_,{idToken:y,returnSecureToken:!0,email:C._email,password:C._password});case"emailLink":return function(w,_){return xd.apply(this,arguments)}(_,{idToken:y,email:C._email,oobCode:C._password});default:ct(_,"internal-error")}})()}_getReauthenticationResolver(_){return this._getIdTokenResponse(_)}}function jt(w,_){return Ja.apply(this,arguments)}function Ja(){return(Ja=(0,f.Z)(function*(w,_){return li(w,"POST","/v1/accounts:signInWithIdp",st(w,_))})).apply(this,arguments)}class Vr extends ar{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(_){const y=new Vr(_.providerId,_.signInMethod);return _.idToken||_.accessToken?(_.idToken&&(y.idToken=_.idToken),_.accessToken&&(y.accessToken=_.accessToken),_.nonce&&!_.pendingToken&&(y.nonce=_.nonce),_.pendingToken&&(y.pendingToken=_.pendingToken)):_.oauthToken&&_.oauthTokenSecret?(y.accessToken=_.oauthToken,y.secret=_.oauthTokenSecret):ct("argument-error"),y}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(_){const y="string"==typeof _?JSON.parse(_):_,{providerId:C,signInMethod:R}=y,N=(0,_e._T)(y,["providerId","signInMethod"]);if(!C||!R)return null;const K=new Vr(C,R);return Object.assign(K,N),K}_getIdTokenResponse(_){return jt(_,this.buildRequest())}_linkToIdToken(_,y){const C=this.buildRequest();return C.idToken=y,jt(_,C)}_getReauthenticationResolver(_){const y=this.buildRequest();return y.autoCreate=!1,jt(_,y)}buildRequest(){const _={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)_.pendingToken=this.pendingToken;else{const y={};this.idToken&&(y.id_token=this.idToken),this.accessToken&&(y.access_token=this.accessToken),this.secret&&(y.oauth_token_secret=this.secret),y.providerId=this.providerId,this.nonce&&!this.pendingToken&&(y.nonce=this.nonce),_.postBody=(0,B.xO)(y)}return _}}function fi(w,_){return Rd.apply(this,arguments)}function Rd(){return(Rd=(0,f.Z)(function*(w,_){return Pt(w,"POST","/v1/accounts:sendVerificationCode",st(w,_))})).apply(this,arguments)}function Md(){return(Md=(0,f.Z)(function*(w,_){return li(w,"POST","/v1/accounts:signInWithPhoneNumber",st(w,_))})).apply(this,arguments)}function Cp(){return(Cp=(0,f.Z)(function*(w,_){const y=yield li(w,"POST","/v1/accounts:signInWithPhoneNumber",st(w,_));if(y.temporaryProof)throw Ts(w,"account-exists-with-different-credential",y);return y})).apply(this,arguments)}const Dp={USER_NOT_FOUND:"user-not-found"};function Ip(){return(Ip=(0,f.Z)(function*(w,_){return li(w,"POST","/v1/accounts:signInWithPhoneNumber",st(w,Object.assign(Object.assign({},_),{operation:"REAUTH"})),Dp)})).apply(this,arguments)}class ua extends ar{constructor(_){super("phone","phone"),this.params=_}static _fromVerification(_,y){return new ua({verificationId:_,verificationCode:y})}static _fromTokenResponse(_,y){return new ua({phoneNumber:_,temporaryProof:y})}_getIdTokenResponse(_){return function(w,_){return Md.apply(this,arguments)}(_,this._makeVerificationRequest())}_linkToIdToken(_,y){return function(w,_){return Cp.apply(this,arguments)}(_,Object.assign({idToken:y},this._makeVerificationRequest()))}_getReauthenticationResolver(_){return function(w,_){return Ip.apply(this,arguments)}(_,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:_,phoneNumber:y,verificationId:C,verificationCode:R}=this.params;return _&&y?{temporaryProof:_,phoneNumber:y}:{sessionInfo:C,code:R}}toJSON(){const _={providerId:this.providerId};return this.params.phoneNumber&&(_.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(_.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(_.verificationCode=this.params.verificationCode),this.params.verificationId&&(_.verificationId=this.params.verificationId),_}static fromJSON(_){"string"==typeof _&&(_=JSON.parse(_));const{verificationId:y,verificationCode:C,phoneNumber:R,temporaryProof:N}=_;return C||y||R||N?new ua({verificationId:y,verificationCode:C,phoneNumber:R,temporaryProof:N}):null}}class Tc{constructor(_){var y,C,R,N,K,ye;const Pe=(0,B.zd)((0,B.pd)(_)),ze=null!==(y=Pe.apiKey)&&void 0!==y?y:null,at=null!==(C=Pe.oobCode)&&void 0!==C?C:null,nt=function(w){switch(w){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(R=Pe.mode)&&void 0!==R?R:null);Ce(ze&&at&&nt,"argument-error"),this.apiKey=ze,this.operation=nt,this.code=at,this.continueUrl=null!==(N=Pe.continueUrl)&&void 0!==N?N:null,this.languageCode=null!==(K=Pe.languageCode)&&void 0!==K?K:null,this.tenantId=null!==(ye=Pe.tenantId)&&void 0!==ye?ye:null}static parseLink(_){const y=function(w){const _=(0,B.zd)((0,B.pd)(w)).link,y=_?(0,B.zd)((0,B.pd)(_)).deep_link_id:null,C=(0,B.zd)((0,B.pd)(w)).deep_link_id;return(C?(0,B.zd)((0,B.pd)(C)).link:null)||C||y||_||w}(_);try{return new Tc(y)}catch(C){return null}}}let Tp=(()=>{class w{constructor(){this.providerId=w.PROVIDER_ID}static credential(y,C){return Lr._fromEmailAndPassword(y,C)}static credentialWithLink(y,C){const R=Tc.parseLink(C);return Ce(R,"argument-error"),Lr._fromEmailAndCode(y,R.code,R.tenantId)}}return w.PROVIDER_ID="password",w.EMAIL_PASSWORD_SIGN_IN_METHOD="password",w.EMAIL_LINK_SIGN_IN_METHOD="emailLink",w})();class _o{constructor(_){this.providerId=_,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(_){this.defaultLanguageCode=_}setCustomParameters(_){return this.customParameters=_,this}getCustomParameters(){return this.customParameters}}class ns extends _o{constructor(){super(...arguments),this.scopes=[]}addScope(_){return this.scopes.includes(_)||this.scopes.push(_),this}getScopes(){return[...this.scopes]}}class yo extends ns{static credentialFromJSON(_){const y="string"==typeof _?JSON.parse(_):_;return Ce("providerId"in y&&"signInMethod"in y,"argument-error"),Vr._fromParams(y)}credential(_){return this._credential(_)}_credential(_){return Ce(_.idToken||_.accessToken,"argument-error"),Vr._fromParams(Object.assign(Object.assign({},_),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(_){return yo.oauthCredentialFromTaggedObject(_)}static credentialFromError(_){return yo.oauthCredentialFromTaggedObject(_.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:y,oauthAccessToken:C,oauthTokenSecret:R,pendingToken:N,nonce:K,providerId:ye}=_;if(!C&&!R&&!y&&!N||!ye)return null;try{return new yo(ye)._credential({idToken:y,accessToken:C,rawNonce:K,pendingToken:N})}catch(Pe){return null}}}let Od=(()=>{class w extends ns{constructor(){super("facebook.com")}static credential(y){return Vr._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.FACEBOOK_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return w.credential(y.oauthAccessToken)}catch(C){return null}}}return w.FACEBOOK_SIGN_IN_METHOD="facebook.com",w.PROVIDER_ID="facebook.com",w})(),Sc=(()=>{class w extends ns{constructor(){super("google.com"),this.addScope("profile")}static credential(y,C){return Vr._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GOOGLE_SIGN_IN_METHOD,idToken:y,accessToken:C})}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:C,oauthAccessToken:R}=y;if(!C&&!R)return null;try{return w.credential(C,R)}catch(N){return null}}}return w.GOOGLE_SIGN_IN_METHOD="google.com",w.PROVIDER_ID="google.com",w})(),Nd=(()=>{class w extends ns{constructor(){super("github.com")}static credential(y){return Vr._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GITHUB_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return w.credential(y.oauthAccessToken)}catch(C){return null}}}return w.GITHUB_SIGN_IN_METHOD="github.com",w.PROVIDER_ID="github.com",w})();class ca extends ar{constructor(_,y){super(_,_),this.pendingToken=y}_getIdTokenResponse(_){return jt(_,this.buildRequest())}_linkToIdToken(_,y){const C=this.buildRequest();return C.idToken=y,jt(_,C)}_getReauthenticationResolver(_){const y=this.buildRequest();return y.autoCreate=!1,jt(_,y)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(_){const y="string"==typeof _?JSON.parse(_):_,{providerId:C,signInMethod:R,pendingToken:N}=y;return C&&R&&N&&C===R?new ca(C,N):null}static _create(_,y){return new ca(_,y)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}let Pd=(()=>{class w extends ns{constructor(){super("twitter.com")}static credential(y,C){return Vr._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.TWITTER_SIGN_IN_METHOD,oauthToken:y,oauthTokenSecret:C})}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthAccessToken:C,oauthTokenSecret:R}=y;if(!C||!R)return null;try{return w.credential(C,R)}catch(N){return null}}}return w.TWITTER_SIGN_IN_METHOD="twitter.com",w.PROVIDER_ID="twitter.com",w})();function Ac(w,_){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,f.Z)(function*(w,_){return li(w,"POST","/v1/accounts:signUp",st(w,_))})).apply(this,arguments)}class pi{constructor(_){this.user=_.user,this.providerId=_.providerId,this._tokenResponse=_._tokenResponse,this.operationType=_.operationType}static _fromIdTokenResponse(_,y,C,R=!1){return(0,f.Z)(function*(){const N=yield Wt._fromIdTokenResponse(_,C,R),K=k_(C);return new pi({user:N,providerId:K,_tokenResponse:C,operationType:y})})()}static _forOperation(_,y,C){return(0,f.Z)(function*(){yield _._updateTokensIfNecessary(C,!0);const R=k_(C);return new pi({user:_,providerId:R,_tokenResponse:C,operationType:y})})()}}function k_(w){return w.providerId?w.providerId:"phoneNumber"in w?"phone":null}function eu(){return(eu=(0,f.Z)(function*(w){var _;const y=Bt(w);if(yield y._initializationPromise,null===(_=y.currentUser)||void 0===_?void 0:_.isAnonymous)return new pi({user:y.currentUser,providerId:null,operationType:"signIn"});const C=yield Ac(y,{returnSecureToken:!0}),R=yield pi._fromIdTokenResponse(y,"signIn",C,!0);return yield y._updateCurrentUser(R.user),R})).apply(this,arguments)}class xc extends B.ZR{constructor(_,y,C,R){var N;super(y.code,y.message),this.operationType=C,this.user=R,this.name="FirebaseError",Object.setPrototypeOf(this,xc.prototype),this.appName=_.name,this.code=y.code,this.tenantId=null!==(N=_.tenantId)&&void 0!==N?N:void 0,this.serverResponse=y.customData.serverResponse}static _fromErrorAndOperation(_,y,C,R){return new xc(_,y,C,R)}}function tu(w,_,y,C){return("reauthenticate"===_?y._getReauthenticationResolver(w):y._getIdTokenResponse(w)).catch(N=>{throw"auth/multi-factor-auth-required"===N.code?xc._fromErrorAndOperation(w,N,_,C):N})}function Sp(w){return new Set(w.map(({providerId:_})=>_).filter(_=>!!_))}function Rc(){return(Rc=(0,f.Z)(function*(w,_){const y=(0,B.m9)(w);yield Rs(!0,y,_);const{providerUserInfo:C}=yield Fn(y.auth,{idToken:yield y.getIdToken(),deleteProvider:[_]}),R=Sp(C||[]);return y.providerData=y.providerData.filter(N=>R.has(N.providerId)),R.has("phone")||(y.phoneNumber=null),yield y.auth._persistUserIfCurrent(y),y})).apply(this,arguments)}function Mc(w,_){return vo.apply(this,arguments)}function vo(){return(vo=(0,f.Z)(function*(w,_,y=!1){const C=yield gn(w,_._linkToIdToken(w.auth,yield w.getIdToken()),y);return pi._forOperation(w,"link",C)})).apply(this,arguments)}function Rs(w,_,y){return nu.apply(this,arguments)}function nu(){return(nu=(0,f.Z)(function*(w,_,y){yield ho(_);const R=!1===w?"provider-already-linked":"no-such-provider";Ce(Sp(_.providerData).has(y)===w,_.auth,R)})).apply(this,arguments)}function Oc(w,_){return en.apply(this,arguments)}function en(){return(en=(0,f.Z)(function*(w,_,y=!1){const{auth:C}=w,R="reauthenticate";try{const N=yield gn(w,tu(C,R,_,w),y);Ce(N.idToken,C,"internal-error");const K=qe(N.idToken);Ce(K,C,"internal-error");const{sub:ye}=K;return Ce(w.uid===ye,C,"user-mismatch"),pi._forOperation(w,R,N)}catch(N){throw"auth/user-not-found"===(null==N?void 0:N.code)&&ct(C,"user-mismatch"),N}})).apply(this,arguments)}function Ap(w,_){return Nc.apply(this,arguments)}function Nc(){return(Nc=(0,f.Z)(function*(w,_,y=!1){const C="signIn",R=yield tu(w,C,_),N=yield pi._fromIdTokenResponse(w,C,R);return y||(yield w._updateCurrentUser(N.user)),N})).apply(this,arguments)}function Pc(w,_){return tn.apply(this,arguments)}function tn(){return(tn=(0,f.Z)(function*(w,_){return Ap(Bt(w),_)})).apply(this,arguments)}function xp(w,_){return Rp.apply(this,arguments)}function Rp(){return(Rp=(0,f.Z)(function*(w,_){const y=(0,B.m9)(w);return yield Rs(!1,y,_.providerId),Mc(y,_)})).apply(this,arguments)}function ru(w,_){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,f.Z)(function*(w,_){return Oc((0,B.m9)(w),_)})).apply(this,arguments)}function _w(w,_){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,f.Z)(function*(w,_){return li(w,"POST","/v1/accounts:signInWithCustomToken",st(w,_))})).apply(this,arguments)}function ur(){return(ur=(0,f.Z)(function*(w,_){const y=Bt(w),C=yield _w(y,{token:_,returnSecureToken:!0}),R=yield pi._fromIdTokenResponse(y,"signIn",C);return yield y._updateCurrentUser(R.user),R})).apply(this,arguments)}class su{constructor(_,y){this.factorId=_,this.uid=y.mfaEnrollmentId,this.enrollmentTime=new Date(y.enrolledAt).toUTCString(),this.displayName=y.displayName}static _fromServerResponse(_,y){return"phoneInfo"in y?ou._fromServerResponse(_,y):ct(_,"internal-error")}}class ou extends su{constructor(_){super("phone",_),this.phoneNumber=_.phoneInfo}static _fromServerResponse(_,y){return new ou(y)}}function au(w,_,y){var C;Ce((null===(C=y.url)||void 0===C?void 0:C.length)>0,w,"invalid-continue-uri"),Ce(void 0===y.dynamicLinkDomain||y.dynamicLinkDomain.length>0,w,"invalid-dynamic-link-domain"),_.continueUrl=y.url,_.dynamicLinkDomain=y.dynamicLinkDomain,_.canHandleCodeInApp=y.handleCodeInApp,y.iOS&&(Ce(y.iOS.bundleId.length>0,w,"missing-ios-bundle-id"),_.iosBundleId=y.iOS.bundleId),y.android&&(Ce(y.android.packageName.length>0,w,"missing-android-pkg-name"),_.androidInstallApp=y.android.installApp,_.androidMinimumVersionCode=y.android.minimumVersion,_.androidPackageName=y.android.packageName)}function kc(){return(kc=(0,f.Z)(function*(w,_,y){const C=(0,B.m9)(w),R={requestType:"PASSWORD_RESET",email:_};y&&au(C,R,y),yield Zt(C,R)})).apply(this,arguments)}function ot(){return(ot=(0,f.Z)(function*(w,_,y){yield dn((0,B.m9)(w),{oobCode:_,newPassword:y})})).apply(this,arguments)}function Eo(){return(Eo=(0,f.Z)(function*(w,_){yield Dc((0,B.m9)(w),{oobCode:_})})).apply(this,arguments)}function uu(w,_){return cu.apply(this,arguments)}function cu(){return(cu=(0,f.Z)(function*(w,_){const y=(0,B.m9)(w),C=yield dn(y,{oobCode:_}),R=C.requestType;switch(Ce(R,y,"internal-error"),R){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ce(C.newEmail,y,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ce(C.mfaInfo,y,"internal-error");default:Ce(C.email,y,"internal-error")}let N=null;return C.mfaInfo&&(N=su._fromServerResponse(Bt(y),C.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.newEmail:C.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.email:C.newEmail)||null,multiFactorInfo:N},operation:R}})).apply(this,arguments)}function bo(){return(bo=(0,f.Z)(function*(w,_){const{data:y}=yield uu((0,B.m9)(w),_);return y.email})).apply(this,arguments)}function Ie(){return(Ie=(0,f.Z)(function*(w,_,y){const C=Bt(w),R=yield Ac(C,{returnSecureToken:!0,email:_,password:y}),N=yield pi._fromIdTokenResponse(C,"signIn",R);return yield C._updateCurrentUser(N.user),N})).apply(this,arguments)}function _n(){return(_n=(0,f.Z)(function*(w,_,y){const C=(0,B.m9)(w),R={requestType:"EMAIL_SIGNIN",email:_};Ce(y.handleCodeInApp,C,"argument-error"),y&&au(C,R,y),yield Sd(C,R)})).apply(this,arguments)}function ti(){return(ti=(0,f.Z)(function*(w,_,y){const C=(0,B.m9)(w),R=Tp.credentialWithLink(_,y||Re());return Ce(R._tenantId===(C.tenantId||null),C,"tenant-id-mismatch"),Pc(C,R)})).apply(this,arguments)}function Ld(w,_){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,f.Z)(function*(w,_){return Pt(w,"POST","/v1/accounts:createAuthUri",st(w,_))})).apply(this,arguments)}function Pp(){return(Pp=(0,f.Z)(function*(w,_){const C={identifier:_,continueUri:Ze()?Re():"http://localhost"},{signinMethods:R}=yield Ld((0,B.m9)(w),C);return R||[]})).apply(this,arguments)}function Ps(){return(Ps=(0,f.Z)(function*(w,_){const y=(0,B.m9)(w),R={requestType:"VERIFY_EMAIL",idToken:yield w.getIdToken()};_&&au(y.auth,R,_);const{email:N}=yield mo(y.auth,R);N!==w.email&&(yield w.reload())})).apply(this,arguments)}function ni(){return(ni=(0,f.Z)(function*(w,_,y){const C=(0,B.m9)(w),N={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield w.getIdToken(),newEmail:_};y&&au(C.auth,N,y);const{email:K}=yield Ad(C.auth,N);K!==w.email&&(yield w.reload())})).apply(this,arguments)}function Vd(w,_){return ks.apply(this,arguments)}function ks(){return(ks=(0,f.Z)(function*(w,_){return Pt(w,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function Ud(){return(Ud=(0,f.Z)(function*(w,{displayName:_,photoURL:y}){if(void 0===_&&void 0===y)return;const C=(0,B.m9)(w),N={idToken:yield C.getIdToken(),displayName:_,photoUrl:y,returnSecureToken:!0},K=yield gn(C,Vd(C.auth,N));C.displayName=K.displayName||null,C.photoURL=K.photoUrl||null;const ye=C.providerData.find(({providerId:Pe})=>"password"===Pe);ye&&(ye.displayName=C.displayName,ye.photoURL=C.photoURL),yield C._updateTokensIfNecessary(K)})).apply(this,arguments)}function jd(w,_,y){return du.apply(this,arguments)}function du(){return(du=(0,f.Z)(function*(w,_,y){const{auth:C}=w,N={idToken:yield w.getIdToken(),returnSecureToken:!0};_&&(N.email=_),y&&(N.password=y);const K=yield gn(w,sa(C,N));yield w._updateTokensIfNecessary(K,!0)})).apply(this,arguments)}class wo{constructor(_,y,C={}){this.isNewUser=_,this.providerId=y,this.profile=C}}class $d extends wo{constructor(_,y,C,R){super(_,y,C),this.username=R}}class V_ extends wo{constructor(_,y){super(_,"facebook.com",y)}}class U_ extends $d{constructor(_,y){super(_,"github.com",y,"string"==typeof(null==y?void 0:y.login)?null==y?void 0:y.login:null)}}class hu extends wo{constructor(_,y){super(_,"google.com",y)}}class Fp extends $d{constructor(_,y,C){super(_,"twitter.com",y,C)}}function Lp(w){const{user:_,_tokenResponse:y}=w;return _.isAnonymous&&!y?{providerId:null,isNewUser:!1,profile:null}:function(w){var _,y;if(!w)return null;const{providerId:C}=w,R=w.rawUserInfo?JSON.parse(w.rawUserInfo):{},N=w.isNewUser||"identitytoolkit#SignupNewUserResponse"===w.kind;if(!C&&(null==w?void 0:w.idToken)){const K=null===(y=null===(_=qe(w.idToken))||void 0===_?void 0:_.firebase)||void 0===y?void 0:y.sign_in_provider;if(K)return new wo(N,"anonymous"!==K&&"custom"!==K?K:null)}if(!C)return null;switch(C){case"facebook.com":return new V_(N,R);case"github.com":return new U_(N,R);case"google.com":return new hu(N,R);case"twitter.com":return new Fp(N,R,w.screenName||null);case"custom":case"anonymous":return new wo(N,null);default:return new wo(N,C,R)}}(y)}class ss{constructor(_,y){this.type=_,this.credential=y}static _fromIdtoken(_){return new ss("enroll",_)}static _fromMfaPendingCredential(_){return new ss("signin",_)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(_){var y,C;if(null==_?void 0:_.multiFactorSession){if(null===(y=_.multiFactorSession)||void 0===y?void 0:y.pendingCredential)return ss._fromMfaPendingCredential(_.multiFactorSession.pendingCredential);if(null===(C=_.multiFactorSession)||void 0===C?void 0:C.idToken)return ss._fromIdtoken(_.multiFactorSession.idToken)}return null}}class Gd{constructor(_,y,C){this.session=_,this.hints=y,this.signInResolver=C}static _fromError(_,y){const C=Bt(_),R=(y.serverResponse.mfaInfo||[]).map(K=>su._fromServerResponse(C,K));Ce(y.serverResponse.mfaPendingCredential,C,"internal-error");const N=ss._fromMfaPendingCredential(y.serverResponse.mfaPendingCredential);return new Gd(N,R,function(){var K=(0,f.Z)(function*(ye){const Pe=yield ye._process(C,N);delete y.serverResponse.mfaInfo,delete y.serverResponse.mfaPendingCredential;const ze=Object.assign(Object.assign({},y.serverResponse),{idToken:Pe.idToken,refreshToken:Pe.refreshToken});switch(y.operationType){case"signIn":const at=yield pi._fromIdTokenResponse(C,y.operationType,ze);return yield C._updateCurrentUser(at.user),at;case"reauthenticate":return Ce(y.user,C,"internal-error"),pi._forOperation(y.user,y.operationType,ze);default:ct(C,"internal-error")}});return function(ye){return K.apply(this,arguments)}}())}resolveSignIn(_){var y=this;return(0,f.Z)(function*(){return y.signInResolver(_)})()}}function B_(w,_){return Pt(w,"POST","/v2/accounts/mfaEnrollment:start",st(w,_))}class da{constructor(_){this.user=_,this.enrolledFactors=[],_._onReload(y=>{y.mfaInfo&&(this.enrolledFactors=y.mfaInfo.map(C=>su._fromServerResponse(_.auth,C)))})}static _fromUser(_){return new da(_)}getSession(){var _=this;return(0,f.Z)(function*(){return ss._fromIdtoken(yield _.user.getIdToken())})()}enroll(_,y){var C=this;return(0,f.Z)(function*(){const R=_,N=yield C.getSession(),K=yield gn(C.user,R._process(C.user.auth,N,y));return yield C.user._updateTokensIfNecessary(K),C.user.reload()})()}unenroll(_){var y=this;return(0,f.Z)(function*(){const C="string"==typeof _?_:_.uid,R=yield y.user.getIdToken(),N=yield gn(y.user,function(w,_){return Pt(w,"POST","/v2/accounts/mfaEnrollment:withdraw",st(w,_))}(y.user.auth,{idToken:R,mfaEnrollmentId:C}));y.enrolledFactors=y.enrolledFactors.filter(({uid:K})=>K!==C),yield y.user._updateTokensIfNecessary(N);try{yield y.user.reload()}catch(K){if("auth/user-token-expired"!==K.code)throw K}})()}}const ha=new WeakMap,fu="__sak";class Zd{constructor(_,y){this.storage=_,this.type=y}_isAvailable(){try{return this.storage?(this.storage.setItem(fu,"1"),this.storage.removeItem(fu),Promise.resolve(!0)):Promise.resolve(!1)}catch(_){return Promise.resolve(!1)}}_set(_,y){return this.storage.setItem(_,JSON.stringify(y)),Promise.resolve()}_get(_){const y=this.storage.getItem(_);return Promise.resolve(y?JSON.parse(y):null)}_remove(_){return this.storage.removeItem(_),Promise.resolve()}}const Fc=(()=>{class w extends Zd{constructor(){super(window.localStorage,"LOCAL"),this.boundEventHandler=(y,C)=>this.onStorageEvent(y,C),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const w=(0,B.z$)();return Dd(w)||hi(w)}()&&function(){try{return!(!window||window===window.top)}catch(w){return!1}}(),this.fallbackToPolling=Vi(),this._shouldAllowMigration=!0}forAllChangedKeys(y){for(const C of Object.keys(this.listeners)){const R=this.storage.getItem(C),N=this.localCache[C];R!==N&&y(C,N,R)}}onStorageEvent(y,C=!1){if(!y.key)return void this.forAllChangedKeys((ye,Pe,ze)=>{this.notifyListeners(ye,ze)});const R=y.key;if(C?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ye=this.storage.getItem(R);if(y.newValue!==ye)null!==y.newValue?this.storage.setItem(R,y.newValue):this.storage.removeItem(R);else if(this.localCache[R]===y.newValue&&!C)return}const N=()=>{const ye=this.storage.getItem(R);!C&&this.localCache[R]===ye||this.notifyListeners(R,ye)},K=this.storage.getItem(R);(0,B.w1)()&&10===document.documentMode&&K!==y.newValue&&y.newValue!==y.oldValue?setTimeout(N,10):N()}notifyListeners(y,C){this.localCache[y]=C;const R=this.listeners[y];if(R)for(const N of Array.from(R))N(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((y,C,R)=>{this.onStorageEvent(new StorageEvent("storage",{key:y,oldValue:C,newValue:R}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(y,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[y]||(this.listeners[y]=new Set,this.localCache[y]=this.storage.getItem(y)),this.listeners[y].add(C)}_removeListener(y,C){this.listeners[y]&&(this.listeners[y].delete(C),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(y,C){var R=()=>super._set,N=this;return(0,f.Z)(function*(){yield R().call(N,y,C),N.localCache[y]=JSON.stringify(C)})()}_get(y){var C=()=>super._get,R=this;return(0,f.Z)(function*(){const N=yield C().call(R,y);return R.localCache[y]=JSON.stringify(N),N})()}_remove(y){var C=()=>super._remove,R=this;return(0,f.Z)(function*(){yield C().call(R,y),delete R.localCache[y]})()}}return w.type="LOCAL",w})(),os=(()=>{class w extends Zd{constructor(){super(window.sessionStorage,"SESSION")}_addListener(y,C){}_removeListener(y,C){}}return w.type="SESSION",w})();let Ls=(()=>{class w{constructor(y){this.eventTarget=y,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(y){const C=this.receivers.find(N=>N.isListeningto(y));if(C)return C;const R=new w(y);return this.receivers.push(R),R}isListeningto(y){return this.eventTarget===y}handleEvent(y){var C=this;return(0,f.Z)(function*(){const R=y,{eventId:N,eventType:K,data:ye}=R.data,Pe=C.handlersMap[K];if(!(null==Pe?void 0:Pe.size))return;R.ports[0].postMessage({status:"ack",eventId:N,eventType:K});const ze=Array.from(Pe).map(function(){var nt=(0,f.Z)(function*(Tn){return Tn(R.origin,ye)});return function(Tn){return nt.apply(this,arguments)}}()),at=yield function(w){return Promise.all(w.map(function(){var _=(0,f.Z)(function*(y){try{return{fulfilled:!0,value:yield y}}catch(C){return{fulfilled:!1,reason:C}}});return function(y){return _.apply(this,arguments)}}()))}(ze);R.ports[0].postMessage({status:"done",eventId:N,eventType:K,response:at})})()}_subscribe(y,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[y]||(this.handlersMap[y]=new Set),this.handlersMap[y].add(C)}_unsubscribe(y,C){this.handlersMap[y]&&C&&this.handlersMap[y].delete(C),(!C||0===this.handlersMap[y].size)&&delete this.handlersMap[y],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return w.receivers=[],w})();function Lc(w="",_=10){let y="";for(let C=0;C<_;C++)y+=Math.floor(10*Math.random());return w+y}class Ew{constructor(_){this.target=_,this.handlers=new Set}removeMessageHandler(_){_.messageChannel&&(_.messageChannel.port1.removeEventListener("message",_.onMessage),_.messageChannel.port1.close()),this.handlers.delete(_)}_send(_,y,C=50){var R=this;return(0,f.Z)(function*(){const N="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!N)throw new Error("connection_unavailable");let K,ye;return new Promise((Pe,ze)=>{const at=Lc("",20);N.port1.start();const nt=setTimeout(()=>{ze(new Error("unsupported_event"))},C);ye={messageChannel:N,onMessage(Tn){const Sn=Tn;if(Sn.data.eventId===at)switch(Sn.data.status){case"ack":clearTimeout(nt),K=setTimeout(()=>{ze(new Error("timeout"))},3e3);break;case"done":clearTimeout(K),Pe(Sn.data.response);break;default:clearTimeout(nt),clearTimeout(K),ze(new Error("invalid_response"))}}},R.handlers.add(ye),N.port1.addEventListener("message",ye.onMessage),R.target.postMessage({eventType:_,eventId:at,data:y},[N.port2])}).finally(()=>{ye&&R.removeMessageHandler(ye)})})()}}function rn(){return window}function Vc(){return void 0!==rn().WorkerGlobalScope&&"function"==typeof rn().importScripts}function Qd(){return(Qd=(0,f.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(w){return null}})).apply(this,arguments)}const jp="firebaseLocalStorageDb",_u="firebaseLocalStorage",Uc="fbase_key";class Bc{constructor(_){this.request=_}toPromise(){return new Promise((_,y)=>{this.request.addEventListener("success",()=>{_(this.request.result)}),this.request.addEventListener("error",()=>{y(this.request.error)})})}}function jc(w,_){return w.transaction([_u],_?"readwrite":"readonly").objectStore(_u)}function as(){const w=indexedDB.open(jp,1);return new Promise((_,y)=>{w.addEventListener("error",()=>{y(w.error)}),w.addEventListener("upgradeneeded",()=>{const C=w.result;try{C.createObjectStore(_u,{keyPath:Uc})}catch(R){y(R)}}),w.addEventListener("success",(0,f.Z)(function*(){const C=w.result;C.objectStoreNames.contains(_u)?_(C):(C.close(),yield function(){const w=indexedDB.deleteDatabase(jp);return new Bc(w).toPromise()}(),_(yield as()))}))})}function Hp(w,_,y){return Do.apply(this,arguments)}function Do(){return(Do=(0,f.Z)(function*(w,_,y){const C=jc(w,!0).put({[Uc]:_,value:y});return new Bc(C).toPromise()})).apply(this,arguments)}function yn(){return(yn=(0,f.Z)(function*(w,_){const y=jc(w,!1).get(_),C=yield new Bc(y).toPromise();return void 0===C?null:C.value})).apply(this,arguments)}function Hc(w,_){const y=jc(w,!0).delete(_);return new Bc(y).toPromise()}const us=(()=>{class w{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var y=this;return(0,f.Z)(function*(){return y.db||(y.db=yield as()),y.db})()}_withRetries(y){var C=this;return(0,f.Z)(function*(){let R=0;for(;;)try{const N=yield C._openDb();return yield y(N)}catch(N){if(R++>3)throw N;C.db&&(C.db.close(),C.db=void 0)}})()}initializeServiceWorkerMessaging(){var y=this;return(0,f.Z)(function*(){return Vc()?y.initializeReceiver():y.initializeSender()})()}initializeReceiver(){var y=this;return(0,f.Z)(function*(){y.receiver=Ls._getInstance(Vc()?self:null),y.receiver._subscribe("keyChanged",function(){var C=(0,f.Z)(function*(R,N){return{keyProcessed:(yield y._poll()).includes(N.key)}});return function(R,N){return C.apply(this,arguments)}}()),y.receiver._subscribe("ping",function(){var C=(0,f.Z)(function*(R,N){return["keyChanged"]});return function(R,N){return C.apply(this,arguments)}}())})()}initializeSender(){var y=this;return(0,f.Z)(function*(){var C,R;if(y.activeServiceWorker=yield function(){return Qd.apply(this,arguments)}(),!y.activeServiceWorker)return;y.sender=new Ew(y.activeServiceWorker);const N=yield y.sender._send("ping",{},800);!N||(null===(C=N[0])||void 0===C?void 0:C.fulfilled)&&(null===(R=N[0])||void 0===R?void 0:R.value.includes("keyChanged"))&&(y.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(y){var C=this;return(0,f.Z)(function*(){if(C.sender&&C.activeServiceWorker&&function(){var w;return(null===(w=null==navigator?void 0:navigator.serviceWorker)||void 0===w?void 0:w.controller)||null}()===C.activeServiceWorker)try{yield C.sender._send("keyChanged",{key:y},C.serviceWorkerReceiverAvailable?800:50)}catch(R){}})()}_isAvailable(){return(0,f.Z)(function*(){try{if(!indexedDB)return!1;const y=yield as();return yield Hp(y,fu,"1"),yield Hc(y,fu),!0}catch(y){}return!1})()}_withPendingWrite(y){var C=this;return(0,f.Z)(function*(){C.pendingWrites++;try{yield y()}finally{C.pendingWrites--}})()}_set(y,C){var R=this;return(0,f.Z)(function*(){return R._withPendingWrite((0,f.Z)(function*(){return yield R._withRetries(N=>Hp(N,y,C)),R.localCache[y]=C,R.notifyServiceWorker(y)}))})()}_get(y){var C=this;return(0,f.Z)(function*(){const R=yield C._withRetries(N=>function(w,_){return yn.apply(this,arguments)}(N,y));return C.localCache[y]=R,R})()}_remove(y){var C=this;return(0,f.Z)(function*(){return C._withPendingWrite((0,f.Z)(function*(){return yield C._withRetries(R=>Hc(R,y)),delete C.localCache[y],C.notifyServiceWorker(y)}))})()}_poll(){var y=this;return(0,f.Z)(function*(){const C=yield y._withRetries(K=>{const ye=jc(K,!1).getAll();return new Bc(ye).toPromise()});if(!C)return[];if(0!==y.pendingWrites)return[];const R=[],N=new Set;for(const{fbase_key:K,value:ye}of C)N.add(K),JSON.stringify(y.localCache[K])!==JSON.stringify(ye)&&(y.notifyListeners(K,ye),R.push(K));for(const K of Object.keys(y.localCache))y.localCache[K]&&!N.has(K)&&(y.notifyListeners(K,null),R.push(K));return R})()}notifyListeners(y,C){this.localCache[y]=C;const R=this.listeners[y];if(R)for(const N of Array.from(R))N(C)}startPolling(){var y=this;this.stopPolling(),this.pollTimer=setInterval((0,f.Z)(function*(){return y._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(y,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[y]||(this.listeners[y]=new Set,this._get(y)),this.listeners[y].add(C)}_removeListener(y,C){this.listeners[y]&&(this.listeners[y].delete(C),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return w.type="LOCAL",w})();function Gp(w,_){return Pt(w,"POST","/v2/accounts/mfaSignIn:start",st(w,_))}function yu(){return(yu=(0,f.Z)(function*(w){return(yield Pt(w,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function fa(w){return new Promise((_,y)=>{const C=document.createElement("script");C.setAttribute("src",w),C.onload=_,C.onerror=R=>{const N=it("internal-error");N.customData=R,y(N)},C.type="text/javascript",C.charset="UTF-8",function(){var w,_;return null!==(_=null===(w=document.getElementsByTagName("head"))||void 0===w?void 0:w[0])&&void 0!==_?_:document}().appendChild(C)})}function qp(w){return`__${w}${Math.floor(1e6*Math.random())}`}const cs=1e12;class Wp{constructor(_){this.auth=_,this.counter=cs,this._widgets=new Map}render(_,y){const C=this.counter;return this._widgets.set(C,new Jd(_,this.auth.name,y||{})),this.counter++,C}reset(_){var y;const C=_||cs;null===(y=this._widgets.get(C))||void 0===y||y.delete(),this._widgets.delete(C)}getResponse(_){var y;return(null===(y=this._widgets.get(_||cs))||void 0===y?void 0:y.getResponse())||""}execute(_){var y=this;return(0,f.Z)(function*(){var C;return null===(C=y._widgets.get(_||cs))||void 0===C||C.execute(),""})()}}class Jd{constructor(_,y,C){this.params=C,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const R="string"==typeof _?document.getElementById(_):_;Ce(R,"argument-error",{appName:y}),this.container=R,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(w){const _=[],y="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let C=0;C<50;C++)_.push(y.charAt(Math.floor(Math.random()*y.length)));return _.join("")}();const{callback:_,"expired-callback":y}=this.params;if(_)try{_(this.responseToken)}catch(C){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,y)try{y()}catch(C){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Io=qp("rcb"),pa=new Xt(3e4,6e4);class ga{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!rn().grecaptcha}load(_,y=""){return Ce((w=y).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(w),_,"argument-error"),this.shouldResolveImmediately(y)?Promise.resolve(rn().grecaptcha):new Promise((C,R)=>{const N=rn().setTimeout(()=>{R(it(_,"network-request-failed"))},pa.get());rn()[Io]=()=>{rn().clearTimeout(N),delete rn()[Io];const ye=rn().grecaptcha;if(!ye)return void R(it(_,"internal-error"));const Pe=ye.render;ye.render=(ze,at)=>{const nt=Pe(ze,at);return this.counter++,nt},this.hostLanguage=y,C(ye)},fa(`https://www.google.com/recaptcha/api.js??${(0,B.xO)({onload:Io,render:"explicit",hl:y})}`).catch(()=>{clearTimeout(N),R(it(_,"internal-error"))})});var w}clearedOneInstance(){this.counter--}shouldResolveImmediately(_){return!!rn().grecaptcha&&(_===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class ls{load(_){return(0,f.Z)(function*(){return new Wp(_)})()}clearedOneInstance(){}}const q_="recaptcha",ww={theme:"light",type:"image"};class ma{constructor(_,y=Object.assign({},ww),C){this.parameters=y,this.type=q_,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Bt(C),this.isInvisible="invisible"===this.parameters.size,Ce("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const R="string"==typeof _?document.getElementById(_):_;Ce(R,this.auth,"argument-error"),this.container=R,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ls:new ga,this.validateStartingState()}verify(){var _=this;return(0,f.Z)(function*(){_.assertNotDestroyed();const y=yield _.render(),C=_.getAssertedRecaptcha();return C.getResponse(y)||new Promise(N=>{const K=ye=>{!ye||(_.tokenChangeListeners.delete(K),N(ye))};_.tokenChangeListeners.add(K),_.isInvisible&&C.execute(y)})})()}render(){try{this.assertNotDestroyed()}catch(_){return Promise.reject(_)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(_=>{throw this.renderPromise=null,_})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(_=>{this.container.removeChild(_)})}validateStartingState(){Ce(!this.parameters.sitekey,this.auth,"argument-error"),Ce(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ce("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(_){return y=>{if(this.tokenChangeListeners.forEach(C=>C(y)),"function"==typeof _)_(y);else if("string"==typeof _){const C=rn()[_];"function"==typeof C&&C(y)}}}assertNotDestroyed(){Ce(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var _=this;return(0,f.Z)(function*(){if(yield _.init(),!_.widgetId){let y=_.container;if(!_.isInvisible){const C=document.createElement("div");y.appendChild(C),y=C}_.widgetId=_.getAssertedRecaptcha().render(y,_.parameters)}return _.widgetId})()}init(){var _=this;return(0,f.Z)(function*(){Ce(Ze()&&!Vc(),_.auth,"internal-error"),yield function(){let w=null;return new Promise(_=>{"complete"!==document.readyState?(w=()=>_(),window.addEventListener("load",w)):_()}).catch(_=>{throw w&&window.removeEventListener("load",w),_})}(),_.recaptcha=yield _._recaptchaLoader.load(_.auth,_.auth.languageCode||void 0);const y=yield function(w){return yu.apply(this,arguments)}(_.auth);Ce(y,_.auth,"internal-error"),_.parameters.sitekey=y})()}getAssertedRecaptcha(){return Ce(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Xd{constructor(_,y){this.verificationId=_,this.onConfirmation=y}confirm(_){const y=ua._fromVerification(this.verificationId,_);return this.onConfirmation(y)}}function eh(){return(eh=(0,f.Z)(function*(w,_,y){const C=Bt(w),R=yield bu(C,_,(0,B.m9)(y));return new Xd(R,N=>Pc(C,N))})).apply(this,arguments)}function Eu(){return(Eu=(0,f.Z)(function*(w,_,y){const C=(0,B.m9)(w);yield Rs(!1,C,"phone");const R=yield bu(C.auth,_,(0,B.m9)(y));return new Xd(R,N=>xp(C,N))})).apply(this,arguments)}function Kp(){return(Kp=(0,f.Z)(function*(w,_,y){const C=(0,B.m9)(w),R=yield bu(C.auth,_,(0,B.m9)(y));return new Xd(R,N=>ru(C,N))})).apply(this,arguments)}function bu(w,_,y){return _i.apply(this,arguments)}function _i(){return(_i=(0,f.Z)(function*(w,_,y){var C;const R=yield y.verify();try{let N;if(Ce("string"==typeof R,w,"argument-error"),Ce(y.type===q_,w,"argument-error"),N="string"==typeof _?{phoneNumber:_}:_,"session"in N){const K=N.session;if("phoneNumber"in N)return Ce("enroll"===K.type,w,"internal-error"),(yield B_(w,{idToken:K.credential,phoneEnrollmentInfo:{phoneNumber:N.phoneNumber,recaptchaToken:R}})).phoneSessionInfo.sessionInfo;{Ce("signin"===K.type,w,"internal-error");const ye=(null===(C=N.multiFactorHint)||void 0===C?void 0:C.uid)||N.multiFactorUid;return Ce(ye,w,"missing-multi-factor-info"),(yield Gp(w,{mfaPendingCredential:K.credential,mfaEnrollmentId:ye,phoneSignInInfo:{recaptchaToken:R}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:K}=yield fi(w,{phoneNumber:N.phoneNumber,recaptchaToken:R});return K}}finally{y._reset()}})).apply(this,arguments)}function Yp(){return(Yp=(0,f.Z)(function*(w,_){yield Mc((0,B.m9)(w),_)})).apply(this,arguments)}let yi=(()=>{class w{constructor(y){this.providerId=w.PROVIDER_ID,this.auth=Bt(y)}verifyPhoneNumber(y,C){return bu(this.auth,y,(0,B.m9)(C))}static credential(y,C){return ua._fromVerification(y,C)}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{phoneNumber:C,temporaryProof:R}=y;return C&&R?ua._fromTokenResponse(C,R):null}}return w.PROVIDER_ID="phone",w.PHONE_SIGN_IN_METHOD="phone",w})();function _a(w,_){return _?fe(_):(Ce(w._popupRedirectResolver,w,"argument-error"),w._popupRedirectResolver)}class To extends ar{constructor(_){super("custom","custom"),this.params=_}_getIdTokenResponse(_){return jt(_,this._buildIdpRequest())}_linkToIdToken(_,y){return jt(_,this._buildIdpRequest(y))}_getReauthenticationResolver(_){return jt(_,this._buildIdpRequest())}_buildIdpRequest(_){const y={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return _&&(y.idToken=_),y}}function th(w){return Ap(w.auth,new To(w),w.bypassAuthState)}function Ln(w){const{auth:_,user:y}=w;return Ce(y,_,"internal-error"),Oc(y,new To(w),w.bypassAuthState)}function ya(w){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,f.Z)(function*(w){const{auth:_,user:y}=w;return Ce(y,_,"internal-error"),Mc(y,new To(w),w.bypassAuthState)})).apply(this,arguments)}class qc{constructor(_,y,C,R,N=!1){this.auth=_,this.resolver=C,this.user=R,this.bypassAuthState=N,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(y)?y:[y]}execute(){var _=this;return new Promise(function(){var y=(0,f.Z)(function*(C,R){_.pendingPromise={resolve:C,reject:R};try{_.eventManager=yield _.resolver._initialize(_.auth),yield _.onExecution(),_.eventManager.registerConsumer(_)}catch(N){_.reject(N)}});return function(C,R){return y.apply(this,arguments)}}())}onAuthEvent(_){var y=this;return(0,f.Z)(function*(){const{urlResponse:C,sessionId:R,postBody:N,tenantId:K,error:ye,type:Pe}=_;if(ye)return void y.reject(ye);const ze={auth:y.auth,requestUri:C,sessionId:R,tenantId:K||void 0,postBody:N||void 0,user:y.user,bypassAuthState:y.bypassAuthState};try{y.resolve(yield y.getIdpTask(Pe)(ze))}catch(at){y.reject(at)}})()}onError(_){this.reject(_)}getIdpTask(_){switch(_){case"signInViaPopup":case"signInViaRedirect":return th;case"linkViaPopup":case"linkViaRedirect":return ya;case"reauthViaPopup":case"reauthViaRedirect":return Ln;default:ct(this.auth,"internal-error")}}resolve(_){he(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(_),this.unregisterAndCleanUp()}reject(_){he(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(_),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const z_=new Xt(2e3,1e4);function Ot(){return(Ot=(0,f.Z)(function*(w,_,y){const C=Bt(w);bt(w,_,_o);const R=_a(C,y);return new So(C,"signInViaPopup",_,R).executeNotNull()})).apply(this,arguments)}function ds(){return(ds=(0,f.Z)(function*(w,_,y){const C=(0,B.m9)(w);bt(C.auth,_,_o);const R=_a(C.auth,y);return new So(C.auth,"reauthViaPopup",_,R,C).executeNotNull()})).apply(this,arguments)}function zc(){return(zc=(0,f.Z)(function*(w,_,y){const C=(0,B.m9)(w);bt(C.auth,_,_o);const R=_a(C.auth,y);return new So(C.auth,"linkViaPopup",_,R,C).executeNotNull()})).apply(this,arguments)}let So=(()=>{class w extends qc{constructor(y,C,R,N,K){super(y,C,N,K),this.provider=R,this.authWindow=null,this.pollId=null,w.currentPopupAction&&w.currentPopupAction.cancel(),w.currentPopupAction=this}executeNotNull(){var y=this;return(0,f.Z)(function*(){const C=yield y.execute();return Ce(C,y.auth,"internal-error"),C})()}onExecution(){var y=this;return(0,f.Z)(function*(){he(1===y.filter.length,"Popup operations only handle one event");const C=Lc();y.authWindow=yield y.resolver._openPopup(y.auth,y.provider,y.filter[0],C),y.authWindow.associatedEvent=C,y.resolver._originValidation(y.auth).catch(R=>{y.reject(R)}),y.resolver._isIframeWebStorageSupported(y.auth,R=>{R||y.reject(it(y.auth,"web-storage-unsupported"))}),y.pollUserCancellation()})()}get eventId(){var y;return(null===(y=this.authWindow)||void 0===y?void 0:y.associatedEvent)||null}cancel(){this.reject(it(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,w.currentPopupAction=null}pollUserCancellation(){const y=()=>{var C,R;this.pollId=(null===(R=null===(C=this.authWindow)||void 0===C?void 0:C.window)||void 0===R?void 0:R.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(it(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(y,z_.get())};y()}}return w.currentPopupAction=null,w})();const Jp=new Map;class Iw extends qc{constructor(_,y,C=!1){super(_,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],y,void 0,C),this.eventId=null}execute(){var _=()=>super.execute,y=this;return(0,f.Z)(function*(){let C=Jp.get(y.auth._key());if(!C){try{const N=(yield function(w,_){return Kn.apply(this,arguments)}(y.resolver,y.auth))?yield _().call(y):null;C=()=>Promise.resolve(N)}catch(R){C=()=>Promise.reject(R)}Jp.set(y.auth._key(),C)}return C()})()}onAuthEvent(_){var y=()=>super.onAuthEvent,C=this;return(0,f.Z)(function*(){if("signInViaRedirect"===_.type)return y().call(C,_);if("unknown"!==_.type){if(_.eventId){const R=yield C.auth._redirectUserForId(_.eventId);if(R)return C.user=R,y().call(C,_);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,f.Z)(function*(){})()}cleanUp(){}}function Kn(){return(Kn=(0,f.Z)(function*(w,_){const y=Ao(_),C="true"===(yield Cu(w)._get(y));return yield Cu(w)._remove(y),C})).apply(this,arguments)}function wu(w,_){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,f.Z)(function*(w,_){return Cu(w)._set(Ao(_),"true")})).apply(this,arguments)}function Cu(w){return fe(w._redirectPersistence)}function Ao(w){return Kt("pendingRedirect",w.config.apiKey,w.name)}function xo(){return(xo=(0,f.Z)(function*(w,_,y){const C=Bt(w);bt(w,_,_o);const R=_a(C,y);return yield wu(R,C),R._openRedirect(C,_,"signInViaRedirect")})).apply(this,arguments)}function Us(){return(Us=(0,f.Z)(function*(w,_,y){const C=(0,B.m9)(w);bt(C.auth,_,_o);const R=_a(C.auth,y);yield wu(R,C.auth);const N=yield bi(C);return R._openRedirect(C.auth,_,"reauthViaRedirect",N)})).apply(this,arguments)}function Ei(){return(Ei=(0,f.Z)(function*(w,_,y){const C=(0,B.m9)(w);bt(C.auth,_,_o);const R=_a(C.auth,y);yield Rs(!1,C,_.providerId),yield wu(R,C.auth);const N=yield bi(C);return R._openRedirect(C.auth,_,"linkViaRedirect",N)})).apply(this,arguments)}function Bs(){return(Bs=(0,f.Z)(function*(w,_){return yield Bt(w)._initializationPromise,va(w,_,!1)})).apply(this,arguments)}function va(w,_){return nh.apply(this,arguments)}function nh(){return(nh=(0,f.Z)(function*(w,_,y=!1){const C=Bt(w),R=_a(C,_),K=yield new Iw(C,R,y).execute();return K&&!y&&(delete K.user._redirectEventId,yield C._persistUserIfCurrent(K.user),yield C._setRedirectUser(null,_)),K})).apply(this,arguments)}function bi(w){return lr.apply(this,arguments)}function lr(){return(lr=(0,f.Z)(function*(w){const _=Lc(`${w.uid}:::`);return w._redirectEventId=_,yield w.auth._setRedirectUser(w),yield w.auth._persistUserIfCurrent(w),_})).apply(this,arguments)}class Iu{constructor(_){this.auth=_,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(_){this.consumers.add(_),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,_)&&(this.sendToConsumer(this.queuedRedirectEvent,_),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(_){this.consumers.delete(_)}onEvent(_){if(this.hasEventBeenHandled(_))return!1;let y=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(_,C)&&(y=!0,this.sendToConsumer(_,C),this.saveEventToCache(_))}),this.hasHandledPotentialRedirect||!function(w){switch(w.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return wi(w);default:return!1}}(_)||(this.hasHandledPotentialRedirect=!0,y||(this.queuedRedirectEvent=_,y=!0)),y}sendToConsumer(_,y){var C;if(_.error&&!wi(_)){const R=(null===(C=_.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";y.onError(it(this.auth,R))}else y.onAuthEvent(_)}isEventForConsumer(_,y){const C=null===y.eventId||!!_.eventId&&_.eventId===y.eventId;return y.filter.includes(_.type)&&C}hasEventBeenHandled(_){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ea(_))}saveEventToCache(_){this.cachedEventUids.add(Ea(_)),this.lastProcessedEventTime=Date.now()}}function Ea(w){return[w.type,w.eventId,w.sessionId,w.tenantId].filter(_=>_).join("-")}function wi({type:w,error:_}){return"unknown"===w&&"auth/no-auth-event"===(null==_?void 0:_.code)}function hn(w){return Zc.apply(this,arguments)}function Zc(){return(Zc=(0,f.Z)(function*(w,_={}){return Pt(w,"GET","/v1/projects",_)})).apply(this,arguments)}const W_=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ro=/^https?/;function rh(){return(rh=(0,f.Z)(function*(w){if(w.config.emulator)return;const{authorizedDomains:_}=yield hn(w);for(const y of _)try{if(K_(y))return}catch(C){}ct(w,"unauthorized-domain")})).apply(this,arguments)}function K_(w){const _=Re(),{protocol:y,hostname:C}=new URL(_);if(w.startsWith("chrome-extension://")){const K=new URL(w);return""===K.hostname&&""===C?"chrome-extension:"===y&&w.replace("chrome-extension://","")===_.replace("chrome-extension://",""):"chrome-extension:"===y&&K.hostname===C}if(!Ro.test(y))return!1;if(W_.test(w))return C===w;const R=w.replace(/\./g,"\\.");return new RegExp("^(.+\\."+R+"|"+R+")$","i").test(C)}const Y_=new Xt(3e4,6e4);function xw(){const w=rn().___jsl;if(null==w?void 0:w.H)for(const _ of Object.keys(w.H))if(w.H[_].r=w.H[_].r||[],w.H[_].L=w.H[_].L||[],w.H[_].r=[...w.H[_].L],w.CP)for(let y=0;y<w.CP.length;y++)w.CP[y]=null}let ii=null;function Kc(w){return ii=ii||function(w){return new Promise((_,y)=>{var C,R,N;function K(){xw(),gapi.load("gapi.iframes",{callback:()=>{_(gapi.iframes.getContext())},ontimeout:()=>{xw(),y(it(w,"network-request-failed"))},timeout:Y_.get()})}if(null===(R=null===(C=rn().gapi)||void 0===C?void 0:C.iframes)||void 0===R?void 0:R.Iframe)_(gapi.iframes.getContext());else{if(!(null===(N=rn().gapi)||void 0===N?void 0:N.load)){const ye=qp("iframefcb");return rn()[ye]=()=>{gapi.load?K():y(it(w,"network-request-failed"))},fa(`https://apis.google.com/js/api.js?onload=${ye}`)}K()}}).catch(_=>{throw ii=null,_})}(w),ii}const fs=new Xt(5e3,15e3),ng={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},Yc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Qc(w){const _=w.config;Ce(_.authDomain,w,"auth-domain-config-required");const y=_.emulator?pn(_,"emulator/auth/iframe"):`https://${w.config.authDomain}/__/auth/iframe`,C={apiKey:_.apiKey,appName:w.name,v:ve.SDK_VERSION},R=Yc.get(w.config.apiHost);R&&(C.eid=R);const N=w._getFrameworks();return N.length&&(C.fw=N.join(",")),`${y}?${(0,B.xO)(C).slice(1)}`}function ih(){return(ih=(0,f.Z)(function*(w){const _=yield Kc(w),y=rn().gapi;return Ce(y,w,"internal-error"),_.open({where:document.body,url:Qc(w),messageHandlersFilter:y.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ng,dontclear:!0},C=>new Promise(function(){var R=(0,f.Z)(function*(N,K){yield C.restyle({setHideOnLeave:!1});const ye=it(w,"network-request-failed"),Pe=rn().setTimeout(()=>{K(ye)},fs.get());function ze(){rn().clearTimeout(Pe),N(C)}C.ping(ze).then(ze,()=>{K(ye)})});return function(N,K){return R.apply(this,arguments)}}()))})).apply(this,arguments)}const js={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class X_{constructor(_){this.window=_,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(_){}}}function Su(w,_,y,C,R,N){Ce(w.config.authDomain,w,"auth-domain-config-required"),Ce(w.config.apiKey,w,"invalid-api-key");const K={apiKey:w.config.apiKey,appName:w.name,authType:y,redirectUrl:C,v:ve.SDK_VERSION,eventId:R};if(_ instanceof _o){_.setDefaultLanguage(w.languageCode),K.providerId=_.providerId||"",(0,B.xb)(_.getCustomParameters())||(K.customParameters=JSON.stringify(_.getCustomParameters()));for(const[Pe,ze]of Object.entries(N||{}))K[Pe]=ze}if(_ instanceof ns){const Pe=_.getScopes().filter(ze=>""!==ze);Pe.length>0&&(K.scopes=Pe.join(","))}w.tenantId&&(K.tid=w.tenantId);const ye=K;for(const Pe of Object.keys(ye))void 0===ye[Pe]&&delete ye[Pe];return`${function({config:w}){return w.emulator?pn(w,"emulator/auth/handler"):`https://${w.authDomain}/__/auth/handler`}(w)}?${(0,B.xO)(ye).slice(1)}`}const Oo="webStorageSupport";class ba extends class{constructor(_){this.factorId=_}_process(_,y,C){switch(y.type){case"enroll":return this._finalizeEnroll(_,y.credential,C);case"signin":return this._finalizeSignIn(_,y.credential);default:return se("unexpected MultiFactorSessionType")}}}{constructor(_){super("phone"),this.credential=_}static _fromCredential(_){return new ba(_)}_finalizeEnroll(_,y,C){return function(w,_){return Pt(w,"POST","/v2/accounts/mfaEnrollment:finalize",st(w,_))}(_,{idToken:y,displayName:C,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(_,y){return function(w,_){return Pt(w,"POST","/v2/accounts/mfaSignIn:finalize",st(w,_))}(_,{mfaPendingCredential:y,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let ag=(()=>{class w{constructor(){}static assertion(y){return ba._fromCredential(y)}}return w.FACTOR_ID="phone",w})();var w;class ny{constructor(_){this.auth=_,this.internalListeners=new Map}getUid(){var _;return this.assertAuthConfigured(),(null===(_=this.auth.currentUser)||void 0===_?void 0:_.uid)||null}getToken(_){var y=this;return(0,f.Z)(function*(){return y.assertAuthConfigured(),yield y.auth._initializationPromise,y.auth.currentUser?{accessToken:yield y.auth.currentUser.getIdToken(_)}:null})()}addAuthTokenListener(_){if(this.assertAuthConfigured(),this.internalListeners.has(_))return;const y=this.auth.onIdTokenChanged(C=>{var R;_((null===(R=C)||void 0===R?void 0:R.stsTokenManager.accessToken)||null)});this.internalListeners.set(_,y),this.updateProactiveRefresh()}removeAuthTokenListener(_){this.assertAuthConfigured();const y=this.internalListeners.get(_);!y||(this.internalListeners.delete(_),y(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Ca(){return window}function ji(){return(ji=(0,f.Z)(function*(w,_,y){var C;const{BuildInfo:R}=Ca();he(_.sessionId,"AuthEvent did not contain a session ID");const N=yield jw(_.sessionId),K={};return hi()?K.ibi=R.packageName:ra()?K.apn=R.packageName:ct(w,"operation-not-supported-in-this-environment"),R.displayName&&(K.appDisplayName=R.displayName),K.sessionId=N,Su(w,y,_.type,void 0,null!==(C=_.eventId)&&void 0!==C?C:void 0,K)})).apply(this,arguments)}function oh(){return(oh=(0,f.Z)(function*(w){const{BuildInfo:_}=Ca(),y={};hi()?y.iosBundleId=_.packageName:ra()?y.androidPackageName=_.packageName:ct(w,"operation-not-supported-in-this-environment"),yield hn(w,y)})).apply(this,arguments)}function ug(){return(ug=(0,f.Z)(function*(w,_,y){const{cordova:C}=Ca();let R=()=>{};try{yield new Promise((N,K)=>{let ye=null;function Pe(){var nt;N();const Tn=null===(nt=C.plugins.browsertab)||void 0===nt?void 0:nt.close;"function"==typeof Tn&&Tn(),"function"==typeof(null==y?void 0:y.close)&&y.close()}function ze(){ye||(ye=window.setTimeout(()=>{K(it(w,"redirect-cancelled-by-user"))},2e3))}function at(){"visible"===(null==document?void 0:document.visibilityState)&&ze()}_.addPassiveListener(Pe),document.addEventListener("resume",ze,!1),ra()&&document.addEventListener("visibilitychange",at,!1),R=()=>{_.removePassiveListener(Pe),document.removeEventListener("resume",ze,!1),document.removeEventListener("visibilitychange",at,!1),ye&&window.clearTimeout(ye)}})}finally{R()}})).apply(this,arguments)}function jw(w){return ah.apply(this,arguments)}function ah(){return(ah=(0,f.Z)(function*(w){const _=Hw(w),y=yield crypto.subtle.digest("SHA-256",_);return Array.from(new Uint8Array(y)).map(R=>R.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Hw(w){if(he(/[0-9a-zA-Z]+/.test(w),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(w);const _=new ArrayBuffer(w.length),y=new Uint8Array(_);for(let C=0;C<w.length;C++)y[C]=w.charCodeAt(C);return y}w="Browser",(0,ve._registerComponent)(new le.wA("auth",(_,{options:y})=>{const C=_.getProvider("app").getImmediate(),{apiKey:R,authDomain:N}=C.options;return(K=>{Ce(R&&!R.includes(":"),"invalid-api-key",{appName:K.name}),Ce(!(null==N?void 0:N.includes(":")),"argument-error",{appName:K.name});const ye={apiKey:R,authDomain:N,clientPlatform:w,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:or(w)},Pe=new N_(K,ye);return function(w,_){const y=(null==_?void 0:_.persistence)||[],C=(Array.isArray(y)?y:[y]).map(fe);(null==_?void 0:_.errorMap)&&w._updateErrorMap(_.errorMap),w._initializeWithPersistence(C,null==_?void 0:_.popupRedirectResolver)}(Pe,y),Pe})(C)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((_,y,C)=>{_.getProvider("auth-internal").initialize()})),(0,ve._registerComponent)(new le.wA("auth-internal",_=>{const y=Bt(_.getProvider("auth").getImmediate());return new ny(y)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ve.registerVersion)("@firebase/auth","0.18.0",void 0);class Gw extends Iu{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(_=>{this.resolveInialized=_})}addPassiveListener(_){this.passiveListeners.add(_)}removePassiveListener(_){this.passiveListeners.delete(_)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(_){return this.resolveInialized(),this.passiveListeners.forEach(y=>y(_)),super.onEvent(_)}initialized(){var _=this;return(0,f.Z)(function*(){yield _.initPromise})()}}function ry(w){return Da.apply(this,arguments)}function Da(){return(Da=(0,f.Z)(function*(w){const _=yield Ia()._get(uh(w));return _&&(yield Ia()._remove(uh(w))),_})).apply(this,arguments)}function ps(){const w=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let y=0;y<20;y++){const C=Math.floor(Math.random()*_.length);w.push(_.charAt(C))}return w.join("")}function Ia(){return fe(Fc)}function uh(w){return Kt("authEvent",w.config.apiKey,w.name)}function cg(w){if(!(null==w?void 0:w.includes("?")))return{};const[_,...y]=w.split("?");return(0,B.zd)(y.join("?"))}function ch(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:it("no-auth-event")}}function lh(){var w;return(null===(w=null==self?void 0:self.location)||void 0===w?void 0:w.protocol)||null}function uy(w=(0,B.z$)()){return!("file:"!==lh()&&"ionic:"!==lh()||!w.toLowerCase().match(/iphone|ipad|ipod|android/))}function hh(){try{const w=self.localStorage,_=Lc();if(w)return w.setItem(_,"1"),w.removeItem(_),!function(w=(0,B.z$)()){return(0,B.w1)()&&11===(null==document?void 0:document.documentMode)||function(w=(0,B.z$)()){return/Edge\/\d+/.test(w)}(w)}()||(0,B.hl)()}catch(w){return hg()&&(0,B.hl)()}return!1}function hg(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function fn(){return("http:"===lh()||"https:"===lh()||(0,B.ru)()||uy())&&!((0,B.b$)()||(0,B.UG)())&&hh()&&!hg()}function dy(){return uy()&&"undefined"!=typeof document}function Jc(){return(Jc=(0,f.Z)(function*(){return!!dy()&&new Promise(w=>{const _=setTimeout(()=>{w(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(_),w(!0)})})})).apply(this,arguments)}const $r={LOCAL:"local",NONE:"none",SESSION:"session"},Xc=Ce,fg="persistence";function pg(w){return gg.apply(this,arguments)}function gg(){return(gg=(0,f.Z)(function*(w){yield w._initializationPromise;const _=Yw(),y=Kt(fg,w.config.apiKey,w.name);(null==_?void 0:_.sessionStorage)&&_.sessionStorage.setItem(y,w._getPersistence())})).apply(this,arguments)}function Yw(){return"undefined"!=typeof window?window:null}const el=Ce;class In{constructor(){this.browserResolver=fe(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=os,this._completeRedirectFn=va}_openPopup(_,y,C,R){var N=this;return(0,f.Z)(function*(){var K;he(null===(K=N.eventManagers[_._key()])||void 0===K?void 0:K.manager,"_initialize() not called before _openPopup()");const ye=Su(_,y,C,Re(),R);return function(w,_,y,C=500,R=600){const N=Math.max((window.screen.availHeight-R)/2,0).toString(),K=Math.max((window.screen.availWidth-C)/2,0).toString();let ye="";const Pe=Object.assign(Object.assign({},js),{width:C.toString(),height:R.toString(),top:N,left:K}),ze=(0,B.z$)().toLowerCase();y&&(ye=Id(ze)?"_blank":y),wc(ze)&&(_=_||"http://localhost",Pe.scrollbars="yes");const at=Object.entries(Pe).reduce((Tn,[Sn,nl])=>`${Tn}${Sn}=${nl},`,"");if(function(w=(0,B.z$)()){var _;return hi(w)&&!!(null===(_=window.navigator)||void 0===_?void 0:_.standalone)}(ze)&&"_self"!==ye)return function(w,_){const y=document.createElement("a");y.href=w,y.target=_;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),y.dispatchEvent(C)}(_||"",ye),new X_(null);const nt=window.open(_||"",ye,at);Ce(nt,w,"popup-blocked");try{nt.focus()}catch(Tn){}return new X_(nt)}(_,ye,Lc())})()}_openRedirect(_,y,C,R){var N=this;return(0,f.Z)(function*(){return yield N._originValidation(_),w=Su(_,y,C,Re(),R),rn().location.href=w,new Promise(()=>{});var w})()}_initialize(_){const y=_._key();if(this.eventManagers[y]){const{manager:R,promise:N}=this.eventManagers[y];return R?Promise.resolve(R):(he(N,"If manager is not set, promise should be"),N)}const C=this.initAndGetManager(_);return this.eventManagers[y]={promise:C},C}initAndGetManager(_){var y=this;return(0,f.Z)(function*(){const C=yield function(w){return ih.apply(this,arguments)}(_),R=new Iu(_);return C.register("authEvent",N=>(Ce(null==N?void 0:N.authEvent,_,"invalid-auth-event"),{status:R.onEvent(N.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),y.eventManagers[_._key()]={manager:R},y.iframes[_._key()]=C,R})()}_isIframeWebStorageSupported(_,y){this.iframes[_._key()].send(Oo,{type:Oo},R=>{var N;const K=null===(N=null==R?void 0:R[0])||void 0===N?void 0:N[Oo];void 0!==K&&y(!!K),ct(_,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(_){const y=_._key();return this.originValidationPromises[y]||(this.originValidationPromises[y]=function(w){return rh.apply(this,arguments)}(_)),this.originValidationPromises[y]}get _shouldInitProactively(){return Vi()||Dd()||hi()}}),this.cordovaResolver=fe(class{constructor(){this._redirectPersistence=os,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=va}_initialize(_){var y=this;return(0,f.Z)(function*(){const C=_._key();let R=y.eventManagers.get(C);return R||(R=new Gw(_),y.eventManagers.set(C,R),y.attachCallbackListeners(_,R)),R})()}_openPopup(_){ct(_,"operation-not-supported-in-this-environment")}_openRedirect(_,y,C,R){var N=this;return(0,f.Z)(function*(){!function(w){var _,y,C,R,N,K,ye,Pe,ze,at;const nt=Ca();Ce("function"==typeof(null===(_=null==nt?void 0:nt.universalLinks)||void 0===_?void 0:_.subscribe),w,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Ce(void 0!==(null===(y=null==nt?void 0:nt.BuildInfo)||void 0===y?void 0:y.packageName),w,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Ce("function"==typeof(null===(N=null===(R=null===(C=null==nt?void 0:nt.cordova)||void 0===C?void 0:C.plugins)||void 0===R?void 0:R.browsertab)||void 0===N?void 0:N.openUrl),w,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ce("function"==typeof(null===(Pe=null===(ye=null===(K=null==nt?void 0:nt.cordova)||void 0===K?void 0:K.plugins)||void 0===ye?void 0:ye.browsertab)||void 0===Pe?void 0:Pe.isAvailable),w,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ce("function"==typeof(null===(at=null===(ze=null==nt?void 0:nt.cordova)||void 0===ze?void 0:ze.InAppBrowser)||void 0===at?void 0:at.open),w,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(_);const K=yield N._initialize(_);yield K.initialized(),K.resetRedirect(),Jp.clear(),yield N._originValidation(_);const ye=function(w,_,y=null){return{type:_,eventId:y,urlResponse:null,sessionId:ps(),postBody:null,tenantId:w.tenantId,error:it(w,"no-auth-event")}}(_,C,R);yield function(w,_){return Ia()._set(uh(w),_)}(_,ye);const Pe=yield function(w,_,y){return ji.apply(this,arguments)}(_,ye,y),ze=yield function(w){const{cordova:_}=Ca();return new Promise(y=>{_.plugins.browsertab.isAvailable(C=>{let R=null;C?_.plugins.browsertab.openUrl(w):R=_.InAppBrowser.open(w,function(w=(0,B.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(w)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(w)}()?"_blank":"_system","location=yes"),y(R)})})}(Pe);return function(w,_,y){return ug.apply(this,arguments)}(_,K,ze)})()}_isIframeWebStorageSupported(_,y){throw new Error("Method not implemented.")}_originValidation(_){const y=_._key();return this.originValidationPromises[y]||(this.originValidationPromises[y]=function(w){return oh.apply(this,arguments)}(_)),this.originValidationPromises[y]}attachCallbackListeners(_,y){const{universalLinks:C,handleOpenURL:R,BuildInfo:N}=Ca(),K=setTimeout((0,f.Z)(function*(){yield ry(_),y.onEvent(ch())}),500),ye=function(){var at=(0,f.Z)(function*(nt){clearTimeout(K);const Tn=yield ry(_);let Sn=null;Tn&&(null==nt?void 0:nt.url)&&(Sn=function(w,_){var y,C;const R=function(w){const _=cg(w),y=_.link?decodeURIComponent(_.link):void 0,C=cg(y).link,R=_.deep_link_id?decodeURIComponent(_.deep_link_id):void 0;return cg(R).link||R||C||y||w}(_);if(R.includes("/__/auth/callback")){const N=cg(R),K=N.firebaseError?function(w){try{return JSON.parse(w)}catch(_){return null}}(decodeURIComponent(N.firebaseError)):null,ye=null===(C=null===(y=null==K?void 0:K.code)||void 0===y?void 0:y.split("auth/"))||void 0===C?void 0:C[1],Pe=ye?it(ye):null;return Pe?{type:w.type,eventId:w.eventId,tenantId:w.tenantId,error:Pe,urlResponse:null,sessionId:null,postBody:null}:{type:w.type,eventId:w.eventId,tenantId:w.tenantId,sessionId:w.sessionId,urlResponse:R,postBody:null}}return null}(Tn,nt.url)),y.onEvent(Sn||ch())});return function(Tn){return at.apply(this,arguments)}}();void 0!==C&&"function"==typeof C.subscribe&&C.subscribe(null,ye);const Pe=R,ze=`${N.packageName.toLowerCase()}://`;Ca().handleOpenURL=function(){var at=(0,f.Z)(function*(nt){if(nt.toLowerCase().startsWith(ze)&&ye({url:nt}),"function"==typeof Pe)try{Pe(nt)}catch(Tn){console.error(Tn)}});return function(nt){return at.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=os,this._completeRedirectFn=va}_initialize(_){var y=this;return(0,f.Z)(function*(){return yield y.selectUnderlyingResolver(),y.assertedUnderlyingResolver._initialize(_)})()}_openPopup(_,y,C,R){var N=this;return(0,f.Z)(function*(){return yield N.selectUnderlyingResolver(),N.assertedUnderlyingResolver._openPopup(_,y,C,R)})()}_openRedirect(_,y,C,R){var N=this;return(0,f.Z)(function*(){return yield N.selectUnderlyingResolver(),N.assertedUnderlyingResolver._openRedirect(_,y,C,R)})()}_isIframeWebStorageSupported(_,y){this.assertedUnderlyingResolver._isIframeWebStorageSupported(_,y)}_originValidation(_){return this.assertedUnderlyingResolver._originValidation(_)}get _shouldInitProactively(){return dy()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return el(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var _=this;return(0,f.Z)(function*(){if(_.underlyingResolver)return;const y=yield function(){return Jc.apply(this,arguments)}();_.underlyingResolver=y?_.cordovaResolver:_.browserResolver})()}}function fh(w){return w.unwrap()}function fy(w){return xu(w)}function dr(w,_){var y;const C=null===(y=_.customData)||void 0===y?void 0:y._tokenResponse;if("auth/multi-factor-auth-required"===_.code)_.resolver=new Qw(w,function(w,_){var y;const C=(0,B.m9)(w),R=_;return Ce(_.operationType,C,"argument-error"),Ce(null===(y=R.serverResponse)||void 0===y?void 0:y.mfaPendingCredential,C,"argument-error"),Gd._fromError(C,R)}(w,_));else if(C){const R=xu(_),N=_;R&&(N.credential=R,N.tenantId=C.tenantId||void 0,N.email=C.email||void 0,N.phoneNumber=C.phoneNumber||void 0)}}function xu(w){const{_tokenResponse:_}=w instanceof B.ZR?w.customData:w;if(!_)return null;if(!(w instanceof B.ZR)&&"temporaryProof"in _&&"phoneNumber"in _)return yi.credentialFromResult(w);const y=_.providerId;if(!y||"password"===y)return null;let C;switch(y){case"google.com":C=Sc;break;case"facebook.com":C=Od;break;case"github.com":C=Nd;break;case"twitter.com":C=Pd;break;default:const{oauthIdToken:R,oauthAccessToken:N,oauthTokenSecret:K,pendingToken:ye,nonce:Pe}=_;return N||K||R||ye?ye?y.startsWith("saml.")?ca._create(y,ye):Vr._fromParams({providerId:y,signInMethod:y,pendingToken:ye,idToken:R,accessToken:N}):new yo(y).credential({idToken:R,accessToken:N,rawNonce:Pe}):null}return w instanceof B.ZR?C.credentialFromError(w):C.credentialFromResult(w)}function hr(w,_){return mg.apply(this,arguments)}function mg(){return(mg=(0,f.Z)(function*(w,_){let y;try{y=yield _}catch(N){throw N instanceof B.ZR&&dr(w,N),N}const{operationType:C,user:R}=y;return{operationType:C,credential:fy(y),additionalUserInfo:Lp(y),user:gs.getOrCreate(R)}})).apply(this,arguments)}function _g(w,_){return ph.apply(this,arguments)}function ph(){return(ph=(0,f.Z)(function*(w,_){const y=yield _;return{verificationId:y.verificationId,confirm:C=>hr(w,y.confirm(C))}})).apply(this,arguments)}class Qw{constructor(_,y){this.resolver=y,this.auth=function(w){return w.wrapped()}(_)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(_){return hr(fh(this.auth),this.resolver.resolveSignIn(_))}}class gs{constructor(_){this._delegate=_,this.multiFactor=function(w){const _=(0,B.m9)(w);return ha.has(_)||ha.set(_,da._fromUser(_)),ha.get(_)}(_)}static getOrCreate(_){return gs.USER_MAP.has(_)||gs.USER_MAP.set(_,new gs(_)),gs.USER_MAP.get(_)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(_){return this._delegate.getIdTokenResult(_)}getIdToken(_){return this._delegate.getIdToken(_)}linkAndRetrieveDataWithCredential(_){return this.linkWithCredential(_)}linkWithCredential(_){var y=this;return(0,f.Z)(function*(){return hr(y.auth,xp(y._delegate,_))})()}linkWithPhoneNumber(_,y){var C=this;return(0,f.Z)(function*(){return _g(C.auth,function(w,_,y){return Eu.apply(this,arguments)}(C._delegate,_,y))})()}linkWithPopup(_){var y=this;return(0,f.Z)(function*(){return hr(y.auth,function(w,_,y){return zc.apply(this,arguments)}(y._delegate,_,In))})()}linkWithRedirect(_){var y=this;return(0,f.Z)(function*(){return yield pg(Bt(y.auth)),function(w,_,y){return function(w,_,y){return Ei.apply(this,arguments)}(w,_,y)}(y._delegate,_,In)})()}reauthenticateAndRetrieveDataWithCredential(_){return this.reauthenticateWithCredential(_)}reauthenticateWithCredential(_){var y=this;return(0,f.Z)(function*(){return hr(y.auth,ru(y._delegate,_))})()}reauthenticateWithPhoneNumber(_,y){return _g(this.auth,function(w,_,y){return Kp.apply(this,arguments)}(this._delegate,_,y))}reauthenticateWithPopup(_){return hr(this.auth,function(w,_,y){return ds.apply(this,arguments)}(this._delegate,_,In))}reauthenticateWithRedirect(_){var y=this;return(0,f.Z)(function*(){return yield pg(Bt(y.auth)),function(w,_,y){return function(w,_,y){return Us.apply(this,arguments)}(w,_,y)}(y._delegate,_,In)})()}sendEmailVerification(_){return function(w,_){return Ps.apply(this,arguments)}(this._delegate,_)}unlink(_){var y=this;return(0,f.Z)(function*(){return yield function(w,_){return Rc.apply(this,arguments)}(y._delegate,_),y})()}updateEmail(_){return function(w,_){return jd((0,B.m9)(w),_,null)}(this._delegate,_)}updatePassword(_){return function(w,_){return jd((0,B.m9)(w),null,_)}(this._delegate,_)}updatePhoneNumber(_){return function(w,_){return Yp.apply(this,arguments)}(this._delegate,_)}updateProfile(_){return function(w,_){return Ud.apply(this,arguments)}(this._delegate,_)}verifyBeforeUpdateEmail(_,y){return function(w,_,y){return ni.apply(this,arguments)}(this._delegate,_,y)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}gs.USER_MAP=new WeakMap;const tl=Ce;let yg=(()=>{class w{constructor(y,C){if(this.app=y,C.isInitialized())return this._delegate=C.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:R}=y.options;tl(R,"invalid-api-key",{appName:y.name});let N=[It];if("undefined"!=typeof window){N=function(w,_){const y=Yw();if(!(null==y?void 0:y.sessionStorage))return[];const C=Kt(fg,w,_);switch(y.sessionStorage.getItem(C)){case $r.NONE:return[It];case $r.LOCAL:return[us,os];case $r.SESSION:return[os];default:return[]}}(R,y.name);for(const ye of[us,Fc,os])N.includes(ye)||N.push(ye)}tl(R,"invalid-api-key",{appName:y.name});const K="undefined"!=typeof window?In:void 0;this._delegate=C.initialize({options:{persistence:N,popupRedirectResolver:K}}),this._delegate._updateErrorMap(ce),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?gs.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(y){this._delegate.languageCode=y}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(y){this._delegate.tenantId=y}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(y,C){!function(w,_,y){const C=Bt(w);Ce(C._canInitEmulator,C,"emulator-config-failed"),Ce(/^https?:\/\//.test(_),C,"invalid-emulator-scheme");const R=!!(null==y?void 0:y.disableWarnings),N=Yt(_),{host:K,port:ye}=function(w){const _=Yt(w),y=/(\/\/)?([^?#/]+)/.exec(w.substr(_.length));if(!y)return{host:"",port:null};const C=y[2].split("@").pop()||"",R=/^(\[[^\]]+\])(:|$)/.exec(C);if(R){const N=R[1];return{host:N,port:As(C.substr(N.length+1))}}{const[N,K]=C.split(":");return{host:N,port:As(K)}}}(_);C.config.emulator={url:`${N}//${K}${null===ye?"":`:${ye}`}/`},C.settings.appVerificationDisabledForTesting=!0,C.emulatorConfig=Object.freeze({host:K,port:ye,protocol:N.replace(":",""),options:Object.freeze({disableWarnings:R})}),function(w){function _(){const y=document.createElement("p"),C=y.style;y.innerText="Running in emulator mode. Do not use with production credentials.",C.position="fixed",C.width="100%",C.backgroundColor="#ffffff",C.border=".1em solid #000000",C.color="#b50000",C.bottom="0px",C.left="0px",C.margin="0px",C.zIndex="10000",C.textAlign="center",y.classList.add("firebase-emulator-warning"),document.body.appendChild(y)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&!w&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}(R)}(this._delegate,y,C)}applyActionCode(y){return function(w,_){return Eo.apply(this,arguments)}(this._delegate,y)}checkActionCode(y){return uu(this._delegate,y)}confirmPasswordReset(y,C){return function(w,_,y){return ot.apply(this,arguments)}(this._delegate,y,C)}createUserWithEmailAndPassword(y,C){var R=this;return(0,f.Z)(function*(){return hr(R._delegate,function(w,_,y){return Ie.apply(this,arguments)}(R._delegate,y,C))})()}fetchProvidersForEmail(y){return this.fetchSignInMethodsForEmail(y)}fetchSignInMethodsForEmail(y){return function(w,_){return Pp.apply(this,arguments)}(this._delegate,y)}isSignInWithEmailLink(y){return function(w,_){const y=Tc.parseLink(_);return"EMAIL_SIGNIN"===(null==y?void 0:y.operation)}(0,y)}getRedirectResult(){var y=this;return(0,f.Z)(function*(){tl(fn(),y._delegate,"operation-not-supported-in-this-environment");const C=yield function(w,_){return Bs.apply(this,arguments)}(y._delegate,In);return C?hr(y._delegate,Promise.resolve(C)):{credential:null,user:null}})()}addFrameworkForLogging(y){!function(w,_){Bt(w)._logFramework(_)}(this._delegate,y)}onAuthStateChanged(y,C,R){const{next:N,error:K,complete:ye}=py(y,C,R);return this._delegate.onAuthStateChanged(N,K,ye)}onIdTokenChanged(y,C,R){const{next:N,error:K,complete:ye}=py(y,C,R);return this._delegate.onIdTokenChanged(N,K,ye)}sendSignInLinkToEmail(y,C){return function(w,_,y){return _n.apply(this,arguments)}(this._delegate,y,C)}sendPasswordResetEmail(y,C){return function(w,_,y){return kc.apply(this,arguments)}(this._delegate,y,C||void 0)}setPersistence(y){var C=this;return(0,f.Z)(function*(){let R;switch(function(w,_){Xc(Object.values($r).includes(_),w,"invalid-persistence-type"),(0,B.b$)()?Xc(_!==$r.SESSION,w,"unsupported-persistence-type"):(0,B.UG)()?Xc(_===$r.NONE,w,"unsupported-persistence-type"):hg()?Xc(_===$r.NONE||_===$r.LOCAL&&(0,B.hl)(),w,"unsupported-persistence-type"):Xc(_===$r.NONE||hh(),w,"unsupported-persistence-type")}(C._delegate,y),y){case $r.SESSION:R=os;break;case $r.LOCAL:R=(yield fe(us)._isAvailable())?us:Fc;break;case $r.NONE:R=It;break;default:return ct("argument-error",{appName:C._delegate.name})}return C._delegate.setPersistence(R)})()}signInAndRetrieveDataWithCredential(y){return this.signInWithCredential(y)}signInAnonymously(){return hr(this._delegate,function(w){return eu.apply(this,arguments)}(this._delegate))}signInWithCredential(y){return hr(this._delegate,Pc(this._delegate,y))}signInWithCustomToken(y){return hr(this._delegate,function(w,_){return ur.apply(this,arguments)}(this._delegate,y))}signInWithEmailAndPassword(y,C){return hr(this._delegate,function(w,_,y){return Pc((0,B.m9)(w),Tp.credential(_,y))}(this._delegate,y,C))}signInWithEmailLink(y,C){return hr(this._delegate,function(w,_,y){return ti.apply(this,arguments)}(this._delegate,y,C))}signInWithPhoneNumber(y,C){return _g(this._delegate,function(w,_,y){return eh.apply(this,arguments)}(this._delegate,y,C))}signInWithPopup(y){var C=this;return(0,f.Z)(function*(){return tl(fn(),C._delegate,"operation-not-supported-in-this-environment"),hr(C._delegate,function(w,_,y){return Ot.apply(this,arguments)}(C._delegate,y,In))})()}signInWithRedirect(y){var C=this;return(0,f.Z)(function*(){return tl(fn(),C._delegate,"operation-not-supported-in-this-environment"),yield pg(C._delegate),function(w,_,y){return function(w,_,y){return xo.apply(this,arguments)}(w,_,y)}(C._delegate,y,In)})()}updateCurrentUser(y){return this._delegate.updateCurrentUser(y)}verifyPasswordResetCode(y){return function(w,_){return bo.apply(this,arguments)}(this._delegate,y)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return w.Persistence=$r,w})();function py(w,_,y){let C=w;"function"!=typeof w&&({next:C,error:_,complete:y}=w);const R=C;return{next:K=>R(K&&gs.getOrCreate(K)),error:_,complete:y}}class vg{constructor(){this.providerId="phone",this._delegate=new yi(fh(te.Z.auth()))}static credential(_,y){return yi.credential(_,y)}verifyPhoneNumber(_,y){return this._delegate.verifyPhoneNumber(_,y)}unwrap(){return this._delegate}}vg.PHONE_SIGN_IN_METHOD=yi.PHONE_SIGN_IN_METHOD,vg.PROVIDER_ID=yi.PROVIDER_ID;const Jw=Ce;class gy{constructor(_,y,C=te.Z.app()){var R;Jw(null===(R=C.options)||void 0===R?void 0:R.apiKey,"invalid-api-key",{appName:C.name}),this._delegate=new ma(_,y,C.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(w){w.INTERNAL.registerComponent(new le.wA("auth-compat",_=>{const y=_.getProvider("app-compat").getImmediate(),C=_.getProvider("auth");return new yg(y,C)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Tp,FacebookAuthProvider:Od,GithubAuthProvider:Nd,GoogleAuthProvider:Sc,OAuthProvider:yo,PhoneAuthProvider:vg,PhoneMultiFactorGenerator:ag,RecaptchaVerifier:gy,TwitterAuthProvider:Pd,Auth:yg,AuthCredential:ar,Error:B.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),w.registerVersion("@firebase/auth-compat","0.1.3")}(te.Z)},7574:(Ge,we,L)=>{"use strict";L.d(we,{y:()=>V});var f=L(7393),B=L(9181),ve=L(6490),oe=L(6554),le=L(4487);var F=L(2494);let V=(()=>{class Y{constructor(ce){this._isScalar=!1,ce&&(this._subscribe=ce)}lift(ce){const re=new Y;return re.source=this,re.operator=ce,re}subscribe(ce,re,ne){const{operator:Oe}=this,Be=function(Y,z,ce){if(Y){if(Y instanceof f.L)return Y;if(Y[B.b])return Y[B.b]()}return Y||z||ce?new f.L(Y,z,ce):new f.L(ve.c)}(ce,re,ne);if(Be.add(Oe?Oe.call(Be,this.source):this.source||F.v.useDeprecatedSynchronousErrorHandling&&!Be.syncErrorThrowable?this._subscribe(Be):this._trySubscribe(Be)),F.v.useDeprecatedSynchronousErrorHandling&&Be.syncErrorThrowable&&(Be.syncErrorThrowable=!1,Be.syncErrorThrown))throw Be.syncErrorValue;return Be}_trySubscribe(ce){try{return this._subscribe(ce)}catch(re){F.v.useDeprecatedSynchronousErrorHandling&&(ce.syncErrorThrown=!0,ce.syncErrorValue=re),function(Y){for(;Y;){const{closed:z,destination:ce,isStopped:re}=Y;if(z||re)return!1;Y=ce&&ce instanceof f.L?ce:null}return!0}(ce)?ce.error(re):console.warn(re)}}forEach(ce,re){return new(re=X(re))((ne,Oe)=>{let Be;Be=this.subscribe(Qe=>{try{ce(Qe)}catch(ct){Oe(ct),Be&&Be.unsubscribe()}},Oe,ne)})}_subscribe(ce){const{source:re}=this;return re&&re.subscribe(ce)}[oe.L](){return this}pipe(...ce){return 0===ce.length?this:function(Y){return 0===Y.length?le.y:1===Y.length?Y[0]:function(ce){return Y.reduce((re,ne)=>ne(re),ce)}}(ce)(this)}toPromise(ce){return new(ce=X(ce))((re,ne)=>{let Oe;this.subscribe(Be=>Oe=Be,Be=>ne(Be),()=>re(Oe))})}}return Y.create=z=>new Y(z),Y})();function X(Y){if(Y||(Y=F.v.Promise||Promise),!Y)throw new Error("no Promise impl found");return Y}},6490:(Ge,we,L)=>{"use strict";L.d(we,{c:()=>B});var f=L(2494),te=L(4449);const B={closed:!0,next(ve){},error(ve){if(f.v.useDeprecatedSynchronousErrorHandling)throw ve;(0,te.z)(ve)},complete(){}}},9765:(Ge,we,L)=>{"use strict";L.d(we,{Yc:()=>le,xQ:()=>ue});var f=L(7574),te=L(7393),B=L(5319),ve=L(7971),_e=L(8858),oe=L(9181);class le extends te.L{constructor(V){super(V),this.destination=V}}let ue=(()=>{class F extends f.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[oe.b](){return new le(this)}lift(X){const Y=new $(this,this);return Y.operator=X,Y}next(X){if(this.closed)throw new ve.N;if(!this.isStopped){const{observers:Y}=this,z=Y.length,ce=Y.slice();for(let re=0;re<z;re++)ce[re].next(X)}}error(X){if(this.closed)throw new ve.N;this.hasError=!0,this.thrownError=X,this.isStopped=!0;const{observers:Y}=this,z=Y.length,ce=Y.slice();for(let re=0;re<z;re++)ce[re].error(X);this.observers.length=0}complete(){if(this.closed)throw new ve.N;this.isStopped=!0;const{observers:X}=this,Y=X.length,z=X.slice();for(let ce=0;ce<Y;ce++)z[ce].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(X){if(this.closed)throw new ve.N;return super._trySubscribe(X)}_subscribe(X){if(this.closed)throw new ve.N;return this.hasError?(X.error(this.thrownError),B.w.EMPTY):this.isStopped?(X.complete(),B.w.EMPTY):(this.observers.push(X),new _e.W(this,X))}asObservable(){const X=new f.y;return X.source=this,X}}return F.create=(V,X)=>new $(V,X),F})();class $ extends ue{constructor(V,X){super(),this.destination=V,this.source=X}next(V){const{destination:X}=this;X&&X.next&&X.next(V)}error(V){const{destination:X}=this;X&&X.error&&this.destination.error(V)}complete(){const{destination:V}=this;V&&V.complete&&this.destination.complete()}_subscribe(V){const{source:X}=this;return X?this.source.subscribe(V):B.w.EMPTY}}},8858:(Ge,we,L)=>{"use strict";L.d(we,{W:()=>te});var f=L(5319);class te extends f.w{constructor(ve,_e){super(),this.subject=ve,this.subscriber=_e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const ve=this.subject,_e=ve.observers;if(this.subject=null,!_e||0===_e.length||ve.isStopped||ve.closed)return;const oe=_e.indexOf(this.subscriber);-1!==oe&&_e.splice(oe,1)}}},7393:(Ge,we,L)=>{"use strict";L.d(we,{L:()=>le});var f=L(9105),te=L(6490),B=L(5319),ve=L(9181),_e=L(2494),oe=L(4449);class le extends B.w{constructor(F,V,X){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=te.c;break;case 1:if(!F){this.destination=te.c;break}if("object"==typeof F){F instanceof le?(this.syncErrorThrowable=F.syncErrorThrowable,this.destination=F,F.add(this)):(this.syncErrorThrowable=!0,this.destination=new ue(this,F));break}default:this.syncErrorThrowable=!0,this.destination=new ue(this,F,V,X)}}[ve.b](){return this}static create(F,V,X){const Y=new le(F,V,X);return Y.syncErrorThrowable=!1,Y}next(F){this.isStopped||this._next(F)}error(F){this.isStopped||(this.isStopped=!0,this._error(F))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(F){this.destination.next(F)}_error(F){this.destination.error(F),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:F}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=F,this}}class ue extends le{constructor(F,V,X,Y){super(),this._parentSubscriber=F;let z,ce=this;(0,f.m)(V)?z=V:V&&(z=V.next,X=V.error,Y=V.complete,V!==te.c&&(ce=Object.create(V),(0,f.m)(ce.unsubscribe)&&this.add(ce.unsubscribe.bind(ce)),ce.unsubscribe=this.unsubscribe.bind(this))),this._context=ce,this._next=z,this._error=X,this._complete=Y}next(F){if(!this.isStopped&&this._next){const{_parentSubscriber:V}=this;_e.v.useDeprecatedSynchronousErrorHandling&&V.syncErrorThrowable?this.__tryOrSetError(V,this._next,F)&&this.unsubscribe():this.__tryOrUnsub(this._next,F)}}error(F){if(!this.isStopped){const{_parentSubscriber:V}=this,{useDeprecatedSynchronousErrorHandling:X}=_e.v;if(this._error)X&&V.syncErrorThrowable?(this.__tryOrSetError(V,this._error,F),this.unsubscribe()):(this.__tryOrUnsub(this._error,F),this.unsubscribe());else if(V.syncErrorThrowable)X?(V.syncErrorValue=F,V.syncErrorThrown=!0):(0,oe.z)(F),this.unsubscribe();else{if(this.unsubscribe(),X)throw F;(0,oe.z)(F)}}}complete(){if(!this.isStopped){const{_parentSubscriber:F}=this;if(this._complete){const V=()=>this._complete.call(this._context);_e.v.useDeprecatedSynchronousErrorHandling&&F.syncErrorThrowable?(this.__tryOrSetError(F,V),this.unsubscribe()):(this.__tryOrUnsub(V),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(F,V){try{F.call(this._context,V)}catch(X){if(this.unsubscribe(),_e.v.useDeprecatedSynchronousErrorHandling)throw X;(0,oe.z)(X)}}__tryOrSetError(F,V,X){if(!_e.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{V.call(this._context,X)}catch(Y){return _e.v.useDeprecatedSynchronousErrorHandling?(F.syncErrorValue=Y,F.syncErrorThrown=!0,!0):((0,oe.z)(Y),!0)}return!1}_unsubscribe(){const{_parentSubscriber:F}=this;this._context=null,this._parentSubscriber=null,F.unsubscribe()}}},5319:(Ge,we,L)=>{"use strict";L.d(we,{w:()=>oe});var f=L(9796),te=L(1555),B=L(9105);const _e=(()=>{function ue($){return Error.call(this),this.message=$?`${$.length} errors occurred during unsubscription:\n${$.map((F,V)=>`${V+1}) ${F.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=$,this}return ue.prototype=Object.create(Error.prototype),ue})();class oe{constructor($){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,$&&(this._ctorUnsubscribe=!0,this._unsubscribe=$)}unsubscribe(){let $;if(this.closed)return;let{_parentOrParents:F,_ctorUnsubscribe:V,_unsubscribe:X,_subscriptions:Y}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,F instanceof oe)F.remove(this);else if(null!==F)for(let z=0;z<F.length;++z)F[z].remove(this);if((0,B.m)(X)){V&&(this._unsubscribe=void 0);try{X.call(this)}catch(z){$=z instanceof _e?le(z.errors):[z]}}if((0,f.k)(Y)){let z=-1,ce=Y.length;for(;++z<ce;){const re=Y[z];if((0,te.K)(re))try{re.unsubscribe()}catch(ne){$=$||[],ne instanceof _e?$=$.concat(le(ne.errors)):$.push(ne)}}}if($)throw new _e($)}add($){let F=$;if(!$)return oe.EMPTY;switch(typeof $){case"function":F=new oe($);case"object":if(F===this||F.closed||"function"!=typeof F.unsubscribe)return F;if(this.closed)return F.unsubscribe(),F;if(!(F instanceof oe)){const Y=F;F=new oe,F._subscriptions=[Y]}break;default:throw new Error("unrecognized teardown "+$+" added to Subscription.")}let{_parentOrParents:V}=F;if(null===V)F._parentOrParents=this;else if(V instanceof oe){if(V===this)return F;F._parentOrParents=[V,this]}else{if(-1!==V.indexOf(this))return F;V.push(this)}const X=this._subscriptions;return null===X?this._subscriptions=[F]:X.push(F),F}remove($){const F=this._subscriptions;if(F){const V=F.indexOf($);-1!==V&&F.splice(V,1)}}}var ue;function le(ue){return ue.reduce(($,F)=>$.concat(F instanceof _e?F.errors:F),[])}oe.EMPTY=((ue=new oe).closed=!0,ue)},2494:(Ge,we,L)=>{"use strict";L.d(we,{v:()=>te});let f=!1;const te={Promise:void 0,set useDeprecatedSynchronousErrorHandling(B){if(B){const ve=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+ve.stack)}else f&&console.log("RxJS: Back to a better error behavior. Thank you. <3");f=B},get useDeprecatedSynchronousErrorHandling(){return f}}},5345:(Ge,we,L)=>{"use strict";L.d(we,{IY:()=>ve,Ds:()=>oe,ft:()=>ue});var f=L(7393),te=L(7574),B=L(7444);class ve extends f.L{constructor(F){super(),this.parent=F}_next(F){this.parent.notifyNext(F)}_error(F){this.parent.notifyError(F),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class oe extends f.L{notifyNext(F){this.destination.next(F)}notifyError(F){this.destination.error(F)}notifyComplete(){this.destination.complete()}}function ue($,F){if(F.closed)return;if($ instanceof te.y)return $.subscribe(F);let V;try{V=(0,B.s)($)(F)}catch(X){F.error(X)}return V}},2441:(Ge,we,L)=>{"use strict";L.d(we,{c:()=>_e,N:()=>oe});var f=L(9765),te=L(7574),B=L(5319),ve=L(1307);class _e extends te.y{constructor(V,X){super(),this.source=V,this.subjectFactory=X,this._refCount=0,this._isComplete=!1}_subscribe(V){return this.getSubject().subscribe(V)}getSubject(){const V=this._subject;return(!V||V.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let V=this._connection;return V||(this._isComplete=!1,V=this._connection=new B.w,V.add(this.source.subscribe(new le(this.getSubject(),this))),V.closed&&(this._connection=null,V=B.w.EMPTY)),V}refCount(){return(0,ve.x)()(this)}}const oe=(()=>{const F=_e.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:F._subscribe},_isComplete:{value:F._isComplete,writable:!0},getSubject:{value:F.getSubject},connect:{value:F.connect},refCount:{value:F.refCount}}})();class le extends f.Yc{constructor(V,X){super(V),this.connectable=X}_error(V){this._unsubscribe(),super._error(V)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const V=this.connectable;if(V){this.connectable=null;const X=V._connection;V._refCount=0,V._subject=null,V._connection=null,X&&X.unsubscribe()}}}},9193:(Ge,we,L)=>{"use strict";L.d(we,{E:()=>te,c:()=>B});var f=L(7574);const te=new f.y(_e=>_e.complete());function B(_e){return _e?function(_e){return new f.y(oe=>_e.schedule(()=>oe.complete()))}(_e):te}},4402:(Ge,we,L)=>{"use strict";L.d(we,{D:()=>ce});var f=L(7574),te=L(7444),B=L(5319),ve=L(6554),le=L(4087),ue=L(377),V=L(4072),X=L(9489);function ce(re,ne){return ne?function(re,ne){if(null!=re){if(function(re){return re&&"function"==typeof re[ve.L]}(re))return function(re,ne){return new f.y(Oe=>{const Be=new B.w;return Be.add(ne.schedule(()=>{const Qe=re[ve.L]();Be.add(Qe.subscribe({next(ct){Be.add(ne.schedule(()=>Oe.next(ct)))},error(ct){Be.add(ne.schedule(()=>Oe.error(ct)))},complete(){Be.add(ne.schedule(()=>Oe.complete()))}}))})),Be})}(re,ne);if((0,V.t)(re))return function(re,ne){return new f.y(Oe=>{const Be=new B.w;return Be.add(ne.schedule(()=>re.then(Qe=>{Be.add(ne.schedule(()=>{Oe.next(Qe),Be.add(ne.schedule(()=>Oe.complete()))}))},Qe=>{Be.add(ne.schedule(()=>Oe.error(Qe)))}))),Be})}(re,ne);if((0,X.z)(re))return(0,le.r)(re,ne);if(function(re){return re&&"function"==typeof re[ue.hZ]}(re)||"string"==typeof re)return function(re,ne){if(!re)throw new Error("Iterable cannot be null");return new f.y(Oe=>{const Be=new B.w;let Qe;return Be.add(()=>{Qe&&"function"==typeof Qe.return&&Qe.return()}),Be.add(ne.schedule(()=>{Qe=re[ue.hZ](),Be.add(ne.schedule(function(){if(Oe.closed)return;let ct,it;try{const Ue=Qe.next();ct=Ue.value,it=Ue.done}catch(Ue){return void Oe.error(Ue)}it?Oe.complete():(Oe.next(ct),this.schedule())}))})),Be})}(re,ne)}throw new TypeError((null!==re&&typeof re||re)+" is not observable")}(re,ne):re instanceof f.y?re:new f.y((0,te.s)(re))}},6693:(Ge,we,L)=>{"use strict";L.d(we,{n:()=>ve});var f=L(7574),te=L(5015),B=L(4087);function ve(_e,oe){return oe?(0,B.r)(_e,oe):new f.y((0,te.V)(_e))}},6682:(Ge,we,L)=>{"use strict";L.d(we,{T:()=>_e});var f=L(7574),te=L(4869),B=L(3282),ve=L(6693);function _e(...oe){let le=Number.POSITIVE_INFINITY,ue=null,$=oe[oe.length-1];return(0,te.K)($)?(ue=oe.pop(),oe.length>1&&"number"==typeof oe[oe.length-1]&&(le=oe.pop())):"number"==typeof $&&(le=oe.pop()),null===ue&&1===oe.length&&oe[0]instanceof f.y?oe[0]:(0,B.J)(le)((0,ve.n)(oe,ue))}},5917:(Ge,we,L)=>{"use strict";L.d(we,{of:()=>ve});var f=L(4869),te=L(6693),B=L(4087);function ve(..._e){let oe=_e[_e.length-1];return(0,f.K)(oe)?(_e.pop(),(0,B.r)(_e,oe)):(0,te.n)(_e)}},8002:(Ge,we,L)=>{"use strict";L.d(we,{U:()=>te});var f=L(7393);function te(_e,oe){return function(ue){if("function"!=typeof _e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return ue.lift(new B(_e,oe))}}class B{constructor(oe,le){this.project=oe,this.thisArg=le}call(oe,le){return le.subscribe(new ve(oe,this.project,this.thisArg))}}class ve extends f.L{constructor(oe,le,ue){super(oe),this.project=le,this.count=0,this.thisArg=ue||this}_next(oe){let le;try{le=this.project.call(this.thisArg,oe,this.count++)}catch(ue){return void this.destination.error(ue)}this.destination.next(le)}}},3282:(Ge,we,L)=>{"use strict";L.d(we,{J:()=>B});var f=L(9773),te=L(4487);function B(ve=Number.POSITIVE_INFINITY){return(0,f.zg)(te.y,ve)}},9773:(Ge,we,L)=>{"use strict";L.d(we,{zg:()=>ve});var f=L(8002),te=L(4402),B=L(5345);function ve(ue,$,F=Number.POSITIVE_INFINITY){return"function"==typeof $?V=>V.pipe(ve((X,Y)=>(0,te.D)(ue(X,Y)).pipe((0,f.U)((z,ce)=>$(X,z,Y,ce))),F)):("number"==typeof $&&(F=$),V=>V.lift(new _e(ue,F)))}class _e{constructor($,F=Number.POSITIVE_INFINITY){this.project=$,this.concurrent=F}call($,F){return F.subscribe(new oe($,this.project,this.concurrent))}}class oe extends B.Ds{constructor($,F,V=Number.POSITIVE_INFINITY){super($),this.project=F,this.concurrent=V,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next($){this.active<this.concurrent?this._tryNext($):this.buffer.push($)}_tryNext($){let F;const V=this.index++;try{F=this.project($,V)}catch(X){return void this.destination.error(X)}this.active++,this._innerSub(F)}_innerSub($){const F=new B.IY(this),V=this.destination;V.add(F);const X=(0,B.ft)($,F);X!==F&&V.add(X)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext($){this.destination.next($)}notifyComplete(){const $=this.buffer;this.active--,$.length>0?this._next($.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},309:(Ge,we,L)=>{"use strict";L.d(we,{ht:()=>V,QV:()=>$});var f=L(7393),te=L(9193),B=L(5917),ve=L(7574);class ue{constructor(z,ce,re){this.kind=z,this.value=ce,this.error=re,this.hasValue="N"===z}observe(z){switch(this.kind){case"N":return z.next&&z.next(this.value);case"E":return z.error&&z.error(this.error);case"C":return z.complete&&z.complete()}}do(z,ce,re){switch(this.kind){case"N":return z&&z(this.value);case"E":return ce&&ce(this.error);case"C":return re&&re()}}accept(z,ce,re){return z&&"function"==typeof z.next?this.observe(z):this.do(z,ce,re)}toObservable(){switch(this.kind){case"N":return(0,B.of)(this.value);case"E":return Y=this.error,new ve.y(ce=>ce.error(Y));case"C":return(0,te.c)()}var Y;throw new Error("unexpected notification kind value")}static createNext(z){return void 0!==z?new ue("N",z):ue.undefinedValueNotification}static createError(z){return new ue("E",void 0,z)}static createComplete(){return ue.completeNotification}}function $(Y,z=0){return function(re){return re.lift(new F(Y,z))}}ue.completeNotification=new ue("C"),ue.undefinedValueNotification=new ue("N",void 0);class F{constructor(z,ce=0){this.scheduler=z,this.delay=ce}call(z,ce){return ce.subscribe(new V(z,this.scheduler,this.delay))}}class V extends f.L{constructor(z,ce,re=0){super(z),this.scheduler=ce,this.delay=re}static dispatch(z){const{notification:ce,destination:re}=z;ce.observe(re),this.unsubscribe()}scheduleMessage(z){this.destination.add(this.scheduler.schedule(V.dispatch,this.delay,new X(z,this.destination)))}_next(z){this.scheduleMessage(ue.createNext(z))}_error(z){this.scheduleMessage(ue.createError(z)),this.unsubscribe()}_complete(){this.scheduleMessage(ue.createComplete()),this.unsubscribe()}}class X{constructor(z,ce){this.notification=z,this.destination=ce}}},1307:(Ge,we,L)=>{"use strict";L.d(we,{x:()=>te});var f=L(7393);function te(){return function(oe){return oe.lift(new B(oe))}}class B{constructor(oe){this.connectable=oe}call(oe,le){const{connectable:ue}=this;ue._refCount++;const $=new ve(oe,ue),F=le.subscribe($);return $.closed||($.connection=ue.connect()),F}}class ve extends f.L{constructor(oe,le){super(oe),this.connectable=le}_unsubscribe(){const{connectable:oe}=this;if(!oe)return void(this.connection=null);this.connectable=null;const le=oe._refCount;if(le<=0)return void(this.connection=null);if(oe._refCount=le-1,le>1)return void(this.connection=null);const{connection:ue}=this,$=oe._connection;this.connection=null,$&&(!ue||$===ue)&&$.unsubscribe()}}},9673:(Ge,we,L)=>{"use strict";L.d(we,{R:()=>_e});var f=L(7574),te=L(4581),B=L(6561);class ve extends f.y{constructor(ue,$=0,F=te.e){super(),this.source=ue,this.delayTime=$,this.scheduler=F,(!(0,B.k)($)||$<0)&&(this.delayTime=0),(!F||"function"!=typeof F.schedule)&&(this.scheduler=te.e)}static create(ue,$=0,F=te.e){return new ve(ue,$,F)}static dispatch(ue){const{source:$,subscriber:F}=ue;return this.add($.subscribe(F))}_subscribe(ue){return this.scheduler.schedule(ve.dispatch,this.delayTime,{source:this.source,subscriber:ue})}}function _e(le,ue=0){return function(F){return F.lift(new oe(le,ue))}}class oe{constructor(ue,$){this.scheduler=ue,this.delay=$}call(ue,$){return new ve($,this.delay,this.scheduler).subscribe(ue)}}},3342:(Ge,we,L)=>{"use strict";L.d(we,{b:()=>ve});var f=L(7393);function te(){}var B=L(9105);function ve(le,ue,$){return function(V){return V.lift(new _e(le,ue,$))}}class _e{constructor(ue,$,F){this.nextOrObserver=ue,this.error=$,this.complete=F}call(ue,$){return $.subscribe(new oe(ue,this.nextOrObserver,this.error,this.complete))}}class oe extends f.L{constructor(ue,$,F,V){super(ue),this._tapNext=te,this._tapError=te,this._tapComplete=te,this._tapError=F||te,this._tapComplete=V||te,(0,B.m)($)?(this._context=this,this._tapNext=$):$&&(this._context=$,this._tapNext=$.next||te,this._tapError=$.error||te,this._tapComplete=$.complete||te)}_next(ue){try{this._tapNext.call(this._context,ue)}catch($){return void this.destination.error($)}this.destination.next(ue)}_error(ue){try{this._tapError.call(this._context,ue)}catch($){return void this.destination.error($)}this.destination.error(ue)}_complete(){try{this._tapComplete.call(this._context)}catch(ue){return void this.destination.error(ue)}return this.destination.complete()}}},4087:(Ge,we,L)=>{"use strict";L.d(we,{r:()=>B});var f=L(7574),te=L(5319);function B(ve,_e){return new f.y(oe=>{const le=new te.w;let ue=0;return le.add(_e.schedule(function(){ue!==ve.length?(oe.next(ve[ue++]),oe.closed||le.add(this.schedule())):oe.complete()})),le})}},6465:(Ge,we,L)=>{"use strict";L.d(we,{o:()=>B});var f=L(5319);class te extends f.w{constructor(_e,oe){super()}schedule(_e,oe=0){return this}}class B extends te{constructor(_e,oe){super(_e,oe),this.scheduler=_e,this.work=oe,this.pending=!1}schedule(_e,oe=0){if(this.closed)return this;this.state=_e;const le=this.id,ue=this.scheduler;return null!=le&&(this.id=this.recycleAsyncId(ue,le,oe)),this.pending=!0,this.delay=oe,this.id=this.id||this.requestAsyncId(ue,this.id,oe),this}requestAsyncId(_e,oe,le=0){return setInterval(_e.flush.bind(_e,this),le)}recycleAsyncId(_e,oe,le=0){if(null!==le&&this.delay===le&&!1===this.pending)return oe;clearInterval(oe)}execute(_e,oe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const le=this._execute(_e,oe);if(le)return le;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(_e,oe){let ue,le=!1;try{this.work(_e)}catch($){le=!0,ue=!!$&&$||new Error($)}if(le)return this.unsubscribe(),ue}_unsubscribe(){const _e=this.id,oe=this.scheduler,le=oe.actions,ue=le.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==ue&&le.splice(ue,1),null!=_e&&(this.id=this.recycleAsyncId(oe,_e,null)),this.delay=null}}},6102:(Ge,we,L)=>{"use strict";L.d(we,{v:()=>te});let f=(()=>{class B{constructor(_e,oe=B.now){this.SchedulerAction=_e,this.now=oe}schedule(_e,oe=0,le){return new this.SchedulerAction(this,_e).schedule(le,oe)}}return B.now=()=>Date.now(),B})();class te extends f{constructor(ve,_e=f.now){super(ve,()=>te.delegate&&te.delegate!==this?te.delegate.now():_e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(ve,_e=0,oe){return te.delegate&&te.delegate!==this?te.delegate.schedule(ve,_e,oe):super.schedule(ve,_e,oe)}flush(ve){const{actions:_e}=this;if(this.active)return void _e.push(ve);let oe;this.active=!0;do{if(oe=ve.execute(ve.state,ve.delay))break}while(ve=_e.shift());if(this.active=!1,oe){for(;ve=_e.shift();)ve.unsubscribe();throw oe}}}},4581:(Ge,we,L)=>{"use strict";L.d(we,{e:()=>X,E:()=>V});let f=1;const te=Promise.resolve(),B={};function ve(Y){return Y in B&&(delete B[Y],!0)}const _e={setImmediate(Y){const z=f++;return B[z]=!0,te.then(()=>ve(z)&&Y()),z},clearImmediate(Y){ve(Y)}};var le=L(6465),$=L(6102);const V=new class extends $.v{flush(z){this.active=!0,this.scheduled=void 0;const{actions:ce}=this;let re,ne=-1,Oe=ce.length;z=z||ce.shift();do{if(re=z.execute(z.state,z.delay))break}while(++ne<Oe&&(z=ce.shift()));if(this.active=!1,re){for(;++ne<Oe&&(z=ce.shift());)z.unsubscribe();throw re}}}(class extends le.o{constructor(z,ce){super(z,ce),this.scheduler=z,this.work=ce}requestAsyncId(z,ce,re=0){return null!==re&&re>0?super.requestAsyncId(z,ce,re):(z.actions.push(this),z.scheduled||(z.scheduled=_e.setImmediate(z.flush.bind(z,null))))}recycleAsyncId(z,ce,re=0){if(null!==re&&re>0||null===re&&this.delay>0)return super.recycleAsyncId(z,ce,re);0===z.actions.length&&(_e.clearImmediate(ce),z.scheduled=void 0)}}),X=V},3637:(Ge,we,L)=>{"use strict";L.d(we,{z:()=>B,P:()=>ve});var f=L(6465);const B=new(L(6102).v)(f.o),ve=B},7771:(Ge,we,L)=>{"use strict";L.d(we,{c:()=>oe,N:()=>_e});var f=L(6465),B=L(6102);const _e=new class extends B.v{}(class extends f.o{constructor(ue,$){super(ue,$),this.scheduler=ue,this.work=$}schedule(ue,$=0){return $>0?super.schedule(ue,$):(this.delay=$,this.state=ue,this.scheduler.flush(this),this)}execute(ue,$){return $>0||this.closed?super.execute(ue,$):this._execute(ue,$)}requestAsyncId(ue,$,F=0){return null!==F&&F>0||null===F&&this.delay>0?super.requestAsyncId(ue,$,F):ue.flush(this)}}),oe=_e},377:(Ge,we,L)=>{"use strict";L.d(we,{hZ:()=>te});const te="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(Ge,we,L)=>{"use strict";L.d(we,{L:()=>f});const f="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(Ge,we,L)=>{"use strict";L.d(we,{b:()=>f});const f="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(Ge,we,L)=>{"use strict";L.d(we,{N:()=>te});const te=(()=>{function B(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return B.prototype=Object.create(Error.prototype),B})()},4449:(Ge,we,L)=>{"use strict";function f(te){setTimeout(()=>{throw te},0)}L.d(we,{z:()=>f})},4487:(Ge,we,L)=>{"use strict";function f(te){return te}L.d(we,{y:()=>f})},9796:(Ge,we,L)=>{"use strict";L.d(we,{k:()=>f});const f=Array.isArray||(te=>te&&"number"==typeof te.length)},9489:(Ge,we,L)=>{"use strict";L.d(we,{z:()=>f});const f=te=>te&&"number"==typeof te.length&&"function"!=typeof te},9105:(Ge,we,L)=>{"use strict";function f(te){return"function"==typeof te}L.d(we,{m:()=>f})},6561:(Ge,we,L)=>{"use strict";L.d(we,{k:()=>te});var f=L(9796);function te(B){return!(0,f.k)(B)&&B-parseFloat(B)+1>=0}},1555:(Ge,we,L)=>{"use strict";function f(te){return null!==te&&"object"==typeof te}L.d(we,{K:()=>f})},4072:(Ge,we,L)=>{"use strict";function f(te){return!!te&&"function"!=typeof te.subscribe&&"function"==typeof te.then}L.d(we,{t:()=>f})},4869:(Ge,we,L)=>{"use strict";function f(te){return te&&"function"==typeof te.schedule}L.d(we,{K:()=>f})},7444:(Ge,we,L)=>{"use strict";L.d(we,{s:()=>V});var f=L(5015),te=L(4449),ve=L(377),oe=L(6554),ue=L(9489),$=L(4072),F=L(1555);const V=X=>{if(X&&"function"==typeof X[oe.L])return(X=>Y=>{const z=X[oe.L]();if("function"!=typeof z.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return z.subscribe(Y)})(X);if((0,ue.z)(X))return(0,f.V)(X);if((0,$.t)(X))return(X=>Y=>(X.then(z=>{Y.closed||(Y.next(z),Y.complete())},z=>Y.error(z)).then(null,te.z),Y))(X);if(X&&"function"==typeof X[ve.hZ])return(X=>Y=>{const z=X[ve.hZ]();for(;;){let ce;try{ce=z.next()}catch(re){return Y.error(re),Y}if(ce.done){Y.complete();break}if(Y.next(ce.value),Y.closed)break}return"function"==typeof z.return&&Y.add(()=>{z.return&&z.return()}),Y})(X);{const z=`You provided ${(0,F.K)(X)?"an invalid object":`'${X}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(z)}}},5015:(Ge,we,L)=>{"use strict";L.d(we,{V:()=>f});const f=te=>B=>{for(let ve=0,_e=te.length;ve<_e&&!B.closed;ve++)B.next(te[ve]);B.complete()}},4249:(Ge,we,L)=>{"use strict";var f=L(3018);let te=null;function B(){return te}const le=new f.OlP("DocumentToken");let ue=(()=>{class i{historyGo(r){throw new Error("Not implemented")}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=(0,f.Yz7)({factory:$,token:i,providedIn:"platform"}),i})();function $(){return(0,f.LFG)(V)}const F=new f.OlP("Location Initialized");let V=(()=>{class i extends ue{constructor(r){super(),this._doc=r,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return B().getBaseHref(this._doc)}onPopState(r){const s=B().getGlobalEventTarget(this._doc,"window");return s.addEventListener("popstate",r,!1),()=>s.removeEventListener("popstate",r)}onHashChange(r){const s=B().getGlobalEventTarget(this._doc,"window");return s.addEventListener("hashchange",r,!1),()=>s.removeEventListener("hashchange",r)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(r){this.location.pathname=r}pushState(r,s,c){X()?this._history.pushState(r,s,c):this.location.hash=c}replaceState(r,s,c){X()?this._history.replaceState(r,s,c):this.location.hash=c}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}}return i.\u0275fac=function(r){return new(r||i)(f.LFG(le))},i.\u0275prov=(0,f.Yz7)({factory:Y,token:i,providedIn:"platform"}),i})();function X(){return!!window.history.pushState}function Y(){return new V((0,f.LFG)(le))}function z(i,n){if(0==i.length)return n;if(0==n.length)return i;let r=0;return i.endsWith("/")&&r++,n.startsWith("/")&&r++,2==r?i+n.substring(1):1==r?i+n:i+"/"+n}function ce(i){const n=i.match(/#|\?|$/),r=n&&n.index||i.length;return i.slice(0,r-("/"===i[r-1]?1:0))+i.slice(r)}function re(i){return i&&"?"!==i[0]?"?"+i:i}let ne=(()=>{class i{historyGo(r){throw new Error("Not implemented")}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=(0,f.Yz7)({factory:Oe,token:i,providedIn:"root"}),i})();function Oe(i){const n=(0,f.LFG)(le).location;return new Qe((0,f.LFG)(ue),n&&n.origin||"")}const Be=new f.OlP("appBaseHref");let Qe=(()=>{class i extends ne{constructor(r,s){if(super(),this._platformLocation=r,this._removeListenerFns=[],null==s&&(s=this._platformLocation.getBaseHrefFromDOM()),null==s)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=s}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return z(this._baseHref,r)}path(r=!1){const s=this._platformLocation.pathname+re(this._platformLocation.search),c=this._platformLocation.hash;return c&&r?`${s}${c}`:s}pushState(r,s,c,d){const m=this.prepareExternalUrl(c+re(d));this._platformLocation.pushState(r,s,m)}replaceState(r,s,c,d){const m=this.prepareExternalUrl(c+re(d));this._platformLocation.replaceState(r,s,m)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(r=0){var s,c;null===(c=(s=this._platformLocation).historyGo)||void 0===c||c.call(s,r)}}return i.\u0275fac=function(r){return new(r||i)(f.LFG(ue),f.LFG(Be,8))},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac}),i})(),ct=(()=>{class i extends ne{constructor(r,s){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],null!=s&&(this._baseHref=s)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let s=this._platformLocation.hash;return null==s&&(s="#"),s.length>0?s.substring(1):s}prepareExternalUrl(r){const s=z(this._baseHref,r);return s.length>0?"#"+s:s}pushState(r,s,c,d){let m=this.prepareExternalUrl(c+re(d));0==m.length&&(m=this._platformLocation.pathname),this._platformLocation.pushState(r,s,m)}replaceState(r,s,c,d){let m=this.prepareExternalUrl(c+re(d));0==m.length&&(m=this._platformLocation.pathname),this._platformLocation.replaceState(r,s,m)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(r=0){var s,c;null===(c=(s=this._platformLocation).historyGo)||void 0===c||c.call(s,r)}}return i.\u0275fac=function(r){return new(r||i)(f.LFG(ue),f.LFG(Be,8))},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac}),i})(),it=(()=>{class i{constructor(r,s){this._subject=new f.vpe,this._urlChangeListeners=[],this._platformStrategy=r;const c=this._platformStrategy.getBaseHref();this._platformLocation=s,this._baseHref=ce(Rt(c)),this._platformStrategy.onPopState(d=>{this._subject.emit({url:this.path(!0),pop:!0,state:d.state,type:d.type})})}path(r=!1){return this.normalize(this._platformStrategy.path(r))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(r,s=""){return this.path()==this.normalize(r+re(s))}normalize(r){return i.stripTrailingSlash(function(i,n){return i&&n.startsWith(i)?n.substring(i.length):n}(this._baseHref,Rt(r)))}prepareExternalUrl(r){return r&&"/"!==r[0]&&(r="/"+r),this._platformStrategy.prepareExternalUrl(r)}go(r,s="",c=null){this._platformStrategy.pushState(c,"",r,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+re(s)),c)}replaceState(r,s="",c=null){this._platformStrategy.replaceState(c,"",r,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+re(s)),c)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(r=0){var s,c;null===(c=(s=this._platformStrategy).historyGo)||void 0===c||c.call(s,r)}onUrlChange(r){this._urlChangeListeners.push(r),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(s=>{this._notifyUrlChangeListeners(s.url,s.state)}))}_notifyUrlChangeListeners(r="",s){this._urlChangeListeners.forEach(c=>c(r,s))}subscribe(r,s,c){return this._subject.subscribe({next:r,error:s,complete:c})}}return i.\u0275fac=function(r){return new(r||i)(f.LFG(ne),f.LFG(ue))},i.normalizeQueryParams=re,i.joinWithSlash=z,i.stripTrailingSlash=ce,i.\u0275prov=(0,f.Yz7)({factory:Ue,token:i,providedIn:"root"}),i})();function Ue(){return new it((0,f.LFG)(ne),(0,f.LFG)(ue))}function Rt(i){return i.replace(/\/index.html$/,"")}const Ce={ADP:[void 0,void 0,0],AFN:[void 0,void 0,0],ALL:[void 0,void 0,0],AMD:[void 0,void 0,2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:[void 0,"\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["CFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var se=(()=>((se=se||{})[se.Decimal=0]="Decimal",se[se.Percent=1]="Percent",se[se.Currency=2]="Currency",se[se.Scientific=3]="Scientific",se))(),he=(()=>((he=he||{})[he.Zero=0]="Zero",he[he.One=1]="One",he[he.Two=2]="Two",he[he.Few=3]="Few",he[he.Many=4]="Many",he[he.Other=5]="Other",he))(),ge=(()=>((ge=ge||{})[ge.Format=0]="Format",ge[ge.Standalone=1]="Standalone",ge))(),fe=(()=>((fe=fe||{})[fe.Narrow=0]="Narrow",fe[fe.Abbreviated=1]="Abbreviated",fe[fe.Wide=2]="Wide",fe[fe.Short=3]="Short",fe))(),pe=(()=>((pe=pe||{})[pe.Short=0]="Short",pe[pe.Medium=1]="Medium",pe[pe.Long=2]="Long",pe[pe.Full=3]="Full",pe))(),ee=(()=>((ee=ee||{})[ee.Decimal=0]="Decimal",ee[ee.Group=1]="Group",ee[ee.List=2]="List",ee[ee.PercentSign=3]="PercentSign",ee[ee.PlusSign=4]="PlusSign",ee[ee.MinusSign=5]="MinusSign",ee[ee.Exponential=6]="Exponential",ee[ee.SuperscriptingExponent=7]="SuperscriptingExponent",ee[ee.PerMille=8]="PerMille",ee[ee.Infinity=9]="Infinity",ee[ee.NaN=10]="NaN",ee[ee.TimeSeparator=11]="TimeSeparator",ee[ee.CurrencyDecimal=12]="CurrencyDecimal",ee[ee.CurrencyGroup=13]="CurrencyGroup",ee))();function Xr(i,n){return Fn((0,f.cg1)(i)[f.wAp.DateFormat],n)}function on(i,n){return Fn((0,f.cg1)(i)[f.wAp.TimeFormat],n)}function st(i,n){return Fn((0,f.cg1)(i)[f.wAp.DateTimeFormat],n)}function Pt(i,n){const r=(0,f.cg1)(i),s=r[f.wAp.NumberSymbols][n];if(void 0===s){if(n===ee.CurrencyDecimal)return r[f.wAp.NumberSymbols][ee.Decimal];if(n===ee.CurrencyGroup)return r[f.wAp.NumberSymbols][ee.Group]}return s}const wr=f.kL8;function na(i){if(!i[f.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${i[f.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Fn(i,n){for(let r=n;r>-1;r--)if(void 0!==i[r])return i[r];throw new Error("Locale data API: locale data undefined")}function Nr(i){const[n,r]=i.split(":");return{hours:+n,minutes:+r}}const zt=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,un={},cn=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Vt=(()=>((Vt=Vt||{})[Vt.Short=0]="Short",Vt[Vt.ShortGMT=1]="ShortGMT",Vt[Vt.Long=2]="Long",Vt[Vt.Extended=3]="Extended",Vt))(),qe=(()=>((qe=qe||{})[qe.FullYear=0]="FullYear",qe[qe.Month=1]="Month",qe[qe.Date=2]="Date",qe[qe.Hours=3]="Hours",qe[qe.Minutes=4]="Minutes",qe[qe.Seconds=5]="Seconds",qe[qe.FractionalSeconds=6]="FractionalSeconds",qe[qe.Day=7]="Day",qe))(),We=(()=>((We=We||{})[We.DayPeriods=0]="DayPeriods",We[We.Days=1]="Days",We[We.Months=2]="Months",We[We.Eras=3]="Eras",We))();function gn(i,n,r,s){let c=function(i){if(Cc(i))return i;if("number"==typeof i&&!isNaN(i))return new Date(i);if("string"==typeof i){if(i=i.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(i)){const[c,d=1,m=1]=i.split("-").map(E=>+E);return lo(c,d-1,m)}const r=parseFloat(i);if(!isNaN(i-r))return new Date(r);let s;if(s=i.match(zt))return function(i){const n=new Date(0);let r=0,s=0;const c=i[8]?n.setUTCFullYear:n.setFullYear,d=i[8]?n.setUTCHours:n.setHours;i[9]&&(r=Number(i[9]+i[10]),s=Number(i[9]+i[11])),c.call(n,Number(i[1]),Number(i[2])-1,Number(i[3]));const m=Number(i[4]||0)-r,E=Number(i[5]||0)-s,I=Number(i[6]||0),S=Math.floor(1e3*parseFloat("0."+(i[7]||0)));return d.call(n,m,E,I,S),n}(s)}const n=new Date(i);if(!Cc(n))throw new Error(`Unable to convert "${i}" into a date`);return n}(i);n=es(r,n)||n;let E,m=[];for(;n;){if(E=cn.exec(n),!E){m.push(n);break}{m=m.concat(E.slice(1));const M=m.pop();if(!M)break;n=M}}let I=c.getTimezoneOffset();s&&(I=nr(s,I),c=function(i,n,r){const c=i.getTimezoneOffset();return function(i,n){return(i=new Date(i.getTime())).setMinutes(i.getMinutes()+n),i}(i,-1*(nr(n,c)-c))}(c,s));let S="";return m.forEach(M=>{const P=function(i){if(It[i])return It[i];let n;switch(i){case"G":case"GG":case"GGG":n=j(We.Eras,fe.Abbreviated);break;case"GGGG":n=j(We.Eras,fe.Wide);break;case"GGGGG":n=j(We.Eras,fe.Narrow);break;case"y":n=H(qe.FullYear,1,0,!1,!0);break;case"yy":n=H(qe.FullYear,2,0,!0,!0);break;case"yyy":n=H(qe.FullYear,3,0,!1,!0);break;case"yyyy":n=H(qe.FullYear,4,0,!1,!0);break;case"Y":n=Pr(1);break;case"YY":n=Pr(2,!0);break;case"YYY":n=Pr(3);break;case"YYYY":n=Pr(4);break;case"M":case"L":n=H(qe.Month,1,1);break;case"MM":case"LL":n=H(qe.Month,2,1);break;case"MMM":n=j(We.Months,fe.Abbreviated);break;case"MMMM":n=j(We.Months,fe.Wide);break;case"MMMMM":n=j(We.Months,fe.Narrow);break;case"LLL":n=j(We.Months,fe.Abbreviated,ge.Standalone);break;case"LLLL":n=j(We.Months,fe.Wide,ge.Standalone);break;case"LLLLL":n=j(We.Months,fe.Narrow,ge.Standalone);break;case"w":n=Wt(1);break;case"ww":n=Wt(2);break;case"W":n=Wt(1,!0);break;case"d":n=H(qe.Date,1);break;case"dd":n=H(qe.Date,2);break;case"c":case"cc":n=H(qe.Day,1);break;case"ccc":n=j(We.Days,fe.Abbreviated,ge.Standalone);break;case"cccc":n=j(We.Days,fe.Wide,ge.Standalone);break;case"ccccc":n=j(We.Days,fe.Narrow,ge.Standalone);break;case"cccccc":n=j(We.Days,fe.Short,ge.Standalone);break;case"E":case"EE":case"EEE":n=j(We.Days,fe.Abbreviated);break;case"EEEE":n=j(We.Days,fe.Wide);break;case"EEEEE":n=j(We.Days,fe.Narrow);break;case"EEEEEE":n=j(We.Days,fe.Short);break;case"a":case"aa":case"aaa":n=j(We.DayPeriods,fe.Abbreviated);break;case"aaaa":n=j(We.DayPeriods,fe.Wide);break;case"aaaaa":n=j(We.DayPeriods,fe.Narrow);break;case"b":case"bb":case"bbb":n=j(We.DayPeriods,fe.Abbreviated,ge.Standalone,!0);break;case"bbbb":n=j(We.DayPeriods,fe.Wide,ge.Standalone,!0);break;case"bbbbb":n=j(We.DayPeriods,fe.Narrow,ge.Standalone,!0);break;case"B":case"BB":case"BBB":n=j(We.DayPeriods,fe.Abbreviated,ge.Format,!0);break;case"BBBB":n=j(We.DayPeriods,fe.Wide,ge.Format,!0);break;case"BBBBB":n=j(We.DayPeriods,fe.Narrow,ge.Format,!0);break;case"h":n=H(qe.Hours,1,-12);break;case"hh":n=H(qe.Hours,2,-12);break;case"H":n=H(qe.Hours,1);break;case"HH":n=H(qe.Hours,2);break;case"m":n=H(qe.Minutes,1);break;case"mm":n=H(qe.Minutes,2);break;case"s":n=H(qe.Seconds,1);break;case"ss":n=H(qe.Seconds,2);break;case"S":n=H(qe.FractionalSeconds,1);break;case"SS":n=H(qe.FractionalSeconds,2);break;case"SSS":n=H(qe.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":n=ie(Vt.Short);break;case"ZZZZZ":n=ie(Vt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":n=ie(Vt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":n=ie(Vt.Long);break;default:return null}return It[i]=n,n}(M);S+=P?P(c,r,I):"''"===M?"'":M.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),S}function lo(i,n,r){const s=new Date(0);return s.setFullYear(i,n,r),s.setHours(0,0,0),s}function es(i,n){const r=function(i){return(0,f.cg1)(i)[f.wAp.LocaleId]}(i);if(un[r]=un[r]||{},un[r][n])return un[r][n];let s="";switch(n){case"shortDate":s=Xr(i,pe.Short);break;case"mediumDate":s=Xr(i,pe.Medium);break;case"longDate":s=Xr(i,pe.Long);break;case"fullDate":s=Xr(i,pe.Full);break;case"shortTime":s=on(i,pe.Short);break;case"mediumTime":s=on(i,pe.Medium);break;case"longTime":s=on(i,pe.Long);break;case"fullTime":s=on(i,pe.Full);break;case"short":const c=es(i,"shortTime"),d=es(i,"shortDate");s=mn(st(i,pe.Short),[c,d]);break;case"medium":const m=es(i,"mediumTime"),E=es(i,"mediumDate");s=mn(st(i,pe.Medium),[m,E]);break;case"long":const I=es(i,"longTime"),S=es(i,"longDate");s=mn(st(i,pe.Long),[I,S]);break;case"full":const M=es(i,"fullTime"),P=es(i,"fullDate");s=mn(st(i,pe.Full),[M,P])}return s&&(un[r][n]=s),s}function mn(i,n){return n&&(i=i.replace(/\{([^}]+)}/g,function(r,s){return null!=n&&s in n?n[s]:r})),i}function Cr(i,n,r="-",s,c){let d="";(i<0||c&&i<=0)&&(c?i=1-i:(i=-i,d=r));let m=String(i);for(;m.length<n;)m="0"+m;return s&&(m=m.substr(m.length-n)),d+m}function H(i,n,r=0,s=!1,c=!1){return function(d,m){let E=function(i,n){switch(i){case qe.FullYear:return n.getFullYear();case qe.Month:return n.getMonth();case qe.Date:return n.getDate();case qe.Hours:return n.getHours();case qe.Minutes:return n.getMinutes();case qe.Seconds:return n.getSeconds();case qe.FractionalSeconds:return n.getMilliseconds();case qe.Day:return n.getDay();default:throw new Error(`Unknown DateType value "${i}".`)}}(i,d);if((r>0||E>-r)&&(E+=r),i===qe.Hours)0===E&&-12===r&&(E=12);else if(i===qe.FractionalSeconds)return function(i,n){return Cr(i,3).substr(0,n)}(E,n);const I=Pt(m,ee.MinusSign);return Cr(E,n,I,s,c)}}function j(i,n,r=ge.Format,s=!1){return function(c,d){return function(i,n,r,s,c,d){switch(r){case We.Months:return function(i,n,r){const s=(0,f.cg1)(i),d=Fn([s[f.wAp.MonthsFormat],s[f.wAp.MonthsStandalone]],n);return Fn(d,r)}(n,c,s)[i.getMonth()];case We.Days:return function(i,n,r){const s=(0,f.cg1)(i),d=Fn([s[f.wAp.DaysFormat],s[f.wAp.DaysStandalone]],n);return Fn(d,r)}(n,c,s)[i.getDay()];case We.DayPeriods:const m=i.getHours(),E=i.getMinutes();if(d){const S=function(i){const n=(0,f.cg1)(i);return na(n),(n[f.wAp.ExtraData][2]||[]).map(s=>"string"==typeof s?Nr(s):[Nr(s[0]),Nr(s[1])])}(n),M=function(i,n,r){const s=(0,f.cg1)(i);na(s);const d=Fn([s[f.wAp.ExtraData][0],s[f.wAp.ExtraData][1]],n)||[];return Fn(d,r)||[]}(n,c,s),P=S.findIndex(W=>{if(Array.isArray(W)){const[Q,Ee]=W,Ne=m>=Q.hours&&E>=Q.minutes,Fe=m<Ee.hours||m===Ee.hours&&E<Ee.minutes;if(Q.hours<Ee.hours){if(Ne&&Fe)return!0}else if(Ne||Fe)return!0}else if(W.hours===m&&W.minutes===E)return!0;return!1});if(-1!==P)return M[P]}return function(i,n,r){const s=(0,f.cg1)(i),d=Fn([s[f.wAp.DayPeriodsFormat],s[f.wAp.DayPeriodsStandalone]],n);return Fn(d,r)}(n,c,s)[m<12?0:1];case We.Eras:return function(i,n){return Fn((0,f.cg1)(i)[f.wAp.Eras],n)}(n,s)[i.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${r}`)}}(c,d,i,n,r,s)}}function ie(i){return function(n,r,s){const c=-1*s,d=Pt(r,ee.MinusSign),m=c>0?Math.floor(c/60):Math.ceil(c/60);switch(i){case Vt.Short:return(c>=0?"+":"")+Cr(m,2,d)+Cr(Math.abs(c%60),2,d);case Vt.ShortGMT:return"GMT"+(c>=0?"+":"")+Cr(m,1,d);case Vt.Long:return"GMT"+(c>=0?"+":"")+Cr(m,2,d)+":"+Cr(Math.abs(c%60),2,d);case Vt.Extended:return 0===s?"Z":(c>=0?"+":"")+Cr(m,2,d)+":"+Cr(Math.abs(c%60),2,d);default:throw new Error(`Unknown zone width "${i}"`)}}}function ln(i){return lo(i.getFullYear(),i.getMonth(),i.getDate()+(4-i.getDay()))}function Wt(i,n=!1){return function(r,s){let c;if(n){const d=new Date(r.getFullYear(),r.getMonth(),1).getDay()-1,m=r.getDate();c=1+Math.floor((m+d)/7)}else{const d=ln(r),m=function(i){const n=lo(i,0,1).getDay();return lo(i,0,1+(n<=4?4:11)-n)}(d.getFullYear()),E=d.getTime()-m.getTime();c=1+Math.round(E/6048e5)}return Cr(c,i,Pt(s,ee.MinusSign))}}function Pr(i,n=!1){return function(r,s){return Cr(ln(r).getFullYear(),i,Pt(s,ee.MinusSign),n)}}const It={};function nr(i,n){i=i.replace(/:/g,"");const r=Date.parse("Jan 01, 1970 00:00:00 "+i)/6e4;return isNaN(r)?n:r}function Cc(i){return i instanceof Date&&!isNaN(i.valueOf())}const ra=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function N_(i,n,r,s,c){const m=function(i,n="-"){const r={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},s=i.split(";"),c=s[0],d=s[1],m=-1!==c.indexOf(".")?c.split("."):[c.substring(0,c.lastIndexOf("0")+1),c.substring(c.lastIndexOf("0")+1)],E=m[0],I=m[1]||"";r.posPre=E.substr(0,E.indexOf("#"));for(let M=0;M<I.length;M++){const P=I.charAt(M);"0"===P?r.minFrac=r.maxFrac=M+1:"#"===P?r.maxFrac=M+1:r.posSuf+=P}const S=E.split(",");if(r.gSize=S[1]?S[1].length:0,r.lgSize=S[2]||S[1]?(S[2]||S[1]).length:0,d){const M=c.length-r.posPre.length-r.posSuf.length,P=d.indexOf("#");r.negPre=d.substr(0,P).replace(/'/g,""),r.negSuf=d.substr(P+M).replace(/'/g,"")}else r.negPre=n+r.posPre,r.negSuf=r.posSuf;return r}(function(i,n){return(0,f.cg1)(i)[f.wAp.NumberFormats][n]}(n,se.Currency),Pt(n,ee.MinusSign));return m.minFrac=function(i){let n;const r=Ce[i];return r&&(n=r[2]),"number"==typeof n?n:2}(s),m.maxFrac=m.minFrac,function(i,n,r,s,c,d,m=!1){let E="",I=!1;if(isFinite(i)){let S=function(i){let s,c,d,m,E,n=Math.abs(i)+"",r=0;for((c=n.indexOf("."))>-1&&(n=n.replace(".","")),(d=n.search(/e/i))>0?(c<0&&(c=d),c+=+n.slice(d+1),n=n.substring(0,d)):c<0&&(c=n.length),d=0;"0"===n.charAt(d);d++);if(d===(E=n.length))s=[0],c=1;else{for(E--;"0"===n.charAt(E);)E--;for(c-=d,s=[],m=0;d<=E;d++,m++)s[m]=Number(n.charAt(d))}return c>22&&(s=s.splice(0,21),r=c-1,c=1),{digits:s,exponent:r,integerLen:c}}(i);m&&(S=function(i){if(0===i.digits[0])return i;const n=i.digits.length-i.integerLen;return i.exponent?i.exponent+=2:(0===n?i.digits.push(0,0):1===n&&i.digits.push(0),i.integerLen+=2),i}(S));let M=n.minInt,P=n.minFrac,W=n.maxFrac;if(d){const Mt=d.match(ra);if(null===Mt)throw new Error(`${d} is not a valid digit info`);const Et=Mt[1],qt=Mt[3],ci=Mt[5];null!=Et&&(M=Nn(Et)),null!=qt&&(P=Nn(qt)),null!=ci?W=Nn(ci):null!=qt&&P>W&&(W=P)}!function(i,n,r){if(n>r)throw new Error(`The minimum number of digits after fraction (${n}) is higher than the maximum (${r}).`);let s=i.digits,c=s.length-i.integerLen;const d=Math.min(Math.max(n,c),r);let m=d+i.integerLen,E=s[m];if(m>0){s.splice(Math.max(i.integerLen,m));for(let P=m;P<s.length;P++)s[P]=0}else{c=Math.max(0,c),i.integerLen=1,s.length=Math.max(1,m=d+1),s[0]=0;for(let P=1;P<m;P++)s[P]=0}if(E>=5)if(m-1<0){for(let P=0;P>m;P--)s.unshift(0),i.integerLen++;s.unshift(1),i.integerLen++}else s[m-1]++;for(;c<Math.max(0,d);c++)s.push(0);let I=0!==d;const S=n+i.integerLen,M=s.reduceRight(function(P,W,Q,Ee){return Ee[Q]=(W+=P)<10?W:W-10,I&&(0===Ee[Q]&&Q>=S?Ee.pop():I=!1),W>=10?1:0},0);M&&(s.unshift(M),i.integerLen++)}(S,P,W);let Q=S.digits,Ee=S.integerLen;const Ne=S.exponent;let Fe=[];for(I=Q.every(Mt=>!Mt);Ee<M;Ee++)Q.unshift(0);for(;Ee<0;Ee++)Q.unshift(0);Ee>0?Fe=Q.splice(Ee,Q.length):(Fe=Q,Q=[0]);const xt=[];for(Q.length>=n.lgSize&&xt.unshift(Q.splice(-n.lgSize,Q.length).join(""));Q.length>n.gSize;)xt.unshift(Q.splice(-n.gSize,Q.length).join(""));Q.length&&xt.unshift(Q.join("")),E=xt.join(Pt(r,s)),Fe.length&&(E+=Pt(r,c)+Fe.join("")),Ne&&(E+=Pt(r,ee.Exponential)+"+"+Ne)}else E=Pt(r,ee.Infinity);return E=i<0&&!I?n.negPre+E+n.negSuf:n.posPre+E+n.posSuf,E}(i,m,n,ee.CurrencyGroup,ee.CurrencyDecimal,c).replace("\xa4",r).replace("\xa4","").trim()}function Nn(i){const n=parseInt(i);if(isNaN(n))throw new Error("Invalid integer literal when parsing "+i);return n}class ar{}let po=(()=>{class i extends ar{constructor(r){super(),this.locale=r}getPluralCategory(r,s){switch(wr(s||this.locale)(r)){case he.Zero:return"zero";case he.One:return"one";case he.Two:return"two";case he.Few:return"few";case he.Many:return"many";default:return"other"}}}return i.\u0275fac=function(r){return new(r||i)(f.LFG(f.soG))},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac}),i})();class Td{constructor(n,r,s,c){this.$implicit=n,this.ngForOf=r,this.index=s,this.count=c}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ei=(()=>{class i{constructor(r,s,c){this._viewContainer=r,this._template=s,this._differs=c,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const r=this._ngForOf;if(!this._differ&&r)try{this._differ=this._differs.find(r).create(this.ngForTrackBy)}catch(s){throw new Error(`Cannot find a differ supporting object '${r}' of type '${function(i){return i.name||typeof i}(r)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){const s=[];r.forEachOperation((c,d,m)=>{if(null==c.previousIndex){const E=this._viewContainer.createEmbeddedView(this._template,new Td(null,this._ngForOf,-1,-1),null===m?void 0:m),I=new jn(c,E);s.push(I)}else if(null==m)this._viewContainer.remove(null===d?void 0:d);else if(null!==d){const E=this._viewContainer.get(d);this._viewContainer.move(E,m);const I=new jn(c,E);s.push(I)}});for(let c=0;c<s.length;c++)this._perViewChange(s[c].view,s[c].record);for(let c=0,d=this._viewContainer.length;c<d;c++){const m=this._viewContainer.get(c);m.context.index=c,m.context.count=d,m.context.ngForOf=this._ngForOf}r.forEachIdentityChange(c=>{this._viewContainer.get(c.currentIndex).context.$implicit=c.item})}_perViewChange(r,s){r.context.$implicit=s.item}static ngTemplateContextGuard(r,s){return!0}}return i.\u0275fac=function(r){return new(r||i)(f.Y36(f.s_b),f.Y36(f.Rgc),f.Y36(f.ZZ4))},i.\u0275dir=f.lG2({type:i,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),i})();class jn{constructor(n,r){this.record=n,this.view=r}}let mo=(()=>{class i{constructor(r,s){this._viewContainer=r,this._context=new Fr,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=s}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){Zt("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){Zt("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,s){return!0}}return i.\u0275fac=function(r){return new(r||i)(f.Y36(f.s_b),f.Y36(f.Rgc))},i.\u0275dir=f.lG2({type:i,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),i})();class Fr{constructor(){this.$implicit=null,this.ngIf=null}}function Zt(i,n){if(n&&!n.createEmbeddedView)throw new Error(`${i} must be a TemplateRef, but received '${(0,f.AaK)(n)}'.`)}function jt(i,n){return Error(`InvalidPipeArgument: '${n}' for pipe '${(0,f.AaK)(i)}'`)}let Dp=(()=>{class i{constructor(r){this.locale=r}transform(r,s="mediumDate",c,d){if(null==r||""===r||r!=r)return null;try{return gn(r,s,d||this.locale,c)}catch(m){throw jt(i,m.message)}}}return i.\u0275fac=function(r){return new(r||i)(f.Y36(f.soG,16))},i.\u0275pipe=f.Yjl({name:"date",type:i,pure:!0}),i})(),ns=(()=>{class i{constructor(r,s="USD"){this._locale=r,this._defaultCurrencyCode=s}transform(r,s=this._defaultCurrencyCode,c="symbol",d,m){if(!function(i){return!(null==i||""===i||i!=i)}(r))return null;m=m||this._locale,"boolean"==typeof c&&(c=c?"symbol":"code");let E=s||this._defaultCurrencyCode;"code"!==c&&(E="symbol"===c||"symbol-narrow"===c?function(i,n,r="en"){const s=function(i){return(0,f.cg1)(i)[f.wAp.Currencies]}(r)[i]||Ce[i]||[],c=s[1];return"narrow"===n&&"string"==typeof c?c:s[0]||i}(E,"symbol"===c?"wide":"narrow",m):c);try{return N_(function(i){if("string"==typeof i&&!isNaN(Number(i)-parseFloat(i)))return Number(i);if("number"!=typeof i)throw new Error(`${i} is not a number`);return i}(r),m,E,s,d)}catch(I){throw jt(i,I.message)}}}return i.\u0275fac=function(r){return new(r||i)(f.Y36(f.soG,16),f.Y36(f.EJc,16))},i.\u0275pipe=f.Yjl({name:"currency",type:i,pure:!0}),i})();let Sc=(()=>{class i{transform(r,s,c){if(null==r)return null;if(!this.supports(r))throw jt(i,r);return r.slice(s,c)}supports(r){return"string"==typeof r||Array.isArray(r)}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275pipe=f.Yjl({name:"slice",type:i,pure:!1}),i})(),gw=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=f.oAB({type:i}),i.\u0275inj=f.cJS({providers:[{provide:ar,useClass:po}]}),i})();function Xa(i){return"server"===i}let eu=(()=>{class i{}return i.\u0275prov=(0,f.Yz7)({token:i,providedIn:"root",factory:()=>new xc((0,f.LFG)(le),window)}),i})();class xc{constructor(n,r){this.document=n,this.window=r,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(n){this.supportsScrolling()&&this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){if(!this.supportsScrolling())return;const r=function(i,n){const r=i.getElementById(n)||i.getElementsByName(n)[0];if(r)return r;if("function"==typeof i.createTreeWalker&&i.body&&(i.body.createShadowRoot||i.body.attachShadow)){const s=i.createTreeWalker(i.body,NodeFilter.SHOW_ELEMENT);let c=s.currentNode;for(;c;){const d=c.shadowRoot;if(d){const m=d.getElementById(n)||d.querySelector(`[name="${n}"]`);if(m)return m}c=s.nextNode()}}return null}(this.document,n);r&&(this.scrollToElement(r),this.attemptFocus(r))}setHistoryScrollRestoration(n){if(this.supportScrollRestoration()){const r=this.window.history;r&&r.scrollRestoration&&(r.scrollRestoration=n)}}scrollToElement(n){const r=n.getBoundingClientRect(),s=r.left+this.window.pageXOffset,c=r.top+this.window.pageYOffset,d=this.offset();this.window.scrollTo(s-d[0],c-d[1])}attemptFocus(n){return n.focus(),this.document.activeElement===n}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const n=tu(this.window.history)||tu(Object.getPrototypeOf(this.window.history));return!(!n||!n.writable&&!n.set)}catch(n){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(n){return!1}}}function tu(i){return Object.getOwnPropertyDescriptor(i,"scrollRestoration")}class vo extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var i;i=new vo,te||(te=i)}onAndCancel(n,r,s){return n.addEventListener(r,s,!1),()=>{n.removeEventListener(r,s,!1)}}dispatchEvent(n,r){n.dispatchEvent(r)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,r){return(r=r||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,r){return"window"===r?window:"document"===r?n:"body"===r?n.body:null}getBaseHref(n){const r=(Rs=Rs||document.querySelector("base"),Rs?Rs.getAttribute("href"):null);return null==r?null:function(i){Oc=Oc||document.createElement("a"),Oc.setAttribute("href",i);const n=Oc.pathname;return"/"===n.charAt(0)?n:`/${n}`}(r)}resetBaseElement(){Rs=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return function(i,n){n=encodeURIComponent(n);for(const r of i.split(";")){const s=r.indexOf("="),[c,d]=-1==s?[r,""]:[r.slice(0,s),r.slice(s+1)];if(c.trim()===n)return decodeURIComponent(d)}return null}(document.cookie,n)}}let Oc,Rs=null;const Ap=new f.OlP("TRANSITION_ID"),Pc=[{provide:f.ip1,useFactory:function(i,n,r){return()=>{r.get(f.CZH).donePromise.then(()=>{const s=B(),c=n.querySelectorAll(`style[ng-transition="${i}"]`);for(let d=0;d<c.length;d++)s.remove(c[d])})}},deps:[Ap,le,f.zs3],multi:!0}];class tn{static init(){(0,f.VLi)(new tn)}addToWindow(n){f.dqk.getAngularTestability=(s,c=!0)=>{const d=n.findTestabilityInTree(s,c);if(null==d)throw new Error("Could not find testability for element.");return d},f.dqk.getAllAngularTestabilities=()=>n.getAllTestabilities(),f.dqk.getAllAngularRootElements=()=>n.getAllRootElements(),f.dqk.frameworkStabilizers||(f.dqk.frameworkStabilizers=[]),f.dqk.frameworkStabilizers.push(s=>{const c=f.dqk.getAllAngularTestabilities();let d=c.length,m=!1;const E=function(I){m=m||I,d--,0==d&&s(m)};c.forEach(function(I){I.whenStable(E)})})}findTestabilityInTree(n,r,s){if(null==r)return null;const c=n.getTestability(r);return null!=c?c:s?B().isShadowRoot(r)?this.findTestabilityInTree(n,r.host,!0):this.findTestabilityInTree(n,r.parentElement,!0):null}}let xp=(()=>{class i{build(){return new XMLHttpRequest}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac}),i})();const Eo=new f.OlP("EventManagerPlugins");let uu=(()=>{class i{constructor(r,s){this._zone=s,this._eventNameToPlugin=new Map,r.forEach(c=>c.manager=this),this._plugins=r.slice().reverse()}addEventListener(r,s,c){return this._findPluginFor(s).addEventListener(r,s,c)}addGlobalEventListener(r,s,c){return this._findPluginFor(s).addGlobalEventListener(r,s,c)}getZone(){return this._zone}_findPluginFor(r){const s=this._eventNameToPlugin.get(r);if(s)return s;const c=this._plugins;for(let d=0;d<c.length;d++){const m=c[d];if(m.supports(r))return this._eventNameToPlugin.set(r,m),m}throw new Error(`No event manager plugin found for event ${r}`)}}return i.\u0275fac=function(r){return new(r||i)(f.LFG(Eo),f.LFG(f.R0b))},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac}),i})();class cu{constructor(n){this._doc=n}addGlobalEventListener(n,r,s){const c=B().getGlobalEventTarget(this._doc,n);if(!c)throw new Error(`Unsupported event target ${c} for event ${r}`);return this.addEventListener(c,r,s)}}let Fd=(()=>{class i{constructor(){this._stylesSet=new Set}addStyles(r){const s=new Set;r.forEach(c=>{this._stylesSet.has(c)||(this._stylesSet.add(c),s.add(c))}),this.onStylesAdded(s)}onStylesAdded(r){}getAllStyles(){return Array.from(this._stylesSet)}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac}),i})(),bo=(()=>{class i extends Fd{constructor(r){super(),this._doc=r,this._hostNodes=new Map,this._hostNodes.set(r.head,[])}_addStylesToHost(r,s,c){r.forEach(d=>{const m=this._doc.createElement("style");m.textContent=d,c.push(s.appendChild(m))})}addHost(r){const s=[];this._addStylesToHost(this._stylesSet,r,s),this._hostNodes.set(r,s)}removeHost(r){const s=this._hostNodes.get(r);s&&s.forEach(Mp),this._hostNodes.delete(r)}onStylesAdded(r){this._hostNodes.forEach((s,c)=>{this._addStylesToHost(r,c,s)})}ngOnDestroy(){this._hostNodes.forEach(r=>r.forEach(Mp))}}return i.\u0275fac=function(r){return new(r||i)(f.LFG(le))},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac}),i})();function Mp(i){B().remove(i)}const Ie={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Tt=/%COMP%/g;function Ns(i,n,r){for(let s=0;s<n.length;s++){let c=n[s];Array.isArray(c)?Ns(i,c,r):(c=c.replace(Tt,i),r.push(c))}return r}function L_(i){return n=>{if("__ngUnwrap__"===n)return i;!1===i(n)&&(n.preventDefault(),n.returnValue=!1)}}let la=(()=>{class i{constructor(r,s,c){this.eventManager=r,this.sharedStylesHost=s,this.appId=c,this.rendererByCompId=new Map,this.defaultRenderer=new Ps(r)}createRenderer(r,s){if(!r||!s)return this.defaultRenderer;switch(s.encapsulation){case f.ifc.Emulated:{let c=this.rendererByCompId.get(s.id);return c||(c=new ks(this.eventManager,this.sharedStylesHost,s,this.appId),this.rendererByCompId.set(s.id,c)),c.applyToHost(r),c}case 1:case f.ifc.ShadowDom:return new is(this.eventManager,this.sharedStylesHost,r,s);default:if(!this.rendererByCompId.has(s.id)){const c=Ns(s.id,s.styles,[]);this.sharedStylesHost.addStyles(c),this.rendererByCompId.set(s.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return i.\u0275fac=function(r){return new(r||i)(f.LFG(uu),f.LFG(bo),f.LFG(f.AFp))},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac}),i})();class Ps{constructor(n){this.eventManager=n,this.data=Object.create(null)}destroy(){}createElement(n,r){return r?document.createElementNS(Ie[r]||r,n):document.createElement(n)}createComment(n){return document.createComment(n)}createText(n){return document.createTextNode(n)}appendChild(n,r){n.appendChild(r)}insertBefore(n,r,s){n&&n.insertBefore(r,s)}removeChild(n,r){n&&n.removeChild(r)}selectRootElement(n,r){let s="string"==typeof n?document.querySelector(n):n;if(!s)throw new Error(`The selector "${n}" did not match any elements`);return r||(s.textContent=""),s}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,r,s,c){if(c){r=c+":"+r;const d=Ie[c];d?n.setAttributeNS(d,r,s):n.setAttribute(r,s)}else n.setAttribute(r,s)}removeAttribute(n,r,s){if(s){const c=Ie[s];c?n.removeAttributeNS(c,r):n.removeAttribute(`${s}:${r}`)}else n.removeAttribute(r)}addClass(n,r){n.classList.add(r)}removeClass(n,r){n.classList.remove(r)}setStyle(n,r,s,c){c&(f.JOm.DashCase|f.JOm.Important)?n.style.setProperty(r,s,c&f.JOm.Important?"important":""):n.style[r]=s}removeStyle(n,r,s){s&f.JOm.DashCase?n.style.removeProperty(r):n.style[r]=""}setProperty(n,r,s){n[r]=s}setValue(n,r){n.nodeValue=r}listen(n,r,s){return"string"==typeof n?this.eventManager.addGlobalEventListener(n,r,L_(s)):this.eventManager.addEventListener(n,r,L_(s))}}class ks extends Ps{constructor(n,r,s,c){super(n),this.component=s;const d=Ns(c+"-"+s.id,s.styles,[]);r.addStyles(d),this.contentAttr="_ngcontent-%COMP%".replace(Tt,c+"-"+s.id),this.hostAttr=function(i){return"_nghost-%COMP%".replace(Tt,i)}(c+"-"+s.id)}applyToHost(n){super.setAttribute(n,this.hostAttr,"")}createElement(n,r){const s=super.createElement(n,r);return super.setAttribute(s,this.contentAttr,""),s}}class is extends Ps{constructor(n,r,s,c){super(n),this.sharedStylesHost=r,this.hostEl=s,this.shadowRoot=s.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const d=Ns(c.id,c.styles,[]);for(let m=0;m<d.length;m++){const E=document.createElement("style");E.textContent=d[m],this.shadowRoot.appendChild(E)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(n,r){return super.appendChild(this.nodeOrShadowRoot(n),r)}insertBefore(n,r,s){return super.insertBefore(this.nodeOrShadowRoot(n),r,s)}removeChild(n,r){return super.removeChild(this.nodeOrShadowRoot(n),r)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}}let Ud=(()=>{class i extends cu{constructor(r){super(r)}supports(r){return!0}addEventListener(r,s,c){return r.addEventListener(s,c,!1),()=>this.removeEventListener(r,s,c)}removeEventListener(r,s,c){return r.removeEventListener(s,c)}}return i.\u0275fac=function(r){return new(r||i)(f.LFG(le))},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac}),i})();const hu=["alt","control","meta","shift"],Lp={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Vp={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Ir={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey};let Co=(()=>{class i extends cu{constructor(r){super(r)}supports(r){return null!=i.parseEventName(r)}addEventListener(r,s,c){const d=i.parseEventName(s),m=i.eventCallback(d.fullKey,c,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>B().onAndCancel(r,d.domEventName,m))}static parseEventName(r){const s=r.toLowerCase().split("."),c=s.shift();if(0===s.length||"keydown"!==c&&"keyup"!==c)return null;const d=i._normalizeKey(s.pop());let m="";if(hu.forEach(I=>{const S=s.indexOf(I);S>-1&&(s.splice(S,1),m+=I+".")}),m+=d,0!=s.length||0===d.length)return null;const E={};return E.domEventName=c,E.fullKey=m,E}static getEventFullKey(r){let s="",c=function(i){let n=i.key;if(null==n){if(n=i.keyIdentifier,null==n)return"Unidentified";n.startsWith("U+")&&(n=String.fromCharCode(parseInt(n.substring(2),16)),3===i.location&&Vp.hasOwnProperty(n)&&(n=Vp[n]))}return Lp[n]||n}(r);return c=c.toLowerCase()," "===c?c="space":"."===c&&(c="dot"),hu.forEach(d=>{d!=c&&Ir[d](r)&&(s+=d+".")}),s+=c,s}static eventCallback(r,s,c){return d=>{i.getEventFullKey(d)===r&&c.runGuarded(()=>s(d))}}static _normalizeKey(r){switch(r){case"esc":return"escape";default:return r}}}return i.\u0275fac=function(r){return new(r||i)(f.LFG(le))},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac}),i})();const $_=(0,f.eFA)(f._c5,"browser",[{provide:f.Lbi,useValue:"browser"},{provide:f.g9A,useValue:function(){vo.makeCurrent(),tn.init()},multi:!0},{provide:le,useFactory:function(){return(0,f.RDi)(document),document},deps:[]}]),Fs=[[],{provide:f.zSh,useValue:"root"},{provide:f.qLn,useFactory:function(){return new f.qLn},deps:[]},{provide:Eo,useClass:Ud,multi:!0,deps:[le,f.R0b,f.Lbi]},{provide:Eo,useClass:Co,multi:!0,deps:[le]},[],{provide:la,useClass:la,deps:[uu,bo,f.AFp]},{provide:f.FYo,useExisting:la},{provide:Fd,useExisting:bo},{provide:bo,useClass:bo,deps:[le]},{provide:f.dDg,useClass:f.dDg,deps:[f.R0b]},{provide:uu,useClass:uu,deps:[Eo,f.R0b]},{provide:class{},useClass:xp,deps:[]},[]];let pu=(()=>{class i{constructor(r){if(r)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(r){return{ngModule:i,providers:[{provide:f.AFp,useValue:r.appId},{provide:Ap,useExisting:f.AFp},Pc]}}}return i.\u0275fac=function(r){return new(r||i)(f.LFG(i,12))},i.\u0275mod=f.oAB({type:i}),i.\u0275inj=f.cJS({providers:Fs,imports:[gw,f.hGG]}),i})();function Br(i){return null!=i&&"false"!=`${i}`}function as(i,n=0){return function(i){return!isNaN(parseFloat(i))&&!isNaN(Number(i))}(i)?Number(i):n}function yn(i){return i instanceof f.SBq?i.nativeElement:i}"undefined"!=typeof window&&window;var ft=L(9765),Xe=L(5917),Cn=L(7574),us=L(9796),Gp=L(9105),_t=L(8002);function yu(i,n,r,s){return(0,Gp.m)(r)&&(s=r,r=void 0),s?yu(i,n,r).pipe((0,_t.U)(c=>(0,us.k)(c)?s(...c):s(c))):new Cn.y(c=>{vu(i,n,function(m){c.next(arguments.length>1?Array.prototype.slice.call(arguments):m)},c,r)})}function vu(i,n,r,s,c){let d;if(function(i){return i&&"function"==typeof i.addEventListener&&"function"==typeof i.removeEventListener}(i)){const m=i;i.addEventListener(n,r,c),d=()=>m.removeEventListener(n,r,c)}else if(function(i){return i&&"function"==typeof i.on&&"function"==typeof i.off}(i)){const m=i;i.on(n,r),d=()=>m.off(n,r)}else if(function(i){return i&&"function"==typeof i.addListener&&"function"==typeof i.removeListener}(i)){const m=i;i.addListener(n,r),d=()=>m.removeListener(n,r)}else{if(!i||!i.length)throw new TypeError("Invalid event target");for(let m=0,E=i.length;m<E;m++)vu(i[m],n,r,s,c)}s.add(d)}var Zp=L(6465),Wp=L(6102);const $c=new class extends Wp.v{flush(n){this.active=!0,this.scheduled=void 0;const{actions:r}=this;let s,c=-1,d=r.length;n=n||r.shift();do{if(s=n.execute(n.state,n.delay))break}while(++c<d&&(n=r.shift()));if(this.active=!1,s){for(;++c<d&&(n=r.shift());)n.unsubscribe();throw s}}}(class extends Zp.o{constructor(n,r){super(n,r),this.scheduler=n,this.work=r}requestAsyncId(n,r,s=0){return null!==s&&s>0?super.requestAsyncId(n,r,s):(n.actions.push(this),n.scheduled||(n.scheduled=requestAnimationFrame(()=>n.flush(null))))}recycleAsyncId(n,r,s=0){if(null!==s&&s>0||null===s&&this.delay>0)return super.recycleAsyncId(n,r,s);0===n.actions.length&&(cancelAnimationFrame(r),n.scheduled=void 0)}});L(4581);var jr=L(5319),cr=L(7393);class q_{constructor(n,r){this.compare=n,this.keySelector=r}call(n,r){return r.subscribe(new ww(n,this.compare,this.keySelector))}}class ww extends cr.L{constructor(n,r,s){super(n),this.keySelector=s,this.hasKey=!1,"function"==typeof r&&(this.compare=r)}compare(n,r){return n===r}_next(n){let r;try{const{keySelector:c}=this;r=c?c(n):n}catch(c){return this.destination.error(c)}let s=!1;if(this.hasKey)try{const{compare:c}=this;s=c(this.key,r)}catch(c){return this.destination.error(c)}else this.hasKey=!0;s||(this.key=r,this.destination.next(n))}}var ma=L(3637),mi=L(5345);class vn{constructor(n){this.durationSelector=n}call(n,r){return r.subscribe(new eh(n,this.durationSelector))}}class eh extends mi.Ds{constructor(n,r){super(n),this.durationSelector=r,this.hasValue=!1}_next(n){if(this.value=n,this.hasValue=!0,!this.throttled){let r;try{const{durationSelector:c}=this;r=c(n)}catch(c){return this.destination.error(c)}const s=(0,mi.ft)(r,new mi.IY(this));!s||s.closed?this.clearThrottle():this.add(this.throttled=s)}}clearThrottle(){const{value:n,hasValue:r,throttled:s}=this;s&&(this.remove(s),this.throttled=void 0,s.unsubscribe()),r&&(this.value=void 0,this.hasValue=!1,this.destination.next(n))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var Gc=L(6561),Eu=L(4869);function Kp(i){const{index:n,period:r,subscriber:s}=i;if(s.next(n),!s.closed){if(-1===r)return s.complete();i.index=n+1,this.schedule(i,r)}}function bu(i,n=ma.P){return function(i){return function(r){return r.lift(new vn(i))}}(()=>function(i=0,n,r){let s=-1;return(0,Gc.k)(n)?s=Number(n)<1?1:Number(n):(0,Eu.K)(n)&&(r=n),(0,Eu.K)(r)||(r=ma.P),new Cn.y(c=>{const d=(0,Gc.k)(i)?i:+i-r.now();return r.schedule(Kp,d,{index:0,period:s,subscriber:c})})}(i,n))}function _i(i,n){return function(s){return s.lift(new Dw(i,n))}}class Dw{constructor(n,r){this.predicate=n,this.thisArg=r}call(n,r){return r.subscribe(new Yp(n,this.predicate,this.thisArg))}}class Yp extends cr.L{constructor(n,r,s){super(n),this.predicate=r,this.thisArg=s,this.count=0}_next(n){let r;try{r=this.predicate.call(this.thisArg,n,this.count++)}catch(s){return void this.destination.error(s)}r&&this.destination.next(n)}}function yi(i){return n=>n.lift(new _a(i))}class _a{constructor(n){this.notifier=n}call(n,r){const s=new To(n),c=(0,mi.ft)(this.notifier,new mi.IY(s));return c&&!s.seenValue?(s.add(c),r.subscribe(s)):s}}class To extends mi.Ds{constructor(n){super(n),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}var th=L(3282);function ya(...i){return(0,th.J)(1)((0,Xe.of)(...i))}function Tr(...i){const n=i[i.length-1];return(0,Eu.K)(n)?(i.pop(),r=>ya(i,r,n)):r=>ya(i,r)}function qc(){return i=>i.lift(new z_)}class z_{call(n,r){return r.subscribe(new ri(n))}}class ri extends cr.L{constructor(n){super(n),this.hasPrev=!1}_next(n){let r;this.hasPrev?r=[this.prev,n]:this.hasPrev=!0,this.prev=n,r&&this.destination.next(r)}}var Ot=L(4402);function Dn(i,n){return"function"==typeof n?r=>r.pipe(Dn((s,c)=>(0,Ot.D)(i(s,c)).pipe((0,_t.U)((d,m)=>n(s,d,c,m))))):r=>r.lift(new ds(i))}class ds{constructor(n){this.project=n}call(n,r){return r.subscribe(new Vs(n,this.project))}}class Vs extends mi.Ds{constructor(n,r){super(n),this.project=r,this.index=0}_next(n){let r;const s=this.index++;try{r=this.project(n,s)}catch(c){return void this.destination.error(c)}this._innerSub(r)}_innerSub(n){const r=this.innerSubscription;r&&r.unsubscribe();const s=new mi.IY(this),c=this.destination;c.add(s),this.innerSubscription=(0,mi.ft)(n,s),this.innerSubscription!==s&&c.add(this.innerSubscription)}_complete(){const{innerSubscription:n}=this;(!n||n.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(n){this.destination.next(n)}}var zc=L(7771),So=L(309),Qp=L(7971),Jp=L(8858);class Iw extends ft.xQ{constructor(n=Number.POSITIVE_INFINITY,r=Number.POSITIVE_INFINITY,s){super(),this.scheduler=s,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=n<1?1:n,this._windowTime=r<1?1:r,r===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(n){if(!this.isStopped){const r=this._events;r.push(n),r.length>this._bufferSize&&r.shift()}super.next(n)}nextTimeWindow(n){this.isStopped||(this._events.push(new Xp(this._getNow(),n)),this._trimBufferThenGetEvents()),super.next(n)}_subscribe(n){const r=this._infiniteTimeWindow,s=r?this._events:this._trimBufferThenGetEvents(),c=this.scheduler,d=s.length;let m;if(this.closed)throw new Qp.N;if(this.isStopped||this.hasError?m=jr.w.EMPTY:(this.observers.push(n),m=new Jp.W(this,n)),c&&n.add(n=new So.ht(n,c)),r)for(let E=0;E<d&&!n.closed;E++)n.next(s[E]);else for(let E=0;E<d&&!n.closed;E++)n.next(s[E].value);return this.hasError?n.error(this.thrownError):this.isStopped&&n.complete(),m}_getNow(){return(this.scheduler||zc.c).now()}_trimBufferThenGetEvents(){const n=this._getNow(),r=this._bufferSize,s=this._windowTime,c=this._events,d=c.length;let m=0;for(;m<d&&!(n-c[m].time<s);)m++;return d>r&&(m=Math.max(m,d-r)),m>0&&c.splice(0,m),c}}class Xp{constructor(n,r){this.time=n,this.value=r}}function Kn(i,n,r){let s;return s=i&&"object"==typeof i?i:{bufferSize:i,windowTime:n,refCount:!1,scheduler:r},c=>c.lift(function({bufferSize:i=Number.POSITIVE_INFINITY,windowTime:n=Number.POSITIVE_INFINITY,refCount:r,scheduler:s}){let c,m,d=0,E=!1,I=!1;return function(M){let P;d++,!c||E?(E=!1,c=new Iw(i,n,s),P=c.subscribe(this),m=M.subscribe({next(W){c.next(W)},error(W){E=!0,c.error(W)},complete(){I=!0,m=void 0,c.complete()}}),I&&(m=void 0)):P=c.subscribe(this),this.add(()=>{d--,P.unsubscribe(),P=void 0,m&&!I&&r&&0===d&&(m.unsubscribe(),m=void 0,c=void 0)})}}(s))}let Ui;try{Ui="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(i){Ui=!1}let xo,Du,lr,vi=(()=>{class i{constructor(r){this._platformId=r,this.isBrowser=this._platformId?function(i){return"browser"===i}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Ui)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return i.\u0275fac=function(r){return new(r||i)(f.LFG(f.Lbi))},i.\u0275prov=f.Yz7({factory:function(){return new i(f.LFG(f.Lbi))},token:i,providedIn:"root"}),i})();function hs(i){return function(){if(null==xo&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>xo=!0}))}finally{xo=xo||!1}return xo}()?i:!!i.capture}function va(i){if(function(){if(null==Du){const i="undefined"!=typeof document?document.head:null;Du=!(!i||!i.createShadowRoot&&!i.attachShadow)}return Du}()){const n=i.getRootNode?i.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&n instanceof ShadowRoot)return n}return null}function bi(i){return i.composedPath?i.composedPath()[0]:i.target}lr="undefined"!=typeof global?global:"undefined"!=typeof window?window:{};const Iu=new f.OlP("cdk-dir-doc",{providedIn:"root",factory:function(){return(0,f.f3M)(le)}});let wi=(()=>{class i{constructor(r){if(this.value="ltr",this.change=new f.vpe,r){const c=r.documentElement?r.documentElement.dir:null,d=(r.body?r.body.dir:null)||c;this.value="ltr"===d||"rtl"===d?d:"ltr"}}ngOnDestroy(){this.change.complete()}}return i.\u0275fac=function(r){return new(r||i)(f.LFG(Iu,8))},i.\u0275prov=f.Yz7({factory:function(){return new i(f.LFG(Iu,8))},token:i,providedIn:"root"}),i})(),Qc=(()=>{class i{constructor(r,s,c){this._ngZone=r,this._platform=s,this._scrolled=new ft.xQ,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=c}register(r){this.scrollContainers.has(r)||this.scrollContainers.set(r,r.elementScrolled().subscribe(()=>this._scrolled.next(r)))}deregister(r){const s=this.scrollContainers.get(r);s&&(s.unsubscribe(),this.scrollContainers.delete(r))}scrolled(r=20){return this._platform.isBrowser?new Cn.y(s=>{this._globalSubscription||this._addGlobalListener();const c=r>0?this._scrolled.pipe(bu(r)).subscribe(s):this._scrolled.subscribe(s);return this._scrolledCount++,()=>{c.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,Xe.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((r,s)=>this.deregister(s)),this._scrolled.complete()}ancestorScrolled(r,s){const c=this.getAncestorScrollContainers(r);return this.scrolled(s).pipe(_i(d=>!d||c.indexOf(d)>-1))}getAncestorScrollContainers(r){const s=[];return this.scrollContainers.forEach((c,d)=>{this._scrollableContainsElement(d,r)&&s.push(d)}),s}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(r,s){let c=yn(s),d=r.getElementRef().nativeElement;do{if(c==d)return!0}while(c=c.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>yu(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return i.\u0275fac=function(r){return new(r||i)(f.LFG(f.R0b),f.LFG(vi),f.LFG(le,8))},i.\u0275prov=f.Yz7({factory:function(){return new i(f.LFG(f.R0b),f.LFG(vi),f.LFG(le,8))},token:i,providedIn:"root"}),i})(),js=(()=>{class i{constructor(r,s,c){this._platform=r,this._change=new ft.xQ,this._changeListener=d=>{this._change.next(d)},this._document=c,s.runOutsideAngular(()=>{if(r.isBrowser){const d=this._getWindow();d.addEventListener("resize",this._changeListener),d.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const r=this._getWindow();r.removeEventListener("resize",this._changeListener),r.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const r={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),r}getViewportRect(){const r=this.getViewportScrollPosition(),{width:s,height:c}=this.getViewportSize();return{top:r.top,left:r.left,bottom:r.top+c,right:r.left+s,height:c,width:s}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const r=this._document,s=this._getWindow(),c=r.documentElement,d=c.getBoundingClientRect();return{top:-d.top||r.body.scrollTop||s.scrollY||c.scrollTop||0,left:-d.left||r.body.scrollLeft||s.scrollX||c.scrollLeft||0}}change(r=20){return r>0?this._change.pipe(bu(r)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const r=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:r.innerWidth,height:r.innerHeight}:{width:0,height:0}}}return i.\u0275fac=function(r){return new(r||i)(f.LFG(vi),f.LFG(f.R0b),f.LFG(le,8))},i.\u0275prov=f.Yz7({factory:function(){return new i(f.LFG(vi),f.LFG(f.R0b),f.LFG(le,8))},token:i,providedIn:"root"}),i})(),ig=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=f.oAB({type:i}),i.\u0275inj=f.cJS({}),i})();class Hr extends ft.xQ{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const r=super._subscribe(n);return r&&!r.closed&&n.next(this._value),r}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Qp.N;return this._value}next(n){super.next(this._value=n)}}const Dg=(()=>{function i(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return i.prototype=Object.create(Error.prototype),i})();var Hs=L(9193);function rl(i){return n=>0===i?(0,Hs.c)():n.lift(new tC(i))}class tC{constructor(n){if(this.total=n,this.total<0)throw new Dg}call(n,r){return r.subscribe(new mh(n,this.total))}}class mh extends cr.L{constructor(n,r){super(n),this.total=r,this.count=0}_next(n){const r=this.total,s=++this.count;s<=r&&(this.destination.next(n),s===r&&(this.destination.complete(),this.unsubscribe()))}}function Po(i){const{subscriber:n,counter:r,period:s}=i;n.next(r),this.schedule({subscriber:n,counter:r+1,period:s},s)}"undefined"!=typeof Element&&Element;var wh=L(6682),Gr=L(3342);function Ch(i,n,r){for(let s in n)if(n.hasOwnProperty(s)){const c=n[s];c?i.setProperty(s,c,(null==r?void 0:r.has(s))?"important":""):i.removeProperty(s)}return i}function Dh(i,n){const r=n?"":"none";Ch(i.style,{"touch-action":n?"":"none","-webkit-user-drag":n?"":"none","-webkit-tap-highlight-color":n?"":"transparent","user-select":r,"-ms-user-select":r,"-webkit-user-select":r,"-moz-user-select":r})}function Ny(i,n,r){Ch(i.style,{position:n?"":"fixed",top:n?"":"0",opacity:n?"":"0",left:n?"":"-999em"},r)}function Py(i,n){return n&&"none"!=n?i+" "+n:i}function $s(i){const n=i.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(i)*n}function ol(i,n){return i.getPropertyValue(n).split(",").map(s=>s.trim())}function Ih(i){const n=i.getBoundingClientRect();return{top:n.top,right:n.right,bottom:n.bottom,left:n.left,width:n.width,height:n.height}}function TC(i,n,r){const{top:s,bottom:c,left:d,right:m}=i;return r>=s&&r<=c&&n>=d&&n<=m}function Th(i,n,r){i.top+=n,i.bottom=i.top+i.height,i.left+=r,i.right=i.left+i.width}function ky(i,n,r,s){const{top:c,right:d,bottom:m,left:E,width:I,height:S}=i,M=I*n,P=S*n;return s>c-P&&s<m+P&&r>E-M&&r<d+M}class zS{constructor(n,r){this._document=n,this._viewportRuler=r,this.positions=new Map}clear(){this.positions.clear()}cache(n){this.clear(),this.positions.set(this._document,{scrollPosition:this._viewportRuler.getViewportScrollPosition()}),n.forEach(r=>{this.positions.set(r,{scrollPosition:{top:r.scrollTop,left:r.scrollLeft},clientRect:Ih(r)})})}handleScroll(n){const r=bi(n),s=this.positions.get(r);if(!s)return null;const c=r===this._document?r.documentElement:r,d=s.scrollPosition;let m,E;if(r===this._document){const M=this._viewportRuler.getViewportScrollPosition();m=M.top,E=M.left}else m=r.scrollTop,E=r.scrollLeft;const I=d.top-m,S=d.left-E;return this.positions.forEach((M,P)=>{M.clientRect&&r!==P&&c.contains(P)&&Th(M.clientRect,I,S)}),d.top=m,d.left=E,{top:I,left:S}}}function SC(i){const n=i.cloneNode(!0),r=n.querySelectorAll("[id]"),s=i.nodeName.toLowerCase();n.removeAttribute("id");for(let c=0;c<r.length;c++)r[c].removeAttribute("id");return"canvas"===s?xC(i,n):("input"===s||"select"===s||"textarea"===s)&&Fy(i,n),ZS("canvas",i,n,xC),ZS("input, textarea, select",i,n,Fy),n}function ZS(i,n,r,s){const c=n.querySelectorAll(i);if(c.length){const d=r.querySelectorAll(i);for(let m=0;m<c.length;m++)s(c[m],d[m])}}let AC=0;function Fy(i,n){"file"!==n.type&&(n.value=i.value),"radio"===n.type&&n.name&&(n.name=`mat-clone-${n.name}-${AC++}`)}function xC(i,n){const r=n.getContext("2d");if(r)try{r.drawImage(i,0,0)}catch(s){}}const Ag=hs({passive:!0}),WS=hs({passive:!1}),RC=new Set(["position"]);class rO{constructor(n,r,s,c,d,m){this._config=r,this._document=s,this._ngZone=c,this._viewportRuler=d,this._dragDropRegistry=m,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new ft.xQ,this._pointerMoveSubscription=jr.w.EMPTY,this._pointerUpSubscription=jr.w.EMPTY,this._scrollSubscription=jr.w.EMPTY,this._resizeSubscription=jr.w.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new ft.xQ,this.started=new ft.xQ,this.released=new ft.xQ,this.ended=new ft.xQ,this.entered=new ft.xQ,this.exited=new ft.xQ,this.dropped=new ft.xQ,this.moved=this._moveEvents,this._pointerDown=E=>{if(this.beforeStarted.next(),this._handles.length){const I=this._handles.find(S=>{const M=bi(E);return!!M&&(M===S||S.contains(M))});I&&!this._disabledHandles.has(I)&&!this.disabled&&this._initializeDragSequence(I,E)}else this.disabled||this._initializeDragSequence(this._rootElement,E)},this._pointerMove=E=>{const I=this._getPointerPositionOnPage(E);if(!this._hasStartedDragging){if(Math.abs(I.x-this._pickupPositionOnPage.x)+Math.abs(I.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const Q=Date.now()>=this._dragStartTime+this._getDragStartDelay(E),Ee=this._dropContainer;if(!Q)return void this._endDragSequence(E);(!Ee||!Ee.isDragging()&&!Ee.isReceiving())&&(E.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(E)))}return}this._boundaryElement&&(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=(this._preview||this._rootElement).getBoundingClientRect()),E.preventDefault();const S=this._getConstrainedPointerPosition(I);if(this._hasMoved=!0,this._lastKnownPointerPosition=I,this._updatePointerDirectionDelta(S),this._dropContainer)this._updateActiveDropContainer(S,I);else{const M=this._activeTransform;M.x=S.x-this._pickupPositionOnPage.x+this._passiveTransform.x,M.y=S.y-this._pickupPositionOnPage.y+this._passiveTransform.y,this._applyRootElementTransform(M.x,M.y),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&this._rootElement.setAttribute("transform",`translate(${M.x} ${M.y})`)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:S,event:E,distance:this._getDragDistance(S),delta:this._pointerDirectionDelta})})},this._pointerUp=E=>{this._endDragSequence(E)},this.withRootElement(n).withParent(r.parentDragRef||null),this._parentPositions=new zS(s,d),m.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(n){const r=Br(n);r!==this._disabled&&(this._disabled=r,this._toggleNativeDragInteractions(),this._handles.forEach(s=>Dh(s,r)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(n){this._handles=n.map(s=>yn(s)),this._handles.forEach(s=>Dh(s,this.disabled)),this._toggleNativeDragInteractions();const r=new Set;return this._disabledHandles.forEach(s=>{this._handles.indexOf(s)>-1&&r.add(s)}),this._disabledHandles=r,this}withPreviewTemplate(n){return this._previewTemplate=n,this}withPlaceholderTemplate(n){return this._placeholderTemplate=n,this}withRootElement(n){const r=yn(n);return r!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{r.addEventListener("mousedown",this._pointerDown,WS),r.addEventListener("touchstart",this._pointerDown,Ag)}),this._initialTransform=void 0,this._rootElement=r),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(n){return this._boundaryElement=n?yn(n):null,this._resizeSubscription.unsubscribe(),n&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(n){return this._parentDragRef=n,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&Vy(this._rootElement),Vy(this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(n){!this._disabledHandles.has(n)&&this._handles.indexOf(n)>-1&&(this._disabledHandles.add(n),Dh(n,!0))}enableHandle(n){this._disabledHandles.has(n)&&(this._disabledHandles.delete(n),Dh(n,this.disabled))}withDirection(n){return this._direction=n,this}_withDropContainer(n){this._dropContainer=n}getFreeDragPosition(){const n=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:n.x,y:n.y}}setFreeDragPosition(n){return this._activeTransform={x:0,y:0},this._passiveTransform.x=n.x,this._passiveTransform.y=n.y,this._dropContainer||this._applyRootElementTransform(n.x,n.y),this}withPreviewContainer(n){return this._previewContainer=n,this}_sortFromLastPointerPosition(){const n=this._lastKnownPointerPosition;n&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(n),n)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview&&Vy(this._preview),this._previewRef&&this._previewRef.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder&&Vy(this._placeholder),this._placeholderRef&&this._placeholderRef.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(n){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(n),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const r=this._getPointerPositionOnPage(n);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(r),dropPoint:r})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(n){xg(n)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const r=this._dropContainer;if(r){const s=this._rootElement,c=s.parentNode,d=this._placeholder=this._createPlaceholderElement(),m=this._anchor=this._anchor||this._document.createComment(""),E=this._getShadowRoot();c.insertBefore(m,s),this._initialTransform=s.style.transform||"",this._preview=this._createPreviewElement(),Ny(s,!1,RC),this._document.body.appendChild(c.replaceChild(d,s)),this._getPreviewInsertionPoint(c,E).appendChild(this._preview),this.started.next({source:this}),r.start(),this._initialContainer=r,this._initialIndex=r.getItemIndex(this)}else this.started.next({source:this}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(r?r.getScrollableParents():[])}_initializeDragSequence(n,r){this._parentDragRef&&r.stopPropagation();const s=this.isDragging(),c=xg(r),d=!c&&0!==r.button,m=this._rootElement,E=bi(r),I=!c&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),S=c?function(i){const n=i.touches&&i.touches[0]||i.changedTouches&&i.changedTouches[0];return!(!n||-1!==n.identifier||null!=n.radiusX&&1!==n.radiusX||null!=n.radiusY&&1!==n.radiusY)}(r):function(i){return 0===i.offsetX&&0===i.offsetY}(r);if(E&&E.draggable&&"mousedown"===r.type&&r.preventDefault(),s||d||I||S)return;this._handles.length&&(this._rootElementTapHighlight=m.style.webkitTapHighlightColor||"",m.style.webkitTapHighlightColor="transparent"),this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(W=>this._updateOnScroll(W)),this._boundaryElement&&(this._boundaryRect=Ih(this._boundaryElement));const M=this._previewTemplate;this._pickupPositionInElement=M&&M.template&&!M.matchSize?{x:0,y:0}:this._getPointerPositionInElement(n,r);const P=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(r);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:P.x,y:P.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,r)}_cleanupDragArtifacts(n){Ny(this._rootElement,!0,RC),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const r=this._dropContainer,s=r.getItemIndex(this),c=this._getPointerPositionOnPage(n),d=this._getDragDistance(c),m=r._isOverContainer(c.x,c.y);this.ended.next({source:this,distance:d,dropPoint:c}),this.dropped.next({item:this,currentIndex:s,previousIndex:this._initialIndex,container:r,previousContainer:this._initialContainer,isPointerOverContainer:m,distance:d,dropPoint:c}),r.drop(this,s,this._initialIndex,this._initialContainer,m,d,c),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:n,y:r},{x:s,y:c}){let d=this._initialContainer._getSiblingContainerFromPosition(this,n,r);!d&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(n,r)&&(d=this._initialContainer),d&&d!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=d,this._dropContainer.enter(this,n,r,d===this._initialContainer&&d.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:d,currentIndex:d.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(s,c),this._dropContainer._sortItem(this,n,r,this._pointerDirectionDelta),this._applyPreviewTransform(n-this._pickupPositionInElement.x,r-this._pickupPositionInElement.y))}_createPreviewElement(){const n=this._previewTemplate,r=this.previewClass,s=n?n.template:null;let c;if(s&&n){const d=n.matchSize?this._rootElement.getBoundingClientRect():null,m=n.viewContainer.createEmbeddedView(s,n.context);m.detectChanges(),c=YS(m,this._document),this._previewRef=m,n.matchSize?QS(c,d):c.style.transform=Ly(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{const d=this._rootElement;c=SC(d),QS(c,d.getBoundingClientRect()),this._initialTransform&&(c.style.transform=this._initialTransform)}return Ch(c.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},RC),Dh(c,!1),c.classList.add("cdk-drag-preview"),c.setAttribute("dir",this._direction),r&&(Array.isArray(r)?r.forEach(d=>c.classList.add(d)):c.classList.add(r)),c}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const n=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(n.left,n.top);const r=function(i){const n=getComputedStyle(i),r=ol(n,"transition-property"),s=r.find(E=>"transform"===E||"all"===E);if(!s)return 0;const c=r.indexOf(s),d=ol(n,"transition-duration"),m=ol(n,"transition-delay");return $s(d[c])+$s(m[c])}(this._preview);return 0===r?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(s=>{const c=m=>{var E;(!m||bi(m)===this._preview&&"transform"===m.propertyName)&&(null===(E=this._preview)||void 0===E||E.removeEventListener("transitionend",c),s(),clearTimeout(d))},d=setTimeout(c,1.5*r);this._preview.addEventListener("transitionend",c)}))}_createPlaceholderElement(){const n=this._placeholderTemplate,r=n?n.template:null;let s;return r?(this._placeholderRef=n.viewContainer.createEmbeddedView(r,n.context),this._placeholderRef.detectChanges(),s=YS(this._placeholderRef,this._document)):s=SC(this._rootElement),s.classList.add("cdk-drag-placeholder"),s}_getPointerPositionInElement(n,r){const s=this._rootElement.getBoundingClientRect(),c=n===this._rootElement?null:n,d=c?c.getBoundingClientRect():s,m=xg(r)?r.targetTouches[0]:r,E=this._getViewportScrollPosition();return{x:d.left-s.left+(m.pageX-d.left-E.left),y:d.top-s.top+(m.pageY-d.top-E.top)}}_getPointerPositionOnPage(n){const r=this._getViewportScrollPosition(),s=xg(n)?n.touches[0]||n.changedTouches[0]||{pageX:0,pageY:0}:n,c=s.pageX-r.left,d=s.pageY-r.top;if(this._ownerSVGElement){const m=this._ownerSVGElement.getScreenCTM();if(m){const E=this._ownerSVGElement.createSVGPoint();return E.x=c,E.y=d,E.matrixTransform(m.inverse())}}return{x:c,y:d}}_getConstrainedPointerPosition(n){const r=this._dropContainer?this._dropContainer.lockAxis:null;let{x:s,y:c}=this.constrainPosition?this.constrainPosition(n,this):n;if("x"===this.lockAxis||"x"===r?c=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===r)&&(s=this._pickupPositionOnPage.x),this._boundaryRect){const{x:d,y:m}=this._pickupPositionInElement,E=this._boundaryRect,I=this._previewRect,S=E.top+m,M=E.bottom-(I.height-m);s=KS(s,E.left+d,E.right-(I.width-d)),c=KS(c,S,M)}return{x:s,y:c}}_updatePointerDirectionDelta(n){const{x:r,y:s}=n,c=this._pointerDirectionDelta,d=this._pointerPositionAtLastDirectionChange,m=Math.abs(r-d.x),E=Math.abs(s-d.y);return m>this._config.pointerDirectionChangeThreshold&&(c.x=r>d.x?1:-1,d.x=r),E>this._config.pointerDirectionChangeThreshold&&(c.y=s>d.y?1:-1,d.y=s),c}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const n=this._handles.length>0||!this.isDragging();n!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=n,Dh(this._rootElement,n))}_removeRootElementListeners(n){n.removeEventListener("mousedown",this._pointerDown,WS),n.removeEventListener("touchstart",this._pointerDown,Ag)}_applyRootElementTransform(n,r){const s=Ly(n,r);null==this._initialTransform&&(this._initialTransform=this._rootElement.style.transform&&"none"!=this._rootElement.style.transform?this._rootElement.style.transform:""),this._rootElement.style.transform=Py(s,this._initialTransform)}_applyPreviewTransform(n,r){var s;const c=(null===(s=this._previewTemplate)||void 0===s?void 0:s.template)?void 0:this._initialTransform,d=Ly(n,r);this._preview.style.transform=Py(d,c)}_getDragDistance(n){const r=this._pickupPositionOnPage;return r?{x:n.x-r.x,y:n.y-r.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:n,y:r}=this._passiveTransform;if(0===n&&0===r||this.isDragging()||!this._boundaryElement)return;const s=this._boundaryElement.getBoundingClientRect(),c=this._rootElement.getBoundingClientRect();if(0===s.width&&0===s.height||0===c.width&&0===c.height)return;const d=s.left-c.left,m=c.right-s.right,E=s.top-c.top,I=c.bottom-s.bottom;s.width>c.width?(d>0&&(n+=d),m>0&&(n-=m)):n=0,s.height>c.height?(E>0&&(r+=E),I>0&&(r-=I)):r=0,(n!==this._passiveTransform.x||r!==this._passiveTransform.y)&&this.setFreeDragPosition({y:r,x:n})}_getDragStartDelay(n){const r=this.dragStartDelay;return"number"==typeof r?r:xg(n)?r.touch:r?r.mouse:0}_updateOnScroll(n){const r=this._parentPositions.handleScroll(n);if(r){const s=bi(n);this._boundaryRect&&(s===this._document||s!==this._boundaryElement&&s.contains(this._boundaryElement))&&Th(this._boundaryRect,r.top,r.left),this._pickupPositionOnPage.x+=r.left,this._pickupPositionOnPage.y+=r.top,this._dropContainer||(this._activeTransform.x-=r.left,this._activeTransform.y-=r.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){const n=this._parentPositions.positions.get(this._document);return n?n.scrollPosition:this._viewportRuler.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=va(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(n,r){const s=this._previewContainer||"global";if("parent"===s)return n;if("global"===s){const c=this._document;return r||c.fullscreenElement||c.webkitFullscreenElement||c.mozFullScreenElement||c.msFullscreenElement||c.body}return yn(s)}}function Ly(i,n){return`translate3d(${Math.round(i)}px, ${Math.round(n)}px, 0)`}function KS(i,n,r){return Math.max(n,Math.min(r,i))}function Vy(i){i&&i.parentNode&&i.parentNode.removeChild(i)}function xg(i){return"t"===i.type[0]}function YS(i,n){const r=i.rootNodes;if(1===r.length&&r[0].nodeType===n.ELEMENT_NODE)return r[0];const s=n.createElement("div");return r.forEach(c=>s.appendChild(c)),s}function QS(i,n){i.style.width=`${n.width}px`,i.style.height=`${n.height}px`,i.style.transform=Ly(n.left,n.top)}function MC(i,n,r){const s=Sh(n,i.length-1),c=Sh(r,i.length-1);if(s===c)return;const d=i[s],m=c<s?-1:1;for(let E=s;E!==c;E+=m)i[E]=i[E+m];i[c]=d}function ko(i,n,r,s){const c=Sh(r,i.length-1),d=Sh(s,n.length);i.length&&n.splice(d,0,i.splice(c,1)[0])}function Sh(i,n){return Math.max(0,Math.min(n,i))}class NC{constructor(n,r,s,c,d){this._dragDropRegistry=r,this._ngZone=c,this._viewportRuler=d,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new ft.xQ,this.entered=new ft.xQ,this.exited=new ft.xQ,this.dropped=new ft.xQ,this.sorted=new ft.xQ,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0,overlaps:!1},this._draggables=[],this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=jr.w.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new ft.xQ,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function(i=0,n=ma.P){return(!(0,Gc.k)(i)||i<0)&&(i=0),(!n||"function"!=typeof n.schedule)&&(n=ma.P),new Cn.y(r=>(r.add(n.schedule(Po,i,{subscriber:r,counter:0,period:i})),r))}(0,$c).pipe(yi(this._stopScrollTimers)).subscribe(()=>{const m=this._scrollNode,E=this.autoScrollStep;1===this._verticalScrollDirection?PC(m,-E):2===this._verticalScrollDirection&&PC(m,E),1===this._horizontalScrollDirection?Fo(m,-E):2===this._horizontalScrollDirection&&Fo(m,E)})},this.element=yn(n),this._document=s,this.withScrollableParents([this.element]),r.registerDropContainer(this),this._parentPositions=new zS(s,d)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(n,r,s,c){let d;this._draggingStarted(),null==c?(d=this.sortingDisabled?this._draggables.indexOf(n):-1,-1===d&&(d=this._getItemIndexFromPointerPosition(n,r,s))):d=c;const m=this._activeDraggables,E=m.indexOf(n),I=n.getPlaceholderElement();let S=m[d];if(S===n&&(S=m[d+1]),E>-1&&m.splice(E,1),S&&!this._dragDropRegistry.isDragging(S)){const M=S.getRootElement();M.parentElement.insertBefore(I,M),m.splice(d,0,n)}else if(this._shouldEnterAsFirstChild(r,s)){const M=m[0].getRootElement();M.parentNode.insertBefore(I,M),m.unshift(n)}else yn(this.element).appendChild(I),m.push(n);I.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:n,container:this,currentIndex:this.getItemIndex(n)})}exit(n){this._reset(),this.exited.next({item:n,container:this})}drop(n,r,s,c,d,m,E){this._reset(),this.dropped.next({item:n,currentIndex:r,previousIndex:s,container:this,previousContainer:c,isPointerOverContainer:d,distance:m,dropPoint:E})}withItems(n){const r=this._draggables;return this._draggables=n,n.forEach(s=>s._withDropContainer(this)),this.isDragging()&&(r.filter(c=>c.isDragging()).every(c=>-1===n.indexOf(c))?this._reset():this._cacheItems()),this}withDirection(n){return this._direction=n,this}connectedTo(n){return this._siblings=n.slice(),this}withOrientation(n){return this._orientation=n,this}withScrollableParents(n){const r=yn(this.element);return this._scrollableElements=-1===n.indexOf(r)?[r,...n]:n.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(n){return this._isDragging?Ah("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions,s=>s.drag===n):this._draggables.indexOf(n)}isReceiving(){return this._activeSiblings.size>0}_sortItem(n,r,s,c){if(this.sortingDisabled||!this._clientRect||!ky(this._clientRect,.05,r,s))return;const d=this._itemPositions,m=this._getItemIndexFromPointerPosition(n,r,s,c);if(-1===m&&d.length>0)return;const E="horizontal"===this._orientation,I=Ah(d,Fe=>Fe.drag===n),S=d[m],P=S.clientRect,W=I>m?1:-1,Q=this._getItemOffsetPx(d[I].clientRect,P,W),Ee=this._getSiblingOffsetPx(I,d,W),Ne=d.slice();MC(d,I,m),this.sorted.next({previousIndex:I,currentIndex:m,container:this,item:n}),d.forEach((Fe,xt)=>{if(Ne[xt]===Fe)return;const Mt=Fe.drag===n,Et=Mt?Q:Ee,qt=Mt?n.getPlaceholderElement():Fe.drag.getRootElement();Fe.offset+=Et,E?(qt.style.transform=Py(`translate3d(${Math.round(Fe.offset)}px, 0, 0)`,Fe.initialTransform),Th(Fe.clientRect,0,Et)):(qt.style.transform=Py(`translate3d(0, ${Math.round(Fe.offset)}px, 0)`,Fe.initialTransform),Th(Fe.clientRect,Et,0))}),this._previousSwap.overlaps=TC(P,r,s),this._previousSwap.drag=S.drag,this._previousSwap.delta=E?c.x:c.y}_startScrollingIfNecessary(n,r){if(this.autoScrollDisabled)return;let s,c=0,d=0;if(this._parentPositions.positions.forEach((m,E)=>{E===this._document||!m.clientRect||s||ky(m.clientRect,.05,n,r)&&([c,d]=function(i,n,r,s){const c=By(n,s),d=kC(n,r);let m=0,E=0;if(c){const I=i.scrollTop;1===c?I>0&&(m=1):i.scrollHeight-I>i.clientHeight&&(m=2)}if(d){const I=i.scrollLeft;1===d?I>0&&(E=1):i.scrollWidth-I>i.clientWidth&&(E=2)}return[m,E]}(E,m.clientRect,n,r),(c||d)&&(s=E))}),!c&&!d){const{width:m,height:E}=this._viewportRuler.getViewportSize(),I={width:m,height:E,top:0,right:m,bottom:E,left:0};c=By(I,r),d=kC(I,n),s=window}s&&(c!==this._verticalScrollDirection||d!==this._horizontalScrollDirection||s!==this._scrollNode)&&(this._verticalScrollDirection=c,this._horizontalScrollDirection=d,this._scrollNode=s,(c||d)&&s?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const n=yn(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=n.msScrollSnapType||n.scrollSnapType||"",n.scrollSnapType=n.msScrollSnapType="none",this._cacheItems(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const n=yn(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(n).clientRect}_cacheItemPositions(){const n="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(r=>{const s=r.getVisibleElement();return{drag:r,offset:0,initialTransform:s.style.transform||"",clientRect:Ih(s)}}).sort((r,s)=>n?r.clientRect.left-s.clientRect.left:r.clientRect.top-s.clientRect.top)}_reset(){this._isDragging=!1;const n=yn(this.element).style;n.scrollSnapType=n.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(r=>{var s;const c=r.getRootElement();if(c){const d=null===(s=this._itemPositions.find(m=>m.drag===r))||void 0===s?void 0:s.initialTransform;c.style.transform=d||""}}),this._siblings.forEach(r=>r._stopReceiving(this)),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_getSiblingOffsetPx(n,r,s){const c="horizontal"===this._orientation,d=r[n].clientRect,m=r[n+-1*s];let E=d[c?"width":"height"]*s;if(m){const I=c?"left":"top",S=c?"right":"bottom";-1===s?E-=m.clientRect[I]-d[S]:E+=d[I]-m.clientRect[S]}return E}_getItemOffsetPx(n,r,s){const c="horizontal"===this._orientation;let d=c?r.left-n.left:r.top-n.top;return-1===s&&(d+=c?r.width-n.width:r.height-n.height),d}_shouldEnterAsFirstChild(n,r){if(!this._activeDraggables.length)return!1;const s=this._itemPositions,c="horizontal"===this._orientation;if(s[0].drag!==this._activeDraggables[0]){const m=s[s.length-1].clientRect;return c?n>=m.right:r>=m.bottom}{const m=s[0].clientRect;return c?n<=m.left:r<=m.top}}_getItemIndexFromPointerPosition(n,r,s,c){const d="horizontal"===this._orientation,m=Ah(this._itemPositions,({drag:E,clientRect:I},S,M)=>{if(E===n)return M.length<2;if(c){const P=d?c.x:c.y;if(E===this._previousSwap.drag&&this._previousSwap.overlaps&&P===this._previousSwap.delta)return!1}return d?r>=Math.floor(I.left)&&r<Math.floor(I.right):s>=Math.floor(I.top)&&s<Math.floor(I.bottom)});return-1!==m&&this.sortPredicate(m,n,this)?m:-1}_cacheItems(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}_isOverContainer(n,r){return null!=this._clientRect&&TC(this._clientRect,n,r)}_getSiblingContainerFromPosition(n,r,s){return this._siblings.find(c=>c._canReceive(n,r,s))}_canReceive(n,r,s){if(!this._clientRect||!TC(this._clientRect,r,s)||!this.enterPredicate(n,this))return!1;const c=this._getShadowRoot().elementFromPoint(r,s);if(!c)return!1;const d=yn(this.element);return c===d||d.contains(c)}_startReceiving(n,r){const s=this._activeSiblings;!s.has(n)&&r.every(c=>this.enterPredicate(c,this)||this._draggables.indexOf(c)>-1)&&(s.add(n),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(n){this._activeSiblings.delete(n),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(n=>{if(this.isDragging()){const r=this._parentPositions.handleScroll(n);r&&(this._itemPositions.forEach(({clientRect:s})=>{Th(s,r.top,r.left)}),this._itemPositions.forEach(({drag:s})=>{this._dragDropRegistry.isDragging(s)&&s._sortFromLastPointerPosition()}))}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const n=va(yn(this.element));this._cachedShadowRoot=n||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const n=this._activeDraggables.filter(r=>r.isDragging());this._siblings.forEach(r=>r._startReceiving(this,n))}}function Ah(i,n){for(let r=0;r<i.length;r++)if(n(i[r],r,i))return r;return-1}function PC(i,n){i===window?i.scrollBy(0,n):i.scrollTop+=n}function Fo(i,n){i===window?i.scrollBy(n,0):i.scrollLeft+=n}function By(i,n){const{top:r,bottom:s,height:c}=i,d=.05*c;return n>=r-d&&n<=r+d?1:n>=s-d&&n<=s+d?2:0}function kC(i,n){const{left:r,right:s,width:c}=i,d=.05*c;return n>=r-d&&n<=r+d?1:n>=s-d&&n<=s+d?2:0}const al=hs({passive:!1,capture:!0});let FC=(()=>{class i{constructor(r,s){this._ngZone=r,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=c=>c.isDragging(),this.pointerMove=new ft.xQ,this.pointerUp=new ft.xQ,this.scroll=new ft.xQ,this._preventDefaultWhileDragging=c=>{this._activeDragInstances.length>0&&c.preventDefault()},this._persistentTouchmoveListener=c=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&c.preventDefault(),this.pointerMove.next(c))},this._document=s}registerDropContainer(r){this._dropInstances.has(r)||this._dropInstances.add(r)}registerDragItem(r){this._dragInstances.add(r),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,al)})}removeDropContainer(r){this._dropInstances.delete(r)}removeDragItem(r){this._dragInstances.delete(r),this.stopDragging(r),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,al)}startDragging(r,s){if(!(this._activeDragInstances.indexOf(r)>-1)&&(this._activeDragInstances.push(r),1===this._activeDragInstances.length)){const c=s.type.startsWith("touch");this._globalListeners.set(c?"touchend":"mouseup",{handler:d=>this.pointerUp.next(d),options:!0}).set("scroll",{handler:d=>this.scroll.next(d),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:al}),c||this._globalListeners.set("mousemove",{handler:d=>this.pointerMove.next(d),options:al}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((d,m)=>{this._document.addEventListener(m,d.handler,d.options)})})}}stopDragging(r){const s=this._activeDragInstances.indexOf(r);s>-1&&(this._activeDragInstances.splice(s,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(r){return this._activeDragInstances.indexOf(r)>-1}scrolled(r){const s=[this.scroll];return r&&r!==this._document&&s.push(new Cn.y(c=>this._ngZone.runOutsideAngular(()=>{const m=E=>{this._activeDragInstances.length&&c.next(E)};return r.addEventListener("scroll",m,!0),()=>{r.removeEventListener("scroll",m,!0)}}))),(0,wh.T)(...s)}ngOnDestroy(){this._dragInstances.forEach(r=>this.removeDragItem(r)),this._dropInstances.forEach(r=>this.removeDropContainer(r)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((r,s)=>{this._document.removeEventListener(s,r.handler,r.options)}),this._globalListeners.clear()}}return i.\u0275fac=function(r){return new(r||i)(f.LFG(f.R0b),f.LFG(le))},i.\u0275prov=f.Yz7({factory:function(){return new i(f.LFG(f.R0b),f.LFG(le))},token:i,providedIn:"root"}),i})();const LC={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let jy=(()=>{class i{constructor(r,s,c,d){this._document=r,this._ngZone=s,this._viewportRuler=c,this._dragDropRegistry=d}createDrag(r,s=LC){return new rO(r,s,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(r){return new NC(r,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return i.\u0275fac=function(r){return new(r||i)(f.LFG(le),f.LFG(f.R0b),f.LFG(js),f.LFG(FC))},i.\u0275prov=f.Yz7({factory:function(){return new i(f.LFG(le),f.LFG(f.R0b),f.LFG(js),f.LFG(FC))},token:i,providedIn:"root"}),i})();const Hy=new f.OlP("CDK_DRAG_PARENT"),Mu=new f.OlP("CdkDropListGroup"),Mg=new f.OlP("CDK_DRAG_CONFIG");let Mh=0;const Ou=new f.OlP("CdkDropList");let $y=(()=>{class i{constructor(r,s,c,d,m,E,I){this.element=r,this._changeDetectorRef=c,this._scrollDispatcher=d,this._dir=m,this._group=E,this._destroyed=new ft.xQ,this.connectedTo=[],this.id="cdk-drop-list-"+Mh++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new f.vpe,this.entered=new f.vpe,this.exited=new f.vpe,this.sorted=new f.vpe,this._unsortedItems=new Set,this._dropListRef=s.createDropList(r),this._dropListRef.data=this,I&&this._assignDefaults(I),this._dropListRef.enterPredicate=(S,M)=>this.enterPredicate(S.data,M.data),this._dropListRef.sortPredicate=(S,M,P)=>this.sortPredicate(S,M.data,P.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),i._dropLists.push(this),E&&E._items.add(this)}get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(r){this._dropListRef.disabled=this._disabled=Br(r)}addItem(r){this._unsortedItems.add(r),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(r){this._unsortedItems.delete(r),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((r,s)=>r._dragRef.getVisibleElement().compareDocumentPosition(s._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const r=i._dropLists.indexOf(this);r>-1&&i._dropLists.splice(r,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(r){this._dir&&this._dir.change.pipe(Tr(this._dir.value),yi(this._destroyed)).subscribe(s=>r.withDirection(s)),r.beforeStarted.subscribe(()=>{const s=function(i){return Array.isArray(i)?i:[i]}(this.connectedTo).map(c=>"string"==typeof c?i._dropLists.find(m=>m.id===c):c);if(this._group&&this._group._items.forEach(c=>{-1===s.indexOf(c)&&s.push(c)}),!this._scrollableParentsResolved){const c=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(d=>d.getElementRef().nativeElement);this._dropListRef.withScrollableParents(c),this._scrollableParentsResolved=!0}r.disabled=this.disabled,r.lockAxis=this.lockAxis,r.sortingDisabled=Br(this.sortingDisabled),r.autoScrollDisabled=Br(this.autoScrollDisabled),r.autoScrollStep=as(this.autoScrollStep,2),r.connectedTo(s.filter(c=>c&&c!==this).map(c=>c._dropListRef)).withOrientation(this.orientation)})}_handleEvents(r){r.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),r.entered.subscribe(s=>{this.entered.emit({container:this,item:s.item.data,currentIndex:s.currentIndex})}),r.exited.subscribe(s=>{this.exited.emit({container:this,item:s.item.data}),this._changeDetectorRef.markForCheck()}),r.sorted.subscribe(s=>{this.sorted.emit({previousIndex:s.previousIndex,currentIndex:s.currentIndex,container:this,item:s.item.data})}),r.dropped.subscribe(s=>{this.dropped.emit({previousIndex:s.previousIndex,currentIndex:s.currentIndex,previousContainer:s.previousContainer.data,container:s.container.data,item:s.item.data,isPointerOverContainer:s.isPointerOverContainer,distance:s.distance,dropPoint:s.dropPoint}),this._changeDetectorRef.markForCheck()})}_assignDefaults(r){const{lockAxis:s,draggingDisabled:c,sortingDisabled:d,listAutoScrollDisabled:m,listOrientation:E}=r;this.disabled=null!=c&&c,this.sortingDisabled=null!=d&&d,this.autoScrollDisabled=null!=m&&m,this.orientation=E||"vertical",s&&(this.lockAxis=s)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(r=>r._dragRef))}}return i.\u0275fac=function(r){return new(r||i)(f.Y36(f.SBq),f.Y36(jy),f.Y36(f.sBO),f.Y36(Qc),f.Y36(wi,8),f.Y36(Mu,12),f.Y36(Mg,8))},i.\u0275dir=f.lG2({type:i,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(r,s){2&r&&(f.uIk("id",s.id),f.ekj("cdk-drop-list-disabled",s.disabled)("cdk-drop-list-dragging",s._dropListRef.isDragging())("cdk-drop-list-receiving",s._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],id:"id",enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],sortPredicate:["cdkDropListSortPredicate","sortPredicate"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],orientation:["cdkDropListOrientation","orientation"],lockAxis:["cdkDropListLockAxis","lockAxis"],data:["cdkDropListData","data"],autoScrollStep:["cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[f._Bn([{provide:Mu,useValue:void 0},{provide:Ou,useExisting:i}])]}),i._dropLists=[],i})();const Og=new f.OlP("CdkDragHandle"),Ng=new f.OlP("CdkDragPlaceholder"),Oh=new f.OlP("CdkDragPreview");let eA=(()=>{class i{constructor(r,s,c,d,m,E,I,S,M,P,W){this.element=r,this.dropContainer=s,this._ngZone=d,this._viewContainerRef=m,this._dir=I,this._changeDetectorRef=M,this._selfHandle=P,this._parentDrag=W,this._destroyed=new ft.xQ,this.started=new f.vpe,this.released=new f.vpe,this.ended=new f.vpe,this.entered=new f.vpe,this.exited=new f.vpe,this.dropped=new f.vpe,this.moved=new Cn.y(Q=>{const Ee=this._dragRef.moved.pipe((0,_t.U)(Ne=>({source:this,pointerPosition:Ne.pointerPosition,event:Ne.event,delta:Ne.delta,distance:Ne.distance}))).subscribe(Q);return()=>{Ee.unsubscribe()}}),this._dragRef=S.createDrag(r,{dragStartThreshold:E&&null!=E.dragStartThreshold?E.dragStartThreshold:5,pointerDirectionChangeThreshold:E&&null!=E.pointerDirectionChangeThreshold?E.pointerDirectionChangeThreshold:5,zIndex:null==E?void 0:E.zIndex}),this._dragRef.data=this,i._dragInstances.push(this),E&&this._assignDefaults(E),s&&(this._dragRef._withDropContainer(s._dropListRef),s.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(r){this._disabled=Br(r),this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(rl(1),yi(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(r){const s=r.rootElementSelector,c=r.freeDragPosition;s&&!s.firstChange&&this._updateRootElement(),c&&!c.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const r=i._dragInstances.indexOf(this);r>-1&&i._dragInstances.splice(r,1),this._ngZone.runOutsideAngular(()=>{this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_updateRootElement(){const r=this.element.nativeElement,s=this.rootElementSelector?Gy(r,this.rootElementSelector):r;this._dragRef.withRootElement(s||r)}_getBoundaryElement(){const r=this.boundaryElement;return r?"string"==typeof r?Gy(this.element.nativeElement,r):yn(r):null}_syncInputs(r){r.beforeStarted.subscribe(()=>{if(!r.isDragging()){const s=this._dir,c=this.dragStartDelay,d=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,m=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;r.disabled=this.disabled,r.lockAxis=this.lockAxis,r.dragStartDelay="object"==typeof c&&c?c:as(c),r.constrainPosition=this.constrainPosition,r.previewClass=this.previewClass,r.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(d).withPreviewTemplate(m).withPreviewContainer(this.previewContainer||"global"),s&&r.withDirection(s.value)}}),r.beforeStarted.pipe(rl(1)).subscribe(()=>{var s,c;if(this._parentDrag)return void r.withParent(this._parentDrag._dragRef);let d=this.element.nativeElement.parentElement;for(;d;){if(null===(s=d.classList)||void 0===s?void 0:s.contains("cdk-drag")){r.withParent((null===(c=i._dragInstances.find(m=>m.element.nativeElement===d))||void 0===c?void 0:c._dragRef)||null);break}d=d.parentElement}})}_handleEvents(r){r.started.subscribe(()=>{this.started.emit({source:this}),this._changeDetectorRef.markForCheck()}),r.released.subscribe(()=>{this.released.emit({source:this})}),r.ended.subscribe(s=>{this.ended.emit({source:this,distance:s.distance,dropPoint:s.dropPoint}),this._changeDetectorRef.markForCheck()}),r.entered.subscribe(s=>{this.entered.emit({container:s.container.data,item:this,currentIndex:s.currentIndex})}),r.exited.subscribe(s=>{this.exited.emit({container:s.container.data,item:this})}),r.dropped.subscribe(s=>{this.dropped.emit({previousIndex:s.previousIndex,currentIndex:s.currentIndex,previousContainer:s.previousContainer.data,container:s.container.data,isPointerOverContainer:s.isPointerOverContainer,item:this,distance:s.distance,dropPoint:s.dropPoint})})}_assignDefaults(r){const{lockAxis:s,dragStartDelay:c,constrainPosition:d,previewClass:m,boundaryElement:E,draggingDisabled:I,rootElementSelector:S,previewContainer:M}=r;this.disabled=null!=I&&I,this.dragStartDelay=c||0,s&&(this.lockAxis=s),d&&(this.constrainPosition=d),m&&(this.previewClass=m),E&&(this.boundaryElement=E),S&&(this.rootElementSelector=S),M&&(this.previewContainer=M)}_setupHandlesListener(){this._handles.changes.pipe(Tr(this._handles),(0,Gr.b)(r=>{const s=r.filter(c=>c._parentDrag===this).map(c=>c.element);this._selfHandle&&this.rootElementSelector&&s.push(this.element),this._dragRef.withHandles(s)}),Dn(r=>(0,wh.T)(...r.map(s=>s._stateChanges.pipe(Tr(s))))),yi(this._destroyed)).subscribe(r=>{const s=this._dragRef,c=r.element.nativeElement;r.disabled?s.disableHandle(c):s.enableHandle(c)})}}return i.\u0275fac=function(r){return new(r||i)(f.Y36(f.SBq),f.Y36(Ou,12),f.Y36(le),f.Y36(f.R0b),f.Y36(f.s_b),f.Y36(Mg,8),f.Y36(wi,8),f.Y36(jy),f.Y36(f.sBO),f.Y36(Og,10),f.Y36(Hy,12))},i.\u0275dir=f.lG2({type:i,selectors:[["","cdkDrag",""]],contentQueries:function(r,s,c){if(1&r&&(f.Suo(c,Oh,5),f.Suo(c,Ng,5),f.Suo(c,Og,5)),2&r){let d;f.iGM(d=f.CRH())&&(s._previewTemplate=d.first),f.iGM(d=f.CRH())&&(s._placeholderTemplate=d.first),f.iGM(d=f.CRH())&&(s._handles=d)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(r,s){2&r&&f.ekj("cdk-drag-disabled",s.disabled)("cdk-drag-dragging",s._dragRef.isDragging())},inputs:{disabled:["cdkDragDisabled","disabled"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],lockAxis:["cdkDragLockAxis","lockAxis"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],boundaryElement:["cdkDragBoundary","boundaryElement"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],previewContainer:["cdkDragPreviewContainer","previewContainer"],data:["cdkDragData","data"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[f._Bn([{provide:Hy,useExisting:i}]),f.TTD]}),i._dragInstances=[],i})();function Gy(i,n){let r=i.parentElement;for(;r;){if(r.matches?r.matches(n):r.msMatchesSelector(n))return r;r=r.parentElement}return null}let BC=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=f.oAB({type:i}),i.\u0275inj=f.cJS({providers:[jy],imports:[ig]}),i})();class tA extends cr.L{notifyNext(n,r,s,c,d){this.destination.next(r)}notifyError(n,r){this.destination.error(n)}notifyComplete(n){this.destination.complete()}}class jC extends cr.L{constructor(n,r,s){super(),this.parent=n,this.outerValue=r,this.outerIndex=s,this.index=0}_next(n){this.parent.notifyNext(this.outerValue,n,this.outerIndex,this.index++,this)}_error(n){this.parent.notifyError(n,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var nA=L(7444);function rA(i,n,r,s,c=new jC(i,r,s)){if(!c.closed)return n instanceof Cn.y?n.subscribe(c):(0,nA.s)(n)(c)}var Di=L(6693);const HC={};class oO{constructor(n){this.resultSelector=n}call(n,r){return r.subscribe(new aO(n,this.resultSelector))}}class aO extends tA{constructor(n,r){super(n),this.resultSelector=r,this.active=0,this.values=[],this.observables=[]}_next(n){this.values.push(HC),this.observables.push(n)}_complete(){const n=this.observables,r=n.length;if(0===r)this.destination.complete();else{this.active=r,this.toRespond=r;for(let s=0;s<r;s++)this.add(rA(this,n[s],void 0,s))}}notifyComplete(n){0==(this.active-=1)&&this.destination.complete()}notifyNext(n,r,s){const c=this.values,m=this.toRespond?c[s]===HC?--this.toRespond:this.toRespond:0;c[s]=r,0===m&&(this.resultSelector?this._tryResultSelector(c):this.destination.next(c.slice()))}_tryResultSelector(n){let r;try{r=this.resultSelector.apply(this,n)}catch(s){return void this.destination.error(s)}this.destination.next(r)}}const qy=(()=>{function i(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return i.prototype=Object.create(Error.prototype),i})();function $C(i){return new Cn.y(n=>{let r;try{r=i()}catch(c){return void n.error(c)}return(r?(0,Ot.D)(r):(0,Hs.c)()).subscribe(n)})}var zy=L(2441);function ul(i,n){let r=!1;return arguments.length>=2&&(r=!0),function(c){return c.lift(new oA(i,n,r))}}class oA{constructor(n,r,s=!1){this.accumulator=n,this.seed=r,this.hasSeed=s}call(n,r){return r.subscribe(new aA(n,this.accumulator,this.seed,this.hasSeed))}}class aA extends cr.L{constructor(n,r,s,c){super(n),this.accumulator=r,this._seed=s,this.hasSeed=c,this.index=0}get seed(){return this._seed}set seed(n){this.hasSeed=!0,this._seed=n}_next(n){if(this.hasSeed)return this._tryNext(n);this.seed=n,this.destination.next(n)}_tryNext(n){const r=this.index++;let s;try{s=this.accumulator(this.seed,n,r)}catch(c){this.destination.error(c)}this.seed=s,this.destination.next(s)}}function Nu(i){return function(r){const s=new GC(i),c=r.lift(s);return s.caught=c}}class GC{constructor(n){this.selector=n}call(n,r){return r.subscribe(new uA(n,this.selector,this.caught))}}class uA extends mi.Ds{constructor(n,r,s){super(n),this.selector=r,this.caught=s}error(n){if(!this.isStopped){let r;try{r=this.selector(n,this.caught)}catch(d){return void super.error(d)}this._unsubscribeAndRecycle();const s=new mi.IY(this);this.add(s);const c=(0,mi.ft)(r,s);c!==s&&this.add(c)}}}var Sr=L(9773);function Nh(i,n){return(0,Sr.zg)(i,n,1)}function Zy(i){return function(r){return 0===i?(0,Hs.c)():r.lift(new qC(i))}}class qC{constructor(n){if(this.total=n,this.total<0)throw new Dg}call(n,r){return r.subscribe(new zC(n,this.total))}}class zC extends cr.L{constructor(n,r){super(n),this.total=r,this.ring=new Array,this.count=0}_next(n){const r=this.ring,s=this.total,c=this.count++;r.length<s?r.push(n):r[c%s]=n}_complete(){const n=this.destination;let r=this.count;if(r>0){const s=this.count>=this.total?this.total:this.count,c=this.ring;for(let d=0;d<s;d++){const m=r++%s;n.next(c[m])}}n.complete()}}function ZC(i=cA){return n=>n.lift(new Gs(i))}class Gs{constructor(n){this.errorFactory=n}call(n,r){return r.subscribe(new Wy(n,this.errorFactory))}}class Wy extends cr.L{constructor(n,r){super(n),this.errorFactory=r,this.hasValue=!1}_next(n){this.hasValue=!0,this.destination.next(n)}_complete(){if(this.hasValue)return this.destination.complete();{let n;try{n=this.errorFactory()}catch(r){n=r}this.destination.error(n)}}}function cA(){return new qy}function WC(i=null){return n=>n.lift(new uO(i))}class uO{constructor(n){this.defaultValue=n}call(n,r){return r.subscribe(new KC(n,this.defaultValue))}}class KC extends cr.L{constructor(n,r){super(n),this.defaultValue=r,this.isEmpty=!0}_next(n){this.isEmpty=!1,this.destination.next(n)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var YC=L(4487);function Pu(i,n){const r=arguments.length>=2;return s=>s.pipe(i?_i((c,d)=>i(c,d,s)):YC.y,rl(1),r?WC(n):ZC(()=>new qy))}var Ky=L(1307);class hA{constructor(n){this.callback=n}call(n,r){return r.subscribe(new Pg(n,this.callback))}}class Pg extends cr.L{constructor(n,r){super(n),this.add(new jr.w(r))}}class ys{constructor(n,r){this.id=n,this.url=r}}class Yy extends ys{constructor(n,r,s="imperative",c=null){super(n,r),this.navigationTrigger=s,this.restoredState=c}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ku extends ys{constructor(n,r,s){super(n,r),this.urlAfterRedirects=s}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class kg extends ys{constructor(n,r,s){super(n,r),this.reason=s}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class QC extends ys{constructor(n,r,s){super(n,r),this.error=s}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class fA extends ys{constructor(n,r,s,c){super(n,r),this.urlAfterRedirects=s,this.state=c}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pA extends ys{constructor(n,r,s,c){super(n,r),this.urlAfterRedirects=s,this.state=c}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Qy extends ys{constructor(n,r,s,c,d){super(n,r),this.urlAfterRedirects=s,this.state=c,this.shouldActivate=d}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class cO extends ys{constructor(n,r,s,c){super(n,r),this.urlAfterRedirects=s,this.state=c}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gA extends ys{constructor(n,r,s,c){super(n,r),this.urlAfterRedirects=s,this.state=c}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Jy{constructor(n){this.route=n}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Xy{constructor(n){this.route=n}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class JC{constructor(n){this.snapshot=n}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class XC{constructor(n){this.snapshot=n}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class e0{constructor(n){this.snapshot=n}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Lo{constructor(n){this.snapshot=n}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ph{constructor(n,r,s){this.routerEvent=n,this.position=r,this.anchor=s}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const St="primary";class mA{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const r=this.params[n];return Array.isArray(r)?r[0]:r}return null}getAll(n){if(this.has(n)){const r=this.params[n];return Array.isArray(r)?r:[r]}return[]}get keys(){return Object.keys(this.params)}}function kh(i){return new mA(i)}const Fu="ngNavigationCancelingError";function Fg(i){const n=Error("NavigationCancelingError: "+i);return n[Fu]=!0,n}function Lh(i,n,r){const s=r.path.split("/");if(s.length>i.length||"full"===r.pathMatch&&(n.hasChildren()||s.length<i.length))return null;const c={};for(let d=0;d<s.length;d++){const m=s[d],E=i[d];if(m.startsWith(":"))c[m.substring(1)]=E;else if(m!==E.path)return null}return{consumed:i.slice(0,s.length),posParams:c}}function Hi(i,n){const r=i?Object.keys(i):void 0,s=n?Object.keys(n):void 0;if(!r||!s||r.length!=s.length)return!1;let c;for(let d=0;d<r.length;d++)if(c=r[d],!ev(i[c],n[c]))return!1;return!0}function ev(i,n){if(Array.isArray(i)&&Array.isArray(n)){if(i.length!==n.length)return!1;const r=[...i].sort(),s=[...n].sort();return r.every((c,d)=>s[d]===c)}return i===n}function t0(i){return Array.prototype.concat.apply([],i)}function tv(i){return i.length>0?i[i.length-1]:null}function Yn(i,n){for(const r in i)i.hasOwnProperty(r)&&n(i[r],r)}function qs(i){return(0,f.CqO)(i)?i:(0,f.QGY)(i)?(0,Ot.D)(Promise.resolve(i)):(0,Xe.of)(i)}const n0={exact:function r0(i,n,r){if(!Ht(i.segments,n.segments)||!Lg(i.segments,n.segments,r)||i.numberOfChildren!==n.numberOfChildren)return!1;for(const s in n.children)if(!i.children[s]||!r0(i.children[s],n.children[s],r))return!1;return!0},subset:s0},Lu={exact:function(i,n){return Hi(i,n)},subset:function(i,n){return Object.keys(n).length<=Object.keys(i).length&&Object.keys(n).every(r=>ev(i[r],n[r]))},ignored:()=>!0};function nv(i,n,r){return n0[r.paths](i.root,n.root,r.matrixParams)&&Lu[r.queryParams](i.queryParams,n.queryParams)&&!("exact"===r.fragment&&i.fragment!==n.fragment)}function s0(i,n,r){return o0(i,n,n.segments,r)}function o0(i,n,r,s){if(i.segments.length>r.length){const c=i.segments.slice(0,r.length);return!(!Ht(c,r)||n.hasChildren()||!Lg(c,r,s))}if(i.segments.length===r.length){if(!Ht(i.segments,r)||!Lg(i.segments,r,s))return!1;for(const c in n.children)if(!i.children[c]||!s0(i.children[c],n.children[c],s))return!1;return!0}{const c=r.slice(0,i.segments.length),d=r.slice(i.segments.length);return!!(Ht(i.segments,c)&&Lg(i.segments,c,s)&&i.children[St])&&o0(i.children[St],n,d,s)}}function Lg(i,n,r){return n.every((s,c)=>Lu[r](i[c].parameters,s.parameters))}class Vu{constructor(n,r,s){this.root=n,this.queryParams=r,this.fragment=s}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=kh(this.queryParams)),this._queryParamMap}toString(){return iv.serialize(this)}}class Nt{constructor(n,r){this.segments=n,this.children=r,this.parent=null,Yn(r,(s,c)=>s.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ll(this)}}class Vh{constructor(n,r){this.path=n,this.parameters=r}get parameterMap(){return this._parameterMap||(this._parameterMap=kh(this.parameters)),this._parameterMap}toString(){return d0(this)}}function Ht(i,n){return i.length===n.length&&i.every((r,s)=>r.path===n[s].path)}class u0{}class zs{parse(n){const r=new wA(n);return new Vu(r.parseRootSegment(),r.parseQueryParams(),r.parseFragment())}serialize(n){var i;return`${`/${Vg(n.root,!0)}`}${function(i){const n=Object.keys(i).map(r=>{const s=i[r];return Array.isArray(s)?s.map(c=>`${Ug(r)}=${Ug(c)}`).join("&"):`${Ug(r)}=${Ug(s)}`}).filter(r=>!!r);return n.length?`?${n.join("&")}`:""}(n.queryParams)}${"string"==typeof n.fragment?`#${i=n.fragment,encodeURI(i)}`:""}`}}const iv=new zs;function ll(i){return i.segments.map(n=>d0(n)).join("/")}function Vg(i,n){if(!i.hasChildren())return ll(i);if(n){const r=i.children[St]?Vg(i.children[St],!1):"",s=[];return Yn(i.children,(c,d)=>{d!==St&&s.push(`${d}:${Vg(c,!1)}`)}),s.length>0?`${r}(${s.join("//")})`:r}{const r=function(i,n){let r=[];return Yn(i.children,(s,c)=>{c===St&&(r=r.concat(n(s,c)))}),Yn(i.children,(s,c)=>{c!==St&&(r=r.concat(n(s,c)))}),r}(i,(s,c)=>c===St?[Vg(i.children[St],!1)]:[`${c}:${Vg(s,!1)}`]);return 1===Object.keys(i.children).length&&null!=i.children[St]?`${ll(i)}/${r[0]}`:`${ll(i)}/(${r.join("//")})`}}function c0(i){return encodeURIComponent(i).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ug(i){return c0(i).replace(/%3B/gi,";")}function Bg(i){return c0(i).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Uh(i){return decodeURIComponent(i)}function sv(i){return Uh(i.replace(/\+/g,"%20"))}function d0(i){return`${Bg(i.path)}${function(i){return Object.keys(i).map(n=>`;${Bg(n)}=${Bg(i[n])}`).join("")}(i.parameters)}`}const ov=/^[^\/()?;=#]+/;function jh(i){const n=i.match(ov);return n?n[0]:""}const h0=/^[^=?&#]+/,p0=/^[^?&#]+/;class wA{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Nt([],{}):new Nt([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let r={};this.peekStartsWith("/(")&&(this.capture("/"),r=this.parseParens(!0));let s={};return this.peekStartsWith("(")&&(s=this.parseParens(!1)),(n.length>0||Object.keys(r).length>0)&&(s[St]=new Nt(n,r)),s}parseSegment(){const n=jh(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(n),new Vh(Uh(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const r=jh(this.remaining);if(!r)return;this.capture(r);let s="";if(this.consumeOptional("=")){const c=jh(this.remaining);c&&(s=c,this.capture(s))}n[Uh(r)]=Uh(s)}parseQueryParam(n){const r=function(i){const n=i.match(h0);return n?n[0]:""}(this.remaining);if(!r)return;this.capture(r);let s="";if(this.consumeOptional("=")){const m=function(i){const n=i.match(p0);return n?n[0]:""}(this.remaining);m&&(s=m,this.capture(s))}const c=sv(r),d=sv(s);if(n.hasOwnProperty(c)){let m=n[c];Array.isArray(m)||(m=[m],n[c]=m),m.push(d)}else n[c]=d}parseParens(n){const r={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const s=jh(this.remaining),c=this.remaining[s.length];if("/"!==c&&")"!==c&&";"!==c)throw new Error(`Cannot parse url '${this.url}'`);let d;s.indexOf(":")>-1?(d=s.substr(0,s.indexOf(":")),this.capture(d),this.capture(":")):n&&(d=St);const m=this.parseChildren();r[d]=1===Object.keys(m).length?m[St]:new Nt([],m),this.consumeOptional("//")}return r}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new Error(`Expected "${n}".`)}}class g0{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const r=this.pathFromRoot(n);return r.length>1?r[r.length-2]:null}children(n){const r=av(n,this._root);return r?r.children.map(s=>s.value):[]}firstChild(n){const r=av(n,this._root);return r&&r.children.length>0?r.children[0].value:null}siblings(n){const r=jg(n,this._root);return r.length<2?[]:r[r.length-2].children.map(c=>c.value).filter(c=>c!==n)}pathFromRoot(n){return jg(n,this._root).map(r=>r.value)}}function av(i,n){if(i===n.value)return n;for(const r of n.children){const s=av(i,r);if(s)return s}return null}function jg(i,n){if(i===n.value)return[n];for(const r of n.children){const s=jg(i,r);if(s.length)return s.unshift(n),s}return[]}class Sa{constructor(n,r){this.value=n,this.children=r}toString(){return`TreeNode(${this.value})`}}function dl(i){const n={};return i&&i.children.forEach(r=>n[r.value.outlet]=r),n}class m0 extends g0{constructor(n,r){super(n),this.snapshot=r,y0(this,n)}toString(){return this.snapshot.toString()}}function _0(i,n){const r=function(i,n){const m=new $h([],{},{},"",{},St,n,null,i.root,-1,{});return new uv("",new Sa(m,[]))}(i,n),s=new Hr([new Vh("",{})]),c=new Hr({}),d=new Hr({}),m=new Hr({}),E=new Hr(""),I=new Hh(s,c,m,E,d,St,n,r.root);return I.snapshot=r.root,new m0(new Sa(I,[]),r)}class Hh{constructor(n,r,s,c,d,m,E,I){this.url=n,this.params=r,this.queryParams=s,this.fragment=c,this.data=d,this.outlet=m,this.component=E,this._futureSnapshot=I}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,_t.U)(n=>kh(n)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,_t.U)(n=>kh(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Hg(i,n="emptyOnly"){const r=i.pathFromRoot;let s=0;if("always"!==n)for(s=r.length-1;s>=1;){const c=r[s],d=r[s-1];if(c.routeConfig&&""===c.routeConfig.path)s--;else{if(d.component)break;s--}}return function(i){return i.reduce((n,r)=>({params:Object.assign(Object.assign({},n.params),r.params),data:Object.assign(Object.assign({},n.data),r.data),resolve:Object.assign(Object.assign({},n.resolve),r._resolvedData)}),{params:{},data:{},resolve:{}})}(r.slice(s))}class $h{constructor(n,r,s,c,d,m,E,I,S,M,P){this.url=n,this.params=r,this.queryParams=s,this.fragment=c,this.data=d,this.outlet=m,this.component=E,this.routeConfig=I,this._urlSegment=S,this._lastPathIndex=M,this._resolve=P}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=kh(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=kh(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(s=>s.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class uv extends g0{constructor(n,r){super(r),this.url=n,y0(this,r)}toString(){return $i(this._root)}}function y0(i,n){n.value._routerState=i,n.children.forEach(r=>y0(i,r))}function $i(i){const n=i.children.length>0?` { ${i.children.map($i).join(", ")} } `:"";return`${i.value}${n}`}function v0(i){if(i.snapshot){const n=i.snapshot,r=i._futureSnapshot;i.snapshot=r,Hi(n.queryParams,r.queryParams)||i.queryParams.next(r.queryParams),n.fragment!==r.fragment&&i.fragment.next(r.fragment),Hi(n.params,r.params)||i.params.next(r.params),function(i,n){if(i.length!==n.length)return!1;for(let r=0;r<i.length;++r)if(!Hi(i[r],n[r]))return!1;return!0}(n.url,r.url)||i.url.next(r.url),Hi(n.data,r.data)||i.data.next(r.data)}else i.snapshot=i._futureSnapshot,i.data.next(i._futureSnapshot.data)}function E0(i,n){return Hi(i.params,n.params)&&function(i,n){return Ht(i,n)&&i.every((r,s)=>Hi(r.parameters,n[s].parameters))}(i.url,n.url)&&!(!i.parent!=!n.parent)&&(!i.parent||E0(i.parent,n.parent))}function Gh(i,n,r){if(r&&i.shouldReuseRoute(n.value,r.value.snapshot)){const s=r.value;s._futureSnapshot=n.value;const c=function(i,n,r){return n.children.map(s=>{for(const c of r.children)if(i.shouldReuseRoute(s.value,c.value.snapshot))return Gh(i,s,c);return Gh(i,s)})}(i,n,r);return new Sa(s,c)}{if(i.shouldAttach(n.value)){const d=i.retrieve(n.value);if(null!==d){const m=d.route;return cv(n,m),m}}const s=function(i){return new Hh(new Hr(i.url),new Hr(i.params),new Hr(i.queryParams),new Hr(i.fragment),new Hr(i.data),i.outlet,i.component,i)}(n.value),c=n.children.map(d=>Gh(i,d));return new Sa(s,c)}}function cv(i,n){if(i.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(i.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=i.value;for(let r=0;r<i.children.length;++r)cv(i.children[r],n.children[r])}function qh(i){return"object"==typeof i&&null!=i&&!i.outlets&&!i.segmentPath}function Uu(i){return"object"==typeof i&&null!=i&&i.outlets}function lv(i,n,r,s,c){let d={};return s&&Yn(s,(m,E)=>{d[E]=Array.isArray(m)?m.map(I=>`${I}`):`${m}`}),new Vu(r.root===i?n:$g(r.root,i,n),d,c)}function $g(i,n,r){const s={};return Yn(i.children,(c,d)=>{s[d]=c===n?r:$g(c,n,r)}),new Nt(i.segments,s)}class w0{constructor(n,r,s){if(this.isAbsolute=n,this.numberOfDoubleDots=r,this.commands=s,n&&s.length>0&&qh(s[0]))throw new Error("Root segment cannot have matrix parameters");const c=s.find(Uu);if(c&&c!==tv(s))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class dv{constructor(n,r,s){this.segmentGroup=n,this.processChildren=r,this.index=s}}function zh(i,n,r){if(i||(i=new Nt([],{})),0===i.segments.length&&i.hasChildren())return Vo(i,n,r);const s=function(i,n,r){let s=0,c=n;const d={match:!1,pathIndex:0,commandIndex:0};for(;c<i.segments.length;){if(s>=r.length)return d;const m=i.segments[c],E=r[s];if(Uu(E))break;const I=`${E}`,S=s<r.length-1?r[s+1]:null;if(c>0&&void 0===I)break;if(I&&S&&"object"==typeof S&&void 0===S.outlets){if(!I0(I,S,m))return d;s+=2}else{if(!I0(I,{},m))return d;s++}c++}return{match:!0,pathIndex:c,commandIndex:s}}(i,n,r),c=r.slice(s.commandIndex);if(s.match&&s.pathIndex<i.segments.length){const d=new Nt(i.segments.slice(0,s.pathIndex),{});return d.children[St]=new Nt(i.segments.slice(s.pathIndex),i.children),Vo(d,0,c)}return s.match&&0===c.length?new Nt(i.segments,{}):s.match&&!i.hasChildren()?Ii(i,n,r):s.match?Vo(i,0,c):Ii(i,n,r)}function Vo(i,n,r){if(0===r.length)return new Nt(i.segments,{});{const s=function(i){return Uu(i[0])?i[0].outlets:{[St]:i}}(r),c={};return Yn(s,(d,m)=>{"string"==typeof d&&(d=[d]),null!==d&&(c[m]=zh(i.children[m],n,d))}),Yn(i.children,(d,m)=>{void 0===s[m]&&(c[m]=d)}),new Nt(i.segments,c)}}function Ii(i,n,r){const s=i.segments.slice(0,n);let c=0;for(;c<r.length;){const d=r[c];if(Uu(d)){const I=Zh(d.outlets);return new Nt(s,I)}if(0===c&&qh(r[0])){s.push(new Vh(i.segments[n].path,D0(r[0]))),c++;continue}const m=Uu(d)?d.outlets[St]:`${d}`,E=c<r.length-1?r[c+1]:null;m&&E&&qh(E)?(s.push(new Vh(m,D0(E))),c+=2):(s.push(new Vh(m,{})),c++)}return new Nt(s,{})}function Zh(i){const n={};return Yn(i,(r,s)=>{"string"==typeof r&&(r=[r]),null!==r&&(n[s]=Ii(new Nt([],{}),0,r))}),n}function D0(i){const n={};return Yn(i,(r,s)=>n[s]=`${r}`),n}function I0(i,n,r){return i==r.path&&Hi(n,r.parameters)}class Zs{constructor(n,r,s,c){this.routeReuseStrategy=n,this.futureState=r,this.currState=s,this.forwardEvent=c}activate(n){const r=this.futureState._root,s=this.currState?this.currState._root:null;this.deactivateChildRoutes(r,s,n),v0(this.futureState.root),this.activateChildRoutes(r,s,n)}deactivateChildRoutes(n,r,s){const c=dl(r);n.children.forEach(d=>{const m=d.value.outlet;this.deactivateRoutes(d,c[m],s),delete c[m]}),Yn(c,(d,m)=>{this.deactivateRouteAndItsChildren(d,s)})}deactivateRoutes(n,r,s){const c=n.value,d=r?r.value:null;if(c===d)if(c.component){const m=s.getContext(c.outlet);m&&this.deactivateChildRoutes(n,r,m.children)}else this.deactivateChildRoutes(n,r,s);else d&&this.deactivateRouteAndItsChildren(r,s)}deactivateRouteAndItsChildren(n,r){this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,r):this.deactivateRouteAndOutlet(n,r)}detachAndStoreRouteSubtree(n,r){const s=r.getContext(n.value.outlet);if(s&&s.outlet){const c=s.outlet.detach(),d=s.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:c,route:n,contexts:d})}}deactivateRouteAndOutlet(n,r){const s=r.getContext(n.value.outlet),c=s&&n.value.component?s.children:r,d=dl(n);for(const m of Object.keys(d))this.deactivateRouteAndItsChildren(d[m],c);s&&s.outlet&&(s.outlet.deactivate(),s.children.onOutletDeactivated(),s.attachRef=null,s.resolver=null,s.route=null)}activateChildRoutes(n,r,s){const c=dl(r);n.children.forEach(d=>{this.activateRoutes(d,c[d.value.outlet],s),this.forwardEvent(new Lo(d.value.snapshot))}),n.children.length&&this.forwardEvent(new XC(n.value.snapshot))}activateRoutes(n,r,s){const c=n.value,d=r?r.value:null;if(v0(c),c===d)if(c.component){const m=s.getOrCreateContext(c.outlet);this.activateChildRoutes(n,r,m.children)}else this.activateChildRoutes(n,r,s);else if(c.component){const m=s.getOrCreateContext(c.outlet);if(this.routeReuseStrategy.shouldAttach(c.snapshot)){const E=this.routeReuseStrategy.retrieve(c.snapshot);this.routeReuseStrategy.store(c.snapshot,null),m.children.onOutletReAttached(E.contexts),m.attachRef=E.componentRef,m.route=E.route.value,m.outlet&&m.outlet.attach(E.componentRef,E.route.value),hl(E.route)}else{const E=function(i){for(let n=i.parent;n;n=n.parent){const r=n.routeConfig;if(r&&r._loadedConfig)return r._loadedConfig;if(r&&r.component)return null}return null}(c.snapshot),I=E?E.module.componentFactoryResolver:null;m.attachRef=null,m.route=c,m.resolver=I,m.outlet&&m.outlet.activateWith(c,I),this.activateChildRoutes(n,null,m.children)}}else this.activateChildRoutes(n,null,s)}}function hl(i){v0(i.value),i.children.forEach(hl)}class Uo{constructor(n,r){this.routes=n,this.module=r}}function vs(i){return"function"==typeof i}function Bo(i){return i instanceof Vu}const Ws=Symbol("INITIAL_VALUE");function Ks(){return Dn(i=>function(...i){let n,r;return(0,Eu.K)(i[i.length-1])&&(r=i.pop()),"function"==typeof i[i.length-1]&&(n=i.pop()),1===i.length&&(0,us.k)(i[0])&&(i=i[0]),(0,Di.n)(i,r).lift(new oO(n))}(i.map(n=>n.pipe(rl(1),Tr(Ws)))).pipe(ul((n,r)=>{let s=!1;return r.reduce((c,d,m)=>c!==Ws?c:(d===Ws&&(s=!0),s||!1!==d&&m!==r.length-1&&!Bo(d)?c:d),n)},Ws),_i(n=>n!==Ws),(0,_t.U)(n=>Bo(n)?n:!0===n),rl(1)))}let Bu=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=f.Xpm({type:i,selectors:[["ng-component"]],decls:1,vars:0,template:function(r,s){1&r&&f._UZ(0,"router-outlet")},directives:function(){return[Kg]},encapsulation:2}),i})();function ju(i,n=""){for(let r=0;r<i.length;r++){const s=i[r];_l(s,T0(n,s))}}function _l(i,n){i.children&&ju(i.children,n)}function T0(i,n){return n?i||n.path?i&&!n.path?`${i}/`:!i&&n.path?n.path:`${i}/${n.path}`:"":i}function Gg(i){const n=i.children&&i.children.map(Gg),r=n?Object.assign(Object.assign({},i),{children:n}):Object.assign({},i);return!r.component&&(n||r.loadChildren)&&r.outlet&&r.outlet!==St&&(r.component=Bu),r}function Ti(i){return i.outlet||St}function fv(i,n){const r=i.filter(s=>Ti(s)===n);return r.push(...i.filter(s=>Ti(s)!==n)),r}const pv={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Wh(i,n,r){var s;if(""===n.path)return"full"===n.pathMatch&&(i.hasChildren()||r.length>0)?Object.assign({},pv):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const d=(n.matcher||Lh)(r,i,n);if(!d)return Object.assign({},pv);const m={};Yn(d.posParams,(I,S)=>{m[S]=I.path});const E=d.consumed.length>0?Object.assign(Object.assign({},m),d.consumed[d.consumed.length-1].parameters):m;return{matched:!0,consumedSegments:d.consumed,lastChild:d.consumed.length,parameters:E,positionalParamSegments:null!==(s=d.posParams)&&void 0!==s?s:{}}}function Kh(i,n,r,s,c="corrected"){if(r.length>0&&function(i,n,r){return r.some(s=>qg(i,n,s)&&Ti(s)!==St)}(i,r,s)){const m=new Nt(n,function(i,n,r,s){const c={};c[St]=s,s._sourceSegment=i,s._segmentIndexShift=n.length;for(const d of r)if(""===d.path&&Ti(d)!==St){const m=new Nt([],{});m._sourceSegment=i,m._segmentIndexShift=n.length,c[Ti(d)]=m}return c}(i,n,s,new Nt(r,i.children)));return m._sourceSegment=i,m._segmentIndexShift=n.length,{segmentGroup:m,slicedSegments:[]}}if(0===r.length&&function(i,n,r){return r.some(s=>qg(i,n,s))}(i,r,s)){const m=new Nt(i.segments,function(i,n,r,s,c,d){const m={};for(const E of s)if(qg(i,r,E)&&!c[Ti(E)]){const I=new Nt([],{});I._sourceSegment=i,I._segmentIndexShift="legacy"===d?i.segments.length:n.length,m[Ti(E)]=I}return Object.assign(Object.assign({},c),m)}(i,n,r,s,i.children,c));return m._sourceSegment=i,m._segmentIndexShift=n.length,{segmentGroup:m,slicedSegments:r}}const d=new Nt(i.segments,i.children);return d._sourceSegment=i,d._segmentIndexShift=n.length,{segmentGroup:d,slicedSegments:r}}function qg(i,n,r){return(!(i.hasChildren()||n.length>0)||"full"!==r.pathMatch)&&""===r.path}function gv(i,n,r,s){return!!(Ti(i)===s||s!==St&&qg(n,r,i))&&("**"===i.path||Wh(n,i,r).matched)}function mv(i,n,r){return 0===n.length&&!i.children[r]}class Yh{constructor(n){this.segmentGroup=n||null}}class RA{constructor(n){this.urlTree=n}}function zg(i){return new Cn.y(n=>n.error(new Yh(i)))}function _v(i){return new Cn.y(n=>n.error(new RA(i)))}function MA(i){return new Cn.y(n=>n.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${i}'`)))}class NA{constructor(n,r,s,c,d){this.configLoader=r,this.urlSerializer=s,this.urlTree=c,this.config=d,this.allowRedirects=!0,this.ngModule=n.get(f.h0i)}apply(){const n=Kh(this.urlTree.root,[],[],this.config).segmentGroup,r=new Nt(n.segments,n.children);return this.expandSegmentGroup(this.ngModule,this.config,r,St).pipe((0,_t.U)(d=>this.createUrlTree(yv(d),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Nu(d=>{if(d instanceof RA)return this.allowRedirects=!1,this.match(d.urlTree);throw d instanceof Yh?this.noMatchError(d):d}))}match(n){return this.expandSegmentGroup(this.ngModule,this.config,n.root,St).pipe((0,_t.U)(c=>this.createUrlTree(yv(c),n.queryParams,n.fragment))).pipe(Nu(c=>{throw c instanceof Yh?this.noMatchError(c):c}))}noMatchError(n){return new Error(`Cannot match any routes. URL Segment: '${n.segmentGroup}'`)}createUrlTree(n,r,s){const c=n.segments.length>0?new Nt([],{[St]:n}):n;return new Vu(c,r,s)}expandSegmentGroup(n,r,s,c){return 0===s.segments.length&&s.hasChildren()?this.expandChildren(n,r,s).pipe((0,_t.U)(d=>new Nt([],d))):this.expandSegment(n,s,r,s.segments,c,!0)}expandChildren(n,r,s){const c=[];for(const d of Object.keys(s.children))"primary"===d?c.unshift(d):c.push(d);return(0,Ot.D)(c).pipe(Nh(d=>{const m=s.children[d],E=fv(r,d);return this.expandSegmentGroup(n,E,m,d).pipe((0,_t.U)(I=>({segment:I,outlet:d})))}),ul((d,m)=>(d[m.outlet]=m.segment,d),{}),function(i,n){const r=arguments.length>=2;return s=>s.pipe(i?_i((c,d)=>i(c,d,s)):YC.y,Zy(1),r?WC(n):ZC(()=>new qy))}())}expandSegment(n,r,s,c,d,m){return(0,Ot.D)(s).pipe(Nh(E=>this.expandSegmentAgainstRoute(n,r,s,E,c,d,m).pipe(Nu(S=>{if(S instanceof Yh)return(0,Xe.of)(null);throw S}))),Pu(E=>!!E),Nu((E,I)=>{if(E instanceof qy||"EmptyError"===E.name){if(mv(r,c,d))return(0,Xe.of)(new Nt([],{}));throw new Yh(r)}throw E}))}expandSegmentAgainstRoute(n,r,s,c,d,m,E){return gv(c,r,d,m)?void 0===c.redirectTo?this.matchSegmentAgainstRoute(n,r,c,d,m):E&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(n,r,s,c,d,m):zg(r):zg(r)}expandSegmentAgainstRouteUsingRedirect(n,r,s,c,d,m){return"**"===c.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(n,s,c,m):this.expandRegularSegmentAgainstRouteUsingRedirect(n,r,s,c,d,m)}expandWildCardWithParamsAgainstRouteUsingRedirect(n,r,s,c){const d=this.applyRedirectCommands([],s.redirectTo,{});return s.redirectTo.startsWith("/")?_v(d):this.lineralizeSegments(s,d).pipe((0,Sr.zg)(m=>{const E=new Nt(m,{});return this.expandSegment(n,E,r,m,c,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(n,r,s,c,d,m){const{matched:E,consumedSegments:I,lastChild:S,positionalParamSegments:M}=Wh(r,c,d);if(!E)return zg(r);const P=this.applyRedirectCommands(I,c.redirectTo,M);return c.redirectTo.startsWith("/")?_v(P):this.lineralizeSegments(c,P).pipe((0,Sr.zg)(W=>this.expandSegment(n,r,s,W.concat(d.slice(S)),m,!1)))}matchSegmentAgainstRoute(n,r,s,c,d){if("**"===s.path)return s.loadChildren?(s._loadedConfig?(0,Xe.of)(s._loadedConfig):this.configLoader.load(n.injector,s)).pipe((0,_t.U)(W=>(s._loadedConfig=W,new Nt(c,{})))):(0,Xe.of)(new Nt(c,{}));const{matched:m,consumedSegments:E,lastChild:I}=Wh(r,s,c);if(!m)return zg(r);const S=c.slice(I);return this.getChildConfig(n,s,c).pipe((0,Sr.zg)(P=>{const W=P.module,Q=P.routes,{segmentGroup:Ee,slicedSegments:Ne}=Kh(r,E,S,Q),Fe=new Nt(Ee.segments,Ee.children);if(0===Ne.length&&Fe.hasChildren())return this.expandChildren(W,Q,Fe).pipe((0,_t.U)(qt=>new Nt(E,qt)));if(0===Q.length&&0===Ne.length)return(0,Xe.of)(new Nt(E,{}));const xt=Ti(s)===d;return this.expandSegment(W,Fe,Q,Ne,xt?St:d,!0).pipe((0,_t.U)(Et=>new Nt(E.concat(Et.segments),Et.children)))}))}getChildConfig(n,r,s){return r.children?(0,Xe.of)(new Uo(r.children,n)):r.loadChildren?void 0!==r._loadedConfig?(0,Xe.of)(r._loadedConfig):this.runCanLoadGuards(n.injector,r,s).pipe((0,Sr.zg)(c=>{return c?this.configLoader.load(n.injector,r).pipe((0,_t.U)(d=>(r._loadedConfig=d,d))):(i=r,new Cn.y(n=>n.error(Fg(`Cannot load children because the guard of the route "path: '${i.path}'" returned false`))));var i})):(0,Xe.of)(new Uo([],n))}runCanLoadGuards(n,r,s){const c=r.canLoad;if(!c||0===c.length)return(0,Xe.of)(!0);const d=c.map(m=>{const E=n.get(m);let I;if((i=E)&&vs(i.canLoad))I=E.canLoad(r,s);else{if(!vs(E))throw new Error("Invalid CanLoad guard");I=E(r,s)}var i;return qs(I)});return(0,Xe.of)(d).pipe(Ks(),(0,Gr.b)(m=>{if(!Bo(m))return;const E=Fg(`Redirecting to "${this.urlSerializer.serialize(m)}"`);throw E.url=m,E}),(0,_t.U)(m=>!0===m))}lineralizeSegments(n,r){let s=[],c=r.root;for(;;){if(s=s.concat(c.segments),0===c.numberOfChildren)return(0,Xe.of)(s);if(c.numberOfChildren>1||!c.children[St])return MA(n.redirectTo);c=c.children[St]}}applyRedirectCommands(n,r,s){return this.applyRedirectCreatreUrlTree(r,this.urlSerializer.parse(r),n,s)}applyRedirectCreatreUrlTree(n,r,s,c){const d=this.createSegmentGroup(n,r.root,s,c);return new Vu(d,this.createQueryParams(r.queryParams,this.urlTree.queryParams),r.fragment)}createQueryParams(n,r){const s={};return Yn(n,(c,d)=>{if("string"==typeof c&&c.startsWith(":")){const E=c.substring(1);s[d]=r[E]}else s[d]=c}),s}createSegmentGroup(n,r,s,c){const d=this.createSegments(n,r.segments,s,c);let m={};return Yn(r.children,(E,I)=>{m[I]=this.createSegmentGroup(n,E,s,c)}),new Nt(d,m)}createSegments(n,r,s,c){return r.map(d=>d.path.startsWith(":")?this.findPosParam(n,d,c):this.findOrReturn(d,s))}findPosParam(n,r,s){const c=s[r.path.substring(1)];if(!c)throw new Error(`Cannot redirect to '${n}'. Cannot find '${r.path}'.`);return c}findOrReturn(n,r){let s=0;for(const c of r){if(c.path===n.path)return r.splice(s),c;s++}return n}}function yv(i){const n={};for(const s of Object.keys(i.children)){const d=yv(i.children[s]);(d.segments.length>0||d.hasChildren())&&(n[s]=d)}return function(i){if(1===i.numberOfChildren&&i.children[St]){const n=i.children[St];return new Nt(i.segments.concat(n.segments),n.children)}return i}(new Nt(i.segments,n))}class PA{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class vv{constructor(n,r){this.component=n,this.route=r}}function gO(i,n,r){const s=i._root;return Qh(s,n?n._root:null,r,[s.value])}function Ev(i,n,r){const s=function(i){if(!i)return null;for(let n=i.parent;n;n=n.parent){const r=n.routeConfig;if(r&&r._loadedConfig)return r._loadedConfig}return null}(n);return(s?s.module.injector:r).get(i)}function Qh(i,n,r,s,c={canDeactivateChecks:[],canActivateChecks:[]}){const d=dl(n);return i.children.forEach(m=>{(function(i,n,r,s,c={canDeactivateChecks:[],canActivateChecks:[]}){const d=i.value,m=n?n.value:null,E=r?r.getContext(i.value.outlet):null;if(m&&d.routeConfig===m.routeConfig){const I=function(i,n,r){if("function"==typeof r)return r(i,n);switch(r){case"pathParamsChange":return!Ht(i.url,n.url);case"pathParamsOrQueryParamsChange":return!Ht(i.url,n.url)||!Hi(i.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!E0(i,n)||!Hi(i.queryParams,n.queryParams);case"paramsChange":default:return!E0(i,n)}}(m,d,d.routeConfig.runGuardsAndResolvers);I?c.canActivateChecks.push(new PA(s)):(d.data=m.data,d._resolvedData=m._resolvedData),Qh(i,n,d.component?E?E.children:null:r,s,c),I&&E&&E.outlet&&E.outlet.isActivated&&c.canDeactivateChecks.push(new vv(E.outlet.component,m))}else m&&Jh(n,E,c),c.canActivateChecks.push(new PA(s)),Qh(i,null,d.component?E?E.children:null:r,s,c)})(m,d[m.value.outlet],r,s.concat([m.value]),c),delete d[m.value.outlet]}),Yn(d,(m,E)=>Jh(m,r.getContext(E),c)),c}function Jh(i,n,r){const s=dl(i),c=i.value;Yn(s,(d,m)=>{Jh(d,c.component?n?n.children.getContext(m):null:n,r)}),r.canDeactivateChecks.push(new vv(c.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,c))}class UA{}function Cv(i){return new Cn.y(n=>n.error(i))}class N0{constructor(n,r,s,c,d,m){this.rootComponentType=n,this.config=r,this.urlTree=s,this.url=c,this.paramsInheritanceStrategy=d,this.relativeLinkResolution=m}recognize(){const n=Kh(this.urlTree.root,[],[],this.config.filter(m=>void 0===m.redirectTo),this.relativeLinkResolution).segmentGroup,r=this.processSegmentGroup(this.config,n,St);if(null===r)return null;const s=new $h([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},St,this.rootComponentType,null,this.urlTree.root,-1,{}),c=new Sa(s,r),d=new uv(this.url,c);return this.inheritParamsAndData(d._root),d}inheritParamsAndData(n){const r=n.value,s=Hg(r,this.paramsInheritanceStrategy);r.params=Object.freeze(s.params),r.data=Object.freeze(s.data),n.children.forEach(c=>this.inheritParamsAndData(c))}processSegmentGroup(n,r,s){return 0===r.segments.length&&r.hasChildren()?this.processChildren(n,r):this.processSegment(n,r,r.segments,s)}processChildren(n,r){const s=[];for(const d of Object.keys(r.children)){const m=r.children[d],E=fv(n,d),I=this.processSegmentGroup(E,m,d);if(null===I)return null;s.push(...I)}const c=k0(s);return c.sort((n,r)=>n.value.outlet===St?-1:r.value.outlet===St?1:n.value.outlet.localeCompare(r.value.outlet)),c}processSegment(n,r,s,c){for(const d of n){const m=this.processSegmentAgainstRoute(d,r,s,c);if(null!==m)return m}return mv(r,s,c)?[]:null}processSegmentAgainstRoute(n,r,s,c){if(n.redirectTo||!gv(n,r,s,c))return null;let d,m=[],E=[];if("**"===n.path){const Q=s.length>0?tv(s).parameters:{};d=new $h(s,Q,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,V0(n),Ti(n),n.component,n,F0(r),L0(r)+s.length,Dv(n))}else{const Q=Wh(r,n,s);if(!Q.matched)return null;m=Q.consumedSegments,E=s.slice(Q.lastChild),d=new $h(m,Q.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,V0(n),Ti(n),n.component,n,F0(r),L0(r)+m.length,Dv(n))}const I=(i=n).children?i.children:i.loadChildren?i._loadedConfig.routes:[],{segmentGroup:S,slicedSegments:M}=Kh(r,m,E,I.filter(Q=>void 0===Q.redirectTo),this.relativeLinkResolution);var i;if(0===M.length&&S.hasChildren()){const Q=this.processChildren(I,S);return null===Q?null:[new Sa(d,Q)]}if(0===I.length&&0===M.length)return[new Sa(d,[])];const P=Ti(n)===c,W=this.processSegment(I,S,M,P?St:c);return null===W?null:[new Sa(d,W)]}}function P0(i){const n=i.value.routeConfig;return n&&""===n.path&&void 0===n.redirectTo}function k0(i){const n=[],r=new Set;for(const s of i){if(!P0(s)){n.push(s);continue}const c=n.find(d=>s.value.routeConfig===d.value.routeConfig);void 0!==c?(c.children.push(...s.children),r.add(c)):n.push(s)}for(const s of r){const c=k0(s.children);n.push(new Sa(s.value,c))}return n.filter(s=>!r.has(s))}function F0(i){let n=i;for(;n._sourceSegment;)n=n._sourceSegment;return n}function L0(i){let n=i,r=n._segmentIndexShift?n._segmentIndexShift:0;for(;n._sourceSegment;)n=n._sourceSegment,r+=n._segmentIndexShift?n._segmentIndexShift:0;return r-1}function V0(i){return i.data||{}}function Dv(i){return i.resolve||{}}function Xh(i){return Dn(n=>{const r=i(n);return r?(0,Ot.D)(r).pipe((0,_t.U)(()=>n)):(0,Xe.of)(n)})}class ef extends class{shouldDetach(n){return!1}store(n,r){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,r){return n.routeConfig===r.routeConfig}}{}const Tv=new f.OlP("ROUTES");class Wg{constructor(n,r,s,c){this.loader=n,this.compiler=r,this.onLoadStartListener=s,this.onLoadEndListener=c}load(n,r){if(r._loader$)return r._loader$;this.onLoadStartListener&&this.onLoadStartListener(r);const c=this.loadModuleFactory(r.loadChildren).pipe((0,_t.U)(d=>{this.onLoadEndListener&&this.onLoadEndListener(r);const m=d.create(n);return new Uo(t0(m.injector.get(Tv,void 0,f.XFs.Self|f.XFs.Optional)).map(Gg),m)}),Nu(d=>{throw r._loader$=void 0,d}));return r._loader$=new zy.c(c,()=>new ft.xQ).pipe((0,Ky.x)()),r._loader$}loadModuleFactory(n){return"string"==typeof n?(0,Ot.D)(this.loader.load(n)):qs(n()).pipe((0,Sr.zg)(r=>r instanceof f.YKP?(0,Xe.of)(r):(0,Ot.D)(this.compiler.compileModuleAsync(r))))}}class Sv{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new vl,this.attachRef=null}}class vl{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const s=this.getOrCreateContext(n);s.outlet=r,this.contexts.set(n,s)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Sv,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}}class xv{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}}function j0(i){throw i}function CO(i,n,r){return n.parse("/")}function H0(i,n){return(0,Xe.of)(null)}const $0={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},G0={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let si=(()=>{class i{constructor(r,s,c,d,m,E,I,S){this.rootComponentType=r,this.urlSerializer=s,this.rootContexts=c,this.location=d,this.config=S,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ft.xQ,this.errorHandler=j0,this.malformedUriErrorHandler=CO,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:H0,afterPreactivation:H0},this.urlHandlingStrategy=new xv,this.routeReuseStrategy=new ef,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=m.get(f.h0i),this.console=m.get(f.c2e);const W=m.get(f.R0b);this.isNgZoneEnabled=W instanceof f.R0b&&f.R0b.isInAngularZone(),this.resetConfig(S),this.currentUrlTree=new Vu(new Nt([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Wg(E,I,Q=>this.triggerEvent(new Jy(Q)),Q=>this.triggerEvent(new Xy(Q))),this.routerState=_0(this.currentUrlTree,this.rootComponentType),this.transitions=new Hr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var r;return null===(r=this.location.getState())||void 0===r?void 0:r.\u0275routerPageId}setupNavigations(r){const s=this.events;return r.pipe(_i(c=>0!==c.id),(0,_t.U)(c=>Object.assign(Object.assign({},c),{extractedUrl:this.urlHandlingStrategy.extract(c.rawUrl)})),Dn(c=>{let d=!1,m=!1;return(0,Xe.of)(c).pipe((0,Gr.b)(E=>{this.currentNavigation={id:E.id,initialUrl:E.currentRawUrl,extractedUrl:E.extractedUrl,trigger:E.source,extras:E.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Dn(E=>{const I=this.browserUrlTree.toString(),S=!this.navigated||E.extractedUrl.toString()!==I||I!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||S)&&this.urlHandlingStrategy.shouldProcessUrl(E.rawUrl))return El(E.source)&&(this.browserUrlTree=E.extractedUrl),(0,Xe.of)(E).pipe(Dn(P=>{const W=this.transitions.getValue();return s.next(new Yy(P.id,this.serializeUrl(P.extractedUrl),P.source,P.restoredState)),W!==this.transitions.getValue()?Hs.E:Promise.resolve(P)}),function(i,n,r,s){return Dn(c=>function(i,n,r,s,c){return new NA(i,n,r,s,c).apply()}(i,n,r,c.extractedUrl,s).pipe((0,_t.U)(d=>Object.assign(Object.assign({},c),{urlAfterRedirects:d}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Gr.b)(P=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:P.urlAfterRedirects})}),function(i,n,r,s,c){return(0,Sr.zg)(d=>function(i,n,r,s,c="emptyOnly",d="legacy"){try{const m=new N0(i,n,r,s,c,d).recognize();return null===m?Cv(new UA):(0,Xe.of)(m)}catch(m){return Cv(m)}}(i,n,d.urlAfterRedirects,r(d.urlAfterRedirects),s,c).pipe((0,_t.U)(m=>Object.assign(Object.assign({},d),{targetSnapshot:m}))))}(this.rootComponentType,this.config,P=>this.serializeUrl(P),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Gr.b)(P=>{"eager"===this.urlUpdateStrategy&&(P.extras.skipLocationChange||this.setBrowserUrl(P.urlAfterRedirects,P),this.browserUrlTree=P.urlAfterRedirects);const W=new fA(P.id,this.serializeUrl(P.extractedUrl),this.serializeUrl(P.urlAfterRedirects),P.targetSnapshot);s.next(W)}));if(S&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:W,extractedUrl:Q,source:Ee,restoredState:Ne,extras:Fe}=E,xt=new Yy(W,this.serializeUrl(Q),Ee,Ne);s.next(xt);const Mt=_0(Q,this.rootComponentType).snapshot;return(0,Xe.of)(Object.assign(Object.assign({},E),{targetSnapshot:Mt,urlAfterRedirects:Q,extras:Object.assign(Object.assign({},Fe),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=E.rawUrl,this.browserUrlTree=E.urlAfterRedirects,E.resolve(null),Hs.E}),Xh(E=>{const{targetSnapshot:I,id:S,extractedUrl:M,rawUrl:P,extras:{skipLocationChange:W,replaceUrl:Q}}=E;return this.hooks.beforePreactivation(I,{navigationId:S,appliedUrlTree:M,rawUrlTree:P,skipLocationChange:!!W,replaceUrl:!!Q})}),(0,Gr.b)(E=>{const I=new pA(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(E.urlAfterRedirects),E.targetSnapshot);this.triggerEvent(I)}),(0,_t.U)(E=>Object.assign(Object.assign({},E),{guards:gO(E.targetSnapshot,E.currentSnapshot,this.rootContexts)})),function(i,n){return(0,Sr.zg)(r=>{const{targetSnapshot:s,currentSnapshot:c,guards:{canActivateChecks:d,canDeactivateChecks:m}}=r;return 0===m.length&&0===d.length?(0,Xe.of)(Object.assign(Object.assign({},r),{guardsResult:!0})):function(i,n,r,s){return(0,Ot.D)(i).pipe((0,Sr.zg)(c=>function(i,n,r,s,c){const d=n&&n.routeConfig?n.routeConfig.canDeactivate:null;if(!d||0===d.length)return(0,Xe.of)(!0);const m=d.map(E=>{const I=Ev(E,n,c);let S;if(function(i){return i&&vs(i.canDeactivate)}(I))S=qs(I.canDeactivate(i,n,r,s));else{if(!vs(I))throw new Error("Invalid CanDeactivate guard");S=qs(I(i,n,r,s))}return S.pipe(Pu())});return(0,Xe.of)(m).pipe(Ks())}(c.component,c.route,r,n,s)),Pu(c=>!0!==c,!0))}(m,s,c,i).pipe((0,Sr.zg)(E=>E&&function(i){return"boolean"==typeof i}(E)?function(i,n,r,s){return(0,Ot.D)(n).pipe(Nh(c=>ya(function(i,n){return null!==i&&n&&n(new JC(i)),(0,Xe.of)(!0)}(c.route.parent,s),function(i,n){return null!==i&&n&&n(new e0(i)),(0,Xe.of)(!0)}(c.route,s),function(i,n,r){const s=n[n.length-1],d=n.slice(0,n.length-1).reverse().map(m=>function(i){const n=i.routeConfig?i.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:i,guards:n}:null}(m)).filter(m=>null!==m).map(m=>$C(()=>{const E=m.guards.map(I=>{const S=Ev(I,m.node,r);let M;if(function(i){return i&&vs(i.canActivateChild)}(S))M=qs(S.canActivateChild(s,i));else{if(!vs(S))throw new Error("Invalid CanActivateChild guard");M=qs(S(s,i))}return M.pipe(Pu())});return(0,Xe.of)(E).pipe(Ks())}));return(0,Xe.of)(d).pipe(Ks())}(i,c.path,r),function(i,n,r){const s=n.routeConfig?n.routeConfig.canActivate:null;if(!s||0===s.length)return(0,Xe.of)(!0);const c=s.map(d=>$C(()=>{const m=Ev(d,n,r);let E;if(function(i){return i&&vs(i.canActivate)}(m))E=qs(m.canActivate(n,i));else{if(!vs(m))throw new Error("Invalid CanActivate guard");E=qs(m(n,i))}return E.pipe(Pu())}));return(0,Xe.of)(c).pipe(Ks())}(i,c.route,r))),Pu(c=>!0!==c,!0))}(s,d,i,n):(0,Xe.of)(E)),(0,_t.U)(E=>Object.assign(Object.assign({},r),{guardsResult:E})))})}(this.ngModule.injector,E=>this.triggerEvent(E)),(0,Gr.b)(E=>{if(Bo(E.guardsResult)){const S=Fg(`Redirecting to "${this.serializeUrl(E.guardsResult)}"`);throw S.url=E.guardsResult,S}const I=new Qy(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(E.urlAfterRedirects),E.targetSnapshot,!!E.guardsResult);this.triggerEvent(I)}),_i(E=>!!E.guardsResult||(this.restoreHistory(E),this.cancelNavigationTransition(E,""),!1)),Xh(E=>{if(E.guards.canActivateChecks.length)return(0,Xe.of)(E).pipe((0,Gr.b)(I=>{const S=new cO(I.id,this.serializeUrl(I.extractedUrl),this.serializeUrl(I.urlAfterRedirects),I.targetSnapshot);this.triggerEvent(S)}),Dn(I=>{let S=!1;return(0,Xe.of)(I).pipe(function(i,n){return(0,Sr.zg)(r=>{const{targetSnapshot:s,guards:{canActivateChecks:c}}=r;if(!c.length)return(0,Xe.of)(r);let d=0;return(0,Ot.D)(c).pipe(Nh(m=>function(i,n,r,s){return function(i,n,r,s){const c=Object.keys(i);if(0===c.length)return(0,Xe.of)({});const d={};return(0,Ot.D)(c).pipe((0,Sr.zg)(m=>function(i,n,r,s){const c=Ev(i,n,s);return qs(c.resolve?c.resolve(n,r):c(n,r))}(i[m],n,r,s).pipe((0,Gr.b)(E=>{d[m]=E}))),Zy(1),(0,Sr.zg)(()=>Object.keys(d).length===c.length?(0,Xe.of)(d):Hs.E))}(i._resolve,i,n,s).pipe((0,_t.U)(d=>(i._resolvedData=d,i.data=Object.assign(Object.assign({},i.data),Hg(i,r).resolve),null)))}(m.route,s,i,n)),(0,Gr.b)(()=>d++),Zy(1),(0,Sr.zg)(m=>d===c.length?(0,Xe.of)(r):Hs.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Gr.b)({next:()=>S=!0,complete:()=>{S||(this.restoreHistory(I),this.cancelNavigationTransition(I,"At least one route resolver didn't emit any value."))}}))}),(0,Gr.b)(I=>{const S=new gA(I.id,this.serializeUrl(I.extractedUrl),this.serializeUrl(I.urlAfterRedirects),I.targetSnapshot);this.triggerEvent(S)}))}),Xh(E=>{const{targetSnapshot:I,id:S,extractedUrl:M,rawUrl:P,extras:{skipLocationChange:W,replaceUrl:Q}}=E;return this.hooks.afterPreactivation(I,{navigationId:S,appliedUrlTree:M,rawUrlTree:P,skipLocationChange:!!W,replaceUrl:!!Q})}),(0,_t.U)(E=>{const I=function(i,n,r){const s=Gh(i,n._root,r?r._root:void 0);return new m0(s,n)}(this.routeReuseStrategy,E.targetSnapshot,E.currentRouterState);return Object.assign(Object.assign({},E),{targetRouterState:I})}),(0,Gr.b)(E=>{this.currentUrlTree=E.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(E.urlAfterRedirects,E.rawUrl),this.routerState=E.targetRouterState,"deferred"===this.urlUpdateStrategy&&(E.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,E),this.browserUrlTree=E.urlAfterRedirects)}),((i,n,r)=>(0,_t.U)(s=>(new Zs(n,s.targetRouterState,s.currentRouterState,r).activate(i),s)))(this.rootContexts,this.routeReuseStrategy,E=>this.triggerEvent(E)),(0,Gr.b)({next(){d=!0},complete(){d=!0}}),function(i){return n=>n.lift(new hA(i))}(()=>{if(!d&&!m){const E=`Navigation ID ${c.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(c),this.cancelNavigationTransition(c,E)):this.cancelNavigationTransition(c,E)}this.currentNavigation=null}),Nu(E=>{if(m=!0,function(i){return i&&i[Fu]}(E)){const I=Bo(E.url);I||(this.navigated=!0,this.restoreHistory(c,!0));const S=new kg(c.id,this.serializeUrl(c.extractedUrl),E.message);s.next(S),I?setTimeout(()=>{const M=this.urlHandlingStrategy.merge(E.url,this.rawUrlTree),P={skipLocationChange:c.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||El(c.source)};this.scheduleNavigation(M,"imperative",null,P,{resolve:c.resolve,reject:c.reject,promise:c.promise})},0):c.resolve(!1)}else{this.restoreHistory(c,!0);const I=new QC(c.id,this.serializeUrl(c.extractedUrl),E);s.next(I);try{c.resolve(this.errorHandler(E))}catch(S){c.reject(S)}}return Hs.E}))}))}resetRootComponentType(r){this.rootComponentType=r,this.routerState.root.component=this.rootComponentType}getTransition(){const r=this.transitions.value;return r.urlAfterRedirects=this.browserUrlTree,r}setTransition(r){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),r))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(r=>{const s=this.extractLocationChangeInfoFromEvent(r);this.shouldScheduleNavigation(this.lastLocationChangeInfo,s)&&setTimeout(()=>{const{source:c,state:d,urlTree:m}=s,E={replaceUrl:!0};if(d){const I=Object.assign({},d);delete I.navigationId,delete I.\u0275routerPageId,0!==Object.keys(I).length&&(E.state=I)}this.scheduleNavigation(m,c,d,E)},0),this.lastLocationChangeInfo=s}))}extractLocationChangeInfoFromEvent(r){var s;return{source:"popstate"===r.type?"popstate":"hashchange",urlTree:this.parseUrl(r.url),state:(null===(s=r.state)||void 0===s?void 0:s.navigationId)?r.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(r,s){if(!r)return!0;const c=s.urlTree.toString()===r.urlTree.toString();return s.transitionId!==r.transitionId||!c||!("hashchange"===s.source&&"popstate"===r.source||"popstate"===s.source&&"hashchange"===r.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(r){this.events.next(r)}resetConfig(r){ju(r),this.config=r.map(Gg),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(r,s={}){const{relativeTo:c,queryParams:d,fragment:m,queryParamsHandling:E,preserveFragment:I}=s,S=c||this.routerState.root,M=I?this.currentUrlTree.fragment:m;let P=null;switch(E){case"merge":P=Object.assign(Object.assign({},this.currentUrlTree.queryParams),d);break;case"preserve":P=this.currentUrlTree.queryParams;break;default:P=d||null}return null!==P&&(P=this.removeEmptyProps(P)),function(i,n,r,s,c){if(0===r.length)return lv(n.root,n.root,n,s,c);const d=function(i){if("string"==typeof i[0]&&1===i.length&&"/"===i[0])return new w0(!0,0,i);let n=0,r=!1;const s=i.reduce((c,d,m)=>{if("object"==typeof d&&null!=d){if(d.outlets){const E={};return Yn(d.outlets,(I,S)=>{E[S]="string"==typeof I?I.split("/"):I}),[...c,{outlets:E}]}if(d.segmentPath)return[...c,d.segmentPath]}return"string"!=typeof d?[...c,d]:0===m?(d.split("/").forEach((E,I)=>{0==I&&"."===E||(0==I&&""===E?r=!0:".."===E?n++:""!=E&&c.push(E))}),c):[...c,d]},[]);return new w0(r,n,s)}(r);if(d.toRoot())return lv(n.root,new Nt([],{}),n,s,c);const m=function(i,n,r){if(i.isAbsolute)return new dv(n.root,!0,0);if(-1===r.snapshot._lastPathIndex){const d=r.snapshot._urlSegment;return new dv(d,d===n.root,0)}const s=qh(i.commands[0])?0:1;return function(i,n,r){let s=i,c=n,d=r;for(;d>c;){if(d-=c,s=s.parent,!s)throw new Error("Invalid number of '../'");c=s.segments.length}return new dv(s,!1,c-d)}(r.snapshot._urlSegment,r.snapshot._lastPathIndex+s,i.numberOfDoubleDots)}(d,n,i),E=m.processChildren?Vo(m.segmentGroup,m.index,d.commands):zh(m.segmentGroup,m.index,d.commands);return lv(m.segmentGroup,E,n,s,c)}(S,this.currentUrlTree,r,P,null!=M?M:null)}navigateByUrl(r,s={skipLocationChange:!1}){const c=Bo(r)?r:this.parseUrl(r),d=this.urlHandlingStrategy.merge(c,this.rawUrlTree);return this.scheduleNavigation(d,"imperative",null,s)}navigate(r,s={skipLocationChange:!1}){return function(i){for(let n=0;n<i.length;n++){const r=i[n];if(null==r)throw new Error(`The requested path contains ${r} segment at index ${n}`)}}(r),this.navigateByUrl(this.createUrlTree(r,s),s)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){let s;try{s=this.urlSerializer.parse(r)}catch(c){s=this.malformedUriErrorHandler(c,this.urlSerializer,r)}return s}isActive(r,s){let c;if(c=!0===s?Object.assign({},$0):!1===s?Object.assign({},G0):s,Bo(r))return nv(this.currentUrlTree,r,c);const d=this.parseUrl(r);return nv(this.currentUrlTree,d,c)}removeEmptyProps(r){return Object.keys(r).reduce((s,c)=>{const d=r[c];return null!=d&&(s[c]=d),s},{})}processNavigations(){this.navigations.subscribe(r=>{this.navigated=!0,this.lastSuccessfulId=r.id,this.currentPageId=r.targetPageId,this.events.next(new ku(r.id,this.serializeUrl(r.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,r.resolve(!0)},r=>{this.console.warn(`Unhandled Navigation Error: ${r}`)})}scheduleNavigation(r,s,c,d,m){var E,I;if(this.disposed)return Promise.resolve(!1);const S=this.getTransition(),M=El(s)&&S&&!El(S.source),Q=(this.lastSuccessfulId===S.id||this.currentNavigation?S.rawUrl:S.urlAfterRedirects).toString()===r.toString();if(M&&Q)return Promise.resolve(!0);let Ee,Ne,Fe;m?(Ee=m.resolve,Ne=m.reject,Fe=m.promise):Fe=new Promise((Et,qt)=>{Ee=Et,Ne=qt});const xt=++this.navigationId;let Mt;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(c=this.location.getState()),Mt=c&&c.\u0275routerPageId?c.\u0275routerPageId:d.replaceUrl||d.skipLocationChange?null!==(E=this.browserPageId)&&void 0!==E?E:0:(null!==(I=this.browserPageId)&&void 0!==I?I:0)+1):Mt=0,this.setTransition({id:xt,targetPageId:Mt,source:s,restoredState:c,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:r,extras:d,resolve:Ee,reject:Ne,promise:Fe,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Fe.catch(Et=>Promise.reject(Et))}setBrowserUrl(r,s){const c=this.urlSerializer.serialize(r),d=Object.assign(Object.assign({},s.extras.state),this.generateNgRouterState(s.id,s.targetPageId));this.location.isCurrentPathEqualTo(c)||s.extras.replaceUrl?this.location.replaceState(c,"",d):this.location.go(c,"",d)}restoreHistory(r,s=!1){var c,d;if("computed"===this.canceledNavigationResolution){const m=this.currentPageId-r.targetPageId;"popstate"!==r.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(c=this.currentNavigation)||void 0===c?void 0:c.finalUrl)||0===m?this.currentUrlTree===(null===(d=this.currentNavigation)||void 0===d?void 0:d.finalUrl)&&0===m&&(this.resetState(r),this.browserUrlTree=r.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(m)}else"replace"===this.canceledNavigationResolution&&(s&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=r.currentRouterState,this.currentUrlTree=r.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(r,s){const c=new kg(r.id,this.serializeUrl(r.extractedUrl),s);this.triggerEvent(c),r.resolve(!1)}generateNgRouterState(r,s){return"computed"===this.canceledNavigationResolution?{navigationId:r,\u0275routerPageId:s}:{navigationId:r}}}return i.\u0275fac=function(r){return new(r||i)(f.LFG(f.DyG),f.LFG(u0),f.LFG(vl),f.LFG(it),f.LFG(f.zs3),f.LFG(f.v3s),f.LFG(f.Sil),f.LFG(void 0))},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac}),i})();function El(i){return"imperative"!==i}let Aa=(()=>{class i{constructor(r,s,c,d,m){this.router=r,this.route=s,this.commands=[],this.onChanges=new ft.xQ,null==c&&d.setAttribute(m.nativeElement,"tabindex","0")}ngOnChanges(r){this.onChanges.next(this)}set routerLink(r){this.commands=null!=r?Array.isArray(r)?r:[r]:[]}onClick(){const r={skipLocationChange:xa(this.skipLocationChange),replaceUrl:xa(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,r),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:xa(this.preserveFragment)})}}return i.\u0275fac=function(r){return new(r||i)(f.Y36(si),f.Y36(Hh),f.$8M("tabindex"),f.Y36(f.Qsj),f.Y36(f.SBq))},i.\u0275dir=f.lG2({type:i,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(r,s){1&r&&f.NdJ("click",function(){return s.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[f.TTD]}),i})();function xa(i){return""===i||!!i}let Kg=(()=>{class i{constructor(r,s,c,d,m){this.parentContexts=r,this.location=s,this.resolver=c,this.changeDetector=m,this.activated=null,this._activatedRoute=null,this.activateEvents=new f.vpe,this.deactivateEvents=new f.vpe,this.name=d||St,r.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const r=this.parentContexts.getContext(this.name);r&&r.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const r=this.activated;return this.activated=null,this._activatedRoute=null,r}attach(r,s){this.activated=r,this._activatedRoute=s,this.location.insert(r.hostView)}deactivate(){if(this.activated){const r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,s){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=r;const m=(s=s||this.resolver).resolveComponentFactory(r._futureSnapshot.routeConfig.component),E=this.parentContexts.getOrCreateContext(this.name).children,I=new z0(r,E,this.location.injector);this.activated=this.location.createComponent(m,this.location.length,I),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return i.\u0275fac=function(r){return new(r||i)(f.Y36(vl),f.Y36(f.s_b),f.Y36(f._Vd),f.$8M("name"),f.Y36(f.sBO))},i.\u0275dir=f.lG2({type:i,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),i})();class z0{constructor(n,r,s){this.route=n,this.childContexts=r,this.parent=s}get(n,r){return n===Hh?this.route:n===vl?this.childContexts:this.parent.get(n,r)}}class Yg{}class W0{preload(n,r){return(0,Xe.of)(null)}}let Rv=(()=>{class i{constructor(r,s,c,d,m){this.router=r,this.injector=d,this.preloadingStrategy=m,this.loader=new Wg(s,c,S=>r.triggerEvent(new Jy(S)),S=>r.triggerEvent(new Xy(S)))}setUpPreloading(){this.subscription=this.router.events.pipe(_i(r=>r instanceof ku),Nh(()=>this.preload())).subscribe(()=>{})}preload(){const r=this.injector.get(f.h0i);return this.processRoutes(r,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,s){const c=[];for(const d of s)if(d.loadChildren&&!d.canLoad&&d._loadedConfig){const m=d._loadedConfig;c.push(this.processRoutes(m.module,m.routes))}else d.loadChildren&&!d.canLoad?c.push(this.preloadConfig(r,d)):d.children&&c.push(this.processRoutes(r,d.children));return(0,Ot.D)(c).pipe((0,th.J)(),(0,_t.U)(d=>{}))}preloadConfig(r,s){return this.preloadingStrategy.preload(s,()=>(s._loadedConfig?(0,Xe.of)(s._loadedConfig):this.loader.load(r.injector,s)).pipe((0,Sr.zg)(d=>(s._loadedConfig=d,this.processRoutes(d.module,d.routes)))))}}return i.\u0275fac=function(r){return new(r||i)(f.LFG(si),f.LFG(f.v3s),f.LFG(f.Sil),f.LFG(f.zs3),f.LFG(Yg))},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac}),i})(),Qg=(()=>{class i{constructor(r,s,c={}){this.router=r,this.viewportScroller=s,this.options=c,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},c.scrollPositionRestoration=c.scrollPositionRestoration||"disabled",c.anchorScrolling=c.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(r=>{r instanceof Yy?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof ku&&(this.lastId=r.id,this.scheduleScrollEvent(r,this.router.parseUrl(r.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(r=>{r instanceof Ph&&(r.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(r.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,s){this.router.triggerEvent(new Ph(r,"popstate"===this.lastSource?this.store[this.restoredId]:null,s))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return i.\u0275fac=function(r){return new(r||i)(f.LFG(si),f.LFG(eu),f.LFG(void 0))},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac}),i})();const jo=new f.OlP("ROUTER_CONFIGURATION"),Mv=new f.OlP("ROUTER_FORROOT_GUARD"),Y0=[it,{provide:u0,useClass:zs},{provide:si,useFactory:function(i,n,r,s,c,d,m,E={},I,S){const M=new si(null,i,n,r,s,c,d,t0(m));return I&&(M.urlHandlingStrategy=I),S&&(M.routeReuseStrategy=S),function(i,n){i.errorHandler&&(n.errorHandler=i.errorHandler),i.malformedUriErrorHandler&&(n.malformedUriErrorHandler=i.malformedUriErrorHandler),i.onSameUrlNavigation&&(n.onSameUrlNavigation=i.onSameUrlNavigation),i.paramsInheritanceStrategy&&(n.paramsInheritanceStrategy=i.paramsInheritanceStrategy),i.relativeLinkResolution&&(n.relativeLinkResolution=i.relativeLinkResolution),i.urlUpdateStrategy&&(n.urlUpdateStrategy=i.urlUpdateStrategy)}(E,M),E.enableTracing&&M.events.subscribe(P=>{var W,Q;null===(W=console.group)||void 0===W||W.call(console,`Router Event: ${P.constructor.name}`),console.log(P.toString()),console.log(P),null===(Q=console.groupEnd)||void 0===Q||Q.call(console)}),M},deps:[u0,vl,it,f.zs3,f.v3s,f.Sil,Tv,jo,[class{},new f.FiY],[class{},new f.FiY]]},vl,{provide:Hh,useFactory:function(i){return i.routerState.root},deps:[si]},{provide:f.v3s,useClass:f.EAV},Rv,W0,class{preload(n,r){return r().pipe(Nu(()=>(0,Xe.of)(null)))}},{provide:jo,useValue:{enableTracing:!1}}];function Q0(){return new f.PXZ("Router",si)}let Ov=(()=>{class i{constructor(r,s){}static forRoot(r,s){return{ngModule:i,providers:[Y0,ZA(r),{provide:Mv,useFactory:eD,deps:[[si,new f.FiY,new f.tp0]]},{provide:jo,useValue:s||{}},{provide:ne,useFactory:X0,deps:[ue,[new f.tBr(Be),new f.FiY],jo]},{provide:Qg,useFactory:J0,deps:[si,eu,jo]},{provide:Yg,useExisting:s&&s.preloadingStrategy?s.preloadingStrategy:W0},{provide:f.PXZ,multi:!0,useFactory:Q0},[Nv,{provide:f.ip1,multi:!0,useFactory:Qn,deps:[Nv]},{provide:rD,useFactory:nD,deps:[Nv]},{provide:f.tb,multi:!0,useExisting:rD}]]}}static forChild(r){return{ngModule:i,providers:[ZA(r)]}}}return i.\u0275fac=function(r){return new(r||i)(f.LFG(Mv,8),f.LFG(si,8))},i.\u0275mod=f.oAB({type:i}),i.\u0275inj=f.cJS({}),i})();function J0(i,n,r){return r.scrollOffset&&n.setOffset(r.scrollOffset),new Qg(i,n,r)}function X0(i,n,r={}){return r.useHash?new ct(i,n):new Qe(i,n)}function eD(i){return"guarded"}function ZA(i){return[{provide:f.deG,multi:!0,useValue:i},{provide:Tv,multi:!0,useValue:i}]}let Nv=(()=>{class i{constructor(r){this.injector=r,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new ft.xQ}appInitializer(){return this.injector.get(F,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let s=null;const c=new Promise(E=>s=E),d=this.injector.get(si),m=this.injector.get(jo);return"disabled"===m.initialNavigation?(d.setUpLocationChangeListener(),s(!0)):"enabled"===m.initialNavigation||"enabledBlocking"===m.initialNavigation?(d.hooks.afterPreactivation=()=>this.initNavigation?(0,Xe.of)(null):(this.initNavigation=!0,s(!0),this.resultOfPreactivationDone),d.initialNavigation()):s(!0),c})}bootstrapListener(r){const s=this.injector.get(jo),c=this.injector.get(Rv),d=this.injector.get(Qg),m=this.injector.get(si),E=this.injector.get(f.z2F);r===E.components[0]&&(("enabledNonBlocking"===s.initialNavigation||void 0===s.initialNavigation)&&m.initialNavigation(),c.setUpPreloading(),d.init(),m.resetRootComponentType(E.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return i.\u0275fac=function(r){return new(r||i)(f.LFG(f.zs3))},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac}),i})();function Qn(i){return i.appInitializer.bind(i)}function nD(i){return i.bootstrapListener.bind(i)}const rD=new f.OlP("Router Initializer");var je,fr=L(9126),Ys=L(8939),bl=(L(670),L(4486)),be=L(8239),Pv=L(5452),kv=L(6034),Hu=L(5601),kt=L(3854),DO="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Es={},qi=qi||{},gt=DO||self;function Jg(){}function zi(i){var n=typeof i;return"array"==(n="object"!=n?n:i?Array.isArray(i)?"array":n:"null")||"object"==n&&"number"==typeof i.length}function qr(i){var n=typeof i;return"object"==n&&null!=i||"function"==n}var Xg="closure_uid_"+(1e9*Math.random()>>>0),iD=0;function XA(i,n,r){return i.call.apply(i.bind,arguments)}function ex(i,n,r){if(!i)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(c,s),i.apply(n,c)}}return function(){return i.apply(n,arguments)}}function pr(i,n,r){return(pr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?XA:ex).apply(null,arguments)}function em(i,n){var r=Array.prototype.slice.call(arguments,1);return function(){var s=r.slice();return s.push.apply(s,arguments),i.apply(this,s)}}function Jn(i,n){function r(){}r.prototype=n.prototype,i.Z=n.prototype,i.prototype=new r,i.prototype.constructor=i,i.Vb=function(s,c,d){for(var m=Array(arguments.length-2),E=2;E<arguments.length;E++)m[E-2]=arguments[E];return n.prototype[c].apply(s,m)}}function Zi(){this.s=this.s,this.o=this.o}var sD={};Zi.prototype.s=!1,Zi.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var i=function(i){return Object.prototype.hasOwnProperty.call(i,Xg)&&i[Xg]||(i[Xg]=++iD)}(this);delete sD[i]}},Zi.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const oD=Array.prototype.indexOf?function(i,n){return Array.prototype.indexOf.call(i,n,void 0)}:function(i,n){if("string"==typeof i)return"string"!=typeof n||1!=n.length?-1:i.indexOf(n,0);for(let r=0;r<i.length;r++)if(r in i&&i[r]===n)return r;return-1},Fv=Array.prototype.forEach?function(i,n,r){Array.prototype.forEach.call(i,n,r)}:function(i,n,r){const s=i.length,c="string"==typeof i?i.split(""):i;for(let d=0;d<s;d++)d in c&&n.call(r,c[d],d,i)};function nf(i){return Array.prototype.concat.apply([],arguments)}function Lv(i){const n=i.length;if(0<n){const r=Array(n);for(let s=0;s<n;s++)r[s]=i[s];return r}return[]}function rf(i){return/^[\s\xa0]*$/.test(i)}var xr,Vv=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function gr(i,n){return-1!=i.indexOf(n)}function wl(i,n){return i<n?-1:i>n?1:0}e:{var Uv=gt.navigator;if(Uv){var Bv=Uv.userAgent;if(Bv){xr=Bv;break e}}xr=""}function tm(i,n,r){for(const s in i)n.call(r,i[s],s,i)}function jv(i){const n={};for(const r in i)n[r]=i[r];return n}var Hv="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $v(i,n){let r,s;for(let c=1;c<arguments.length;c++){for(r in s=arguments[c],s)i[r]=s[r];for(let d=0;d<Hv.length;d++)r=Hv[d],Object.prototype.hasOwnProperty.call(s,r)&&(i[r]=s[r])}}function nm(i){return nm[" "](i),i}nm[" "]=Jg;var rm,i,rx=gr(xr,"Opera"),Cl=gr(xr,"Trident")||gr(xr,"MSIE"),uD=gr(xr,"Edge"),Gv=uD||Cl,cD=gr(xr,"Gecko")&&!(gr(xr.toLowerCase(),"webkit")&&!gr(xr,"Edge"))&&!(gr(xr,"Trident")||gr(xr,"MSIE"))&&!gr(xr,"Edge"),ix=gr(xr.toLowerCase(),"webkit")&&!gr(xr,"Edge");function lD(){var i=gt.document;return i?i.documentMode:void 0}e:{var qv="",zv=(i=xr,cD?/rv:([^\);]+)(\)|;)/.exec(i):uD?/Edge\/([\d\.]+)/.exec(i):Cl?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):ix?/WebKit\/(\S+)/.exec(i):rx?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(zv&&(qv=zv?zv[1]:""),Cl){var Zv=lD();if(null!=Zv&&Zv>parseFloat(qv)){rm=String(Zv);break e}}rm=qv}var sx={};function ox(){return n=sx,Object.prototype.hasOwnProperty.call(n,9)?n[9]:n[9]=function(){let i=0;const n=Vv(String(rm)).split("."),r=Vv("9").split("."),s=Math.max(n.length,r.length);for(let m=0;0==i&&m<s;m++){var c=n[m]||"",d=r[m]||"";do{if(c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""],d=/(\d*)(\D*)(.*)/.exec(d)||["","","",""],0==c[0].length&&0==d[0].length)break;i=wl(0==c[1].length?0:parseInt(c[1],10),0==d[1].length?0:parseInt(d[1],10))||wl(0==c[2].length,0==d[2].length)||wl(c[2],d[2]),c=c[3],d=d[3]}while(0==i)}return 0<=i}();var n}var ax=gt.document&&Cl&&(lD()||parseInt(rm,10))||void 0,ux=function(){if(!gt.addEventListener||!Object.defineProperty)return!1;var i=!1,n=Object.defineProperty({},"passive",{get:function(){i=!0}});try{gt.addEventListener("test",Jg,n),gt.removeEventListener("test",Jg,n)}catch(r){}return i}();function mr(i,n){this.type=i,this.g=this.target=n,this.defaultPrevented=!1}function Dl(i,n){if(mr.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var r=this.type=i.type,s=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=n,n=i.relatedTarget){if(cD){e:{try{nm(n.nodeName);var c=!0;break e}catch(d){}c=!1}c||(n=null)}}else"mouseover"==r?n=i.fromElement:"mouseout"==r&&(n=i.toElement);this.relatedTarget=n,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:hD[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&Dl.Z.h.call(this)}}mr.prototype.h=function(){this.defaultPrevented=!0},Jn(Dl,mr);var hD={2:"touch",3:"pen",4:"mouse"};Dl.prototype.h=function(){Dl.Z.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var Il="closure_listenable_"+(1e6*Math.random()|0),fD=0;function pD(i,n,r,s,c){this.listener=i,this.proxy=null,this.src=n,this.type=r,this.capture=!!s,this.ia=c,this.key=++fD,this.ca=this.fa=!1}function sf(i){i.ca=!0,i.listener=null,i.proxy=null,i.src=null,i.ia=null}function of(i){this.src=i,this.g={},this.h=0}function im(i,n){var r=n.type;if(r in i.g){var d,s=i.g[r],c=oD(s,n);(d=0<=c)&&Array.prototype.splice.call(s,c,1),d&&(sf(n),0==i.g[r].length&&(delete i.g[r],i.h--))}}function af(i,n,r,s){for(var c=0;c<i.length;++c){var d=i[c];if(!d.ca&&d.listener==n&&d.capture==!!r&&d.ia==s)return c}return-1}of.prototype.add=function(i,n,r,s,c){var d=i.toString();(i=this.g[d])||(i=this.g[d]=[],this.h++);var m=af(i,n,s,c);return-1<m?(n=i[m],r||(n.fa=!1)):((n=new pD(n,this.src,d,!!s,c)).fa=r,i.push(n)),n};var sm="closure_lm_"+(1e6*Math.random()|0),Ho={};function gD(i,n,r,s,c){if(s&&s.once)return cx(i,n,r,s,c);if(Array.isArray(n)){for(var d=0;d<n.length;d++)gD(i,n[d],r,s,c);return null}return r=Yv(r),i&&i[Il]?i.N(n,r,qr(s)?!!s.capture:!!s,c):mD(i,n,r,!1,s,c)}function mD(i,n,r,s,c,d){if(!n)throw Error("Invalid event type");var m=qr(c)?!!c.capture:!!c,E=vD(i);if(E||(i[sm]=E=new of(i)),(r=E.add(n,r,s,m,d)).proxy)return r;if(s=function(){var n=yD;return function i(r){return n.call(i.src,i.listener,r)}}(),r.proxy=s,s.src=i,s.listener=r,i.addEventListener)ux||(c=m),void 0===c&&(c=!1),i.addEventListener(n.toString(),s,c);else if(i.attachEvent)i.attachEvent(Kv(n.toString()),s);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(s)}return r}function cx(i,n,r,s,c){if(Array.isArray(n)){for(var d=0;d<n.length;d++)cx(i,n[d],r,s,c);return null}return r=Yv(r),i&&i[Il]?i.O(n,r,qr(s)?!!s.capture:!!s,c):mD(i,n,r,!0,s,c)}function om(i,n,r,s,c){if(Array.isArray(n))for(var d=0;d<n.length;d++)om(i,n[d],r,s,c);else s=qr(s)?!!s.capture:!!s,r=Yv(r),i&&i[Il]?(i=i.i,(n=String(n).toString())in i.g&&-1<(r=af(d=i.g[n],r,s,c))&&(sf(d[r]),Array.prototype.splice.call(d,r,1),0==d.length&&(delete i.g[n],i.h--))):i&&(i=vD(i))&&(n=i.g[n.toString()],i=-1,n&&(i=af(n,r,s,c)),(r=-1<i?n[i]:null)&&_D(r))}function _D(i){if("number"!=typeof i&&i&&!i.ca){var n=i.src;if(n&&n[Il])im(n.i,i);else{var r=i.type,s=i.proxy;n.removeEventListener?n.removeEventListener(r,s,i.capture):n.detachEvent?n.detachEvent(Kv(r),s):n.addListener&&n.removeListener&&n.removeListener(s),(r=vD(n))?(im(r,i),0==r.h&&(r.src=null,n[sm]=null)):sf(i)}}}function Kv(i){return i in Ho?Ho[i]:Ho[i]="on"+i}function yD(i,n){if(i.ca)i=!0;else{n=new Dl(n,this);var r=i.listener,s=i.ia||i.src;i.fa&&_D(i),i=r.call(s,n)}return i}function vD(i){return(i=i[sm])instanceof of?i:null}var et="__closure_events_fn_"+(1e9*Math.random()>>>0);function Yv(i){return"function"==typeof i?i:(i[et]||(i[et]=function(n){return i.handleEvent(n)}),i[et])}function ir(){Zi.call(this),this.i=new of(this),this.P=this,this.I=null}function _r(i,n){var r,s=i.I;if(s)for(r=[];s;s=s.I)r.push(s);if(i=i.P,s=n.type||n,"string"==typeof n)n=new mr(n,i);else if(n instanceof mr)n.target=n.target||i;else{var c=n;$v(n=new mr(s,i),c)}if(c=!0,r)for(var d=r.length-1;0<=d;d--){var m=n.g=r[d];c=$u(m,s,!0,n)&&c}if(c=$u(m=n.g=i,s,!0,n)&&c,c=$u(m,s,!1,n)&&c,r)for(d=0;d<r.length;d++)c=$u(m=n.g=r[d],s,!1,n)&&c}function $u(i,n,r,s){if(!(n=i.i.g[String(n)]))return!0;n=n.concat();for(var c=!0,d=0;d<n.length;++d){var m=n[d];if(m&&!m.ca&&m.capture==r){var E=m.listener,I=m.ia||m.src;m.fa&&im(i.i,m),c=!1!==E.call(I,s)&&c}}return c&&!s.defaultPrevented}Jn(ir,Zi),ir.prototype[Il]=!0,ir.prototype.removeEventListener=function(i,n,r,s){om(this,i,n,r,s)},ir.prototype.M=function(){if(ir.Z.M.call(this),this.i){var n,i=this.i;for(n in i.g){for(var r=i.g[n],s=0;s<r.length;s++)sf(r[s]);delete i.g[n],i.h--}}this.I=null},ir.prototype.N=function(i,n,r,s){return this.i.add(String(i),n,!1,r,s)},ir.prototype.O=function(i,n,r,s){return this.i.add(String(i),n,!0,r,s)};var Qv=gt.JSON.stringify;function am(){var i=Xv;let n=null;return i.g&&(n=i.g,i.g=i.g.next,i.g||(i.h=null),n.next=null),n}var Jv,An=new class{constructor(i,n){this.i=i,this.j=n,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new IO,i=>i.reset());class IO{constructor(){this.next=this.g=this.h=null}set(n,r){this.h=n,this.g=r,this.next=null}reset(){this.next=this.g=this.h=null}}function ED(i){gt.setTimeout(()=>{throw i},0)}function uf(i,n){Jv||function(){var i=gt.Promise.resolve(void 0);Jv=function(){i.then(wD)}}(),cm||(Jv(),cm=!0),Xv.add(i,n)}var cm=!1,Xv=new class{constructor(){this.h=this.g=null}add(n,r){const s=An.get();s.set(n,r),this.h?this.h.next=s:this.g=s,this.h=s}};function wD(){for(var i;i=am();){try{i.h.call(i.g)}catch(r){ED(r)}var n=An;n.j(i),100>n.h&&(n.h++,i.next=n.g,n.g=i)}cm=!1}function lm(i,n){ir.call(this),this.h=i||1,this.g=n||gt,this.j=pr(this.kb,this),this.l=Date.now()}function eE(i){i.da=!1,i.S&&(i.g.clearTimeout(i.S),i.S=null)}function tE(i,n,r){if("function"==typeof i)r&&(i=pr(i,r));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=pr(i.handleEvent,i)}return 2147483647<Number(n)?-1:gt.setTimeout(i,n||0)}function Sl(i){i.g=tE(()=>{i.g=null,i.i&&(i.i=!1,Sl(i))},i.j);const n=i.h;i.h=null,i.m.apply(null,n)}Jn(lm,ir),(je=lm.prototype).da=!1,je.S=null,je.kb=function(){if(this.da){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-i):(this.S&&(this.g.clearTimeout(this.S),this.S=null),_r(this,"tick"),this.da&&(eE(this),this.start()))}},je.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},je.M=function(){lm.Z.M.call(this),eE(this),delete this.g};class lx extends Zi{constructor(n,r){super(),this.m=n,this.j=r,this.h=null,this.i=!1,this.g=null}l(n){this.h=arguments,this.g?this.i=!0:Sl(this)}M(){super.M(),this.g&&(gt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function cf(i){Zi.call(this),this.h=i,this.g={}}Jn(cf,Zi);var CD=[];function lf(i,n,r,s){Array.isArray(r)||(r&&(CD[0]=r.toString()),r=CD);for(var c=0;c<r.length;c++){var d=gD(n,r[c],s||i.handleEvent,!1,i.h||i);if(!d)break;i.g[d.key]=d}}function nE(i){tm(i.g,function(n,r){this.g.hasOwnProperty(r)&&_D(n)},i),i.g={}}function df(){this.g=!0}function Qs(i,n,r,s){i.info(function(){return"XMLHTTP TEXT ("+n+"): "+function(i,n){if(!i.g)return n;if(!n)return null;try{var r=JSON.parse(n);if(r)for(i=0;i<r.length;i++)if(Array.isArray(r[i])){var s=r[i];if(!(2>s.length)){var c=s[1];if(Array.isArray(c)&&!(1>c.length)){var d=c[0];if("noop"!=d&&"stop"!=d&&"close"!=d)for(var m=1;m<c.length;m++)c[m]=""}}}return Qv(r)}catch(E){return n}}(i,r)+(s?" "+s:"")})}cf.prototype.M=function(){cf.Z.M.call(this),nE(this)},cf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},df.prototype.Aa=function(){this.g=!1},df.prototype.info=function(){};var Gu={},ID=null;function ff(){return ID=ID||new ir}function rE(i){mr.call(this,Gu.Ma,i)}function Al(i){const n=ff();_r(n,new rE(n,i))}function TD(i,n){mr.call(this,Gu.STAT_EVENT,i),this.stat=n}function Rr(i){const n=ff();_r(n,new TD(n,i))}function SD(i,n){mr.call(this,Gu.Na,i),this.size=n}function pf(i,n){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return gt.setTimeout(function(){i()},n)}Gu.Ma="serverreachability",Jn(rE,mr),Gu.STAT_EVENT="statevent",Jn(TD,mr),Gu.Na="timingevent",Jn(SD,mr);var iE={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},fx={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function AD(){}function sE(){}AD.prototype.h=null;var dm,Ra={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function oE(){mr.call(this,"d")}function aE(){mr.call(this,"c")}function Ma(){}function gf(i,n,r,s){this.l=i,this.j=n,this.m=r,this.X=s||1,this.V=new cf(this),this.P=gx,this.W=new lm(i=Gv?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new xD}function xD(){this.i=null,this.g="",this.h=!1}Jn(oE,mr),Jn(aE,mr),Jn(Ma,AD),Ma.prototype.g=function(){return new XMLHttpRequest},Ma.prototype.i=function(){return{}},dm=new Ma;var gx=45e3,uE={},hm={};function fm(i,n,r){i.K=1,i.v=_m(Go(n)),i.s=r,i.U=!0,RD(i,null)}function RD(i,n){i.F=Date.now(),xl(i),i.A=Go(i.v);var r=i.A,s=i.X;Array.isArray(s)||(s=[String(s)]),vm(r.h,"t",s),i.C=0,r=i.l.H,i.h=new xD,i.g=XD(i.l,r?n:null,!i.s),0<i.O&&(i.L=new lx(pr(i.Ia,i,i.g),i.O)),lf(i.V,i.g,"readystatechange",i.gb),n=i.H?jv(i.H):{},i.s?(i.u||(i.u="POST"),n["Content-Type"]="application/x-www-form-urlencoded",i.g.ea(i.A,i.u,i.s,n)):(i.u="GET",i.g.ea(i.A,i.u,null,n)),Al(1),function(i,n,r,s,c,d){i.info(function(){if(i.g)if(d)for(var m="",E=d.split("&"),I=0;I<E.length;I++){var S=E[I].split("=");if(1<S.length){var M=S[0];S=S[1];var P=M.split("_");m=2<=P.length&&"type"==P[1]?m+(M+"=")+S+"&":m+(M+"=redacted&")}}else m=null;else m=d;return"XMLHTTP REQ ("+s+") [attempt "+c+"]: "+n+"\n"+r+"\n"+m})}(i.j,i.u,i.A,i.m,i.X,i.s)}function MD(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Ba}function qu(i,n,r){let c,s=!0;for(;!i.I&&i.C<r.length;){if(c=mx(i,r),c==hm){4==n&&(i.o=4,Rr(14),s=!1),Qs(i.j,i.m,null,"[Incomplete Response]");break}if(c==uE){i.o=4,Rr(15),Qs(i.j,i.m,r,"[Invalid Chunk]"),s=!1;break}Qs(i.j,i.m,c,null),cE(i,c)}MD(i)&&c!=hm&&c!=uE&&(i.h.g="",i.C=0),4!=n||0!=r.length||i.h.h||(i.o=1,Rr(16),s=!1),i.i=i.i&&s,s?0<r.length&&!i.aa&&(i.aa=!0,(n=i.l).g==i&&n.$&&!n.L&&(n.h.info("Great, no buffering proxy detected. Bytes received: "+r.length),bE(n),n.L=!0,Rr(11))):(Qs(i.j,i.m,r,"[Invalid Chunked Response]"),Oa(i),_f(i))}function mx(i,n){var r=i.C,s=n.indexOf("\n",r);return-1==s?hm:(r=Number(n.substring(r,s)),isNaN(r)?uE:(s+=1)+r>n.length?hm:(n=n.substr(s,r),i.C=s+r,n))}function xl(i){i.Y=Date.now()+i.P,OD(i,i.P)}function OD(i,n){if(null!=i.B)throw Error("WatchDog timer not null");i.B=pf(pr(i.eb,i),n)}function mf(i){i.B&&(gt.clearTimeout(i.B),i.B=null)}function _f(i){0==i.l.G||i.I||KD(i.l,i)}function Oa(i){mf(i);var n=i.L;n&&"function"==typeof n.na&&n.na(),i.L=null,eE(i.W),nE(i.V),i.g&&(n=i.g,i.g=null,n.abort(),n.na())}function cE(i,n){try{var r=i.l;if(0!=r.G&&(r.g==i||Em(r.i,i)))if(r.I=i.N,!i.J&&Em(r.i,i)&&3==r.G){try{var s=r.Ca.g.parse(n)}catch(S){s=null}if(Array.isArray(s)&&3==s.length){var c=s;if(0==c[0])e:if(r.u)r.ta=c[1],0<r.ta-r.U&&37500>c[2]&&r.N&&0==r.A&&!r.v&&(r.v=pf(pr(r.ab,r),6e3));else{if(r.g){if(!(r.g.F+3e3<i.F))break e;wE(r),wf(r)}Wu(r),Rr(18)}if(1>=pE(r.i)&&r.ka){try{r.ka()}catch(S){}r.ka=void 0}}else Ku(r,11)}else if((i.J||r.g==i)&&wE(r),!rf(n))for(c=r.Ca.g.parse(n),n=0;n<c.length;n++){let S=c[n];if(r.U=S[0],S=S[1],2==r.G)if("c"==S[0]){r.J=S[1],r.la=S[2];const M=S[3];null!=M&&(r.ma=M,r.h.info("VER="+r.ma));const P=S[4];null!=P&&(r.za=P,r.h.info("SVER="+r.za));const W=S[5];null!=W&&"number"==typeof W&&0<W&&(r.K=s=1.5*W,r.h.info("backChannelRequestTimeoutMs_="+s)),s=r;const Q=i.g;if(Q){const Ee=Q.g?Q.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ee){var d=s.i;!d.g&&(gr(Ee,"spdy")||gr(Ee,"quic")||gr(Ee,"h2"))&&(d.j=d.l,d.g=new Set,d.h&&(bm(d,d.h),d.h=null))}if(s.D){const Ne=Q.g?Q.g.getResponseHeader("X-HTTP-Session-Id"):null;Ne&&(s.sa=Ne,En(s.F,s.D,Ne))}}r.G=3,r.j&&r.j.xa(),r.$&&(r.O=Date.now()-i.F,r.h.info("Handshake RTT: "+r.O+"ms"));var m=i;if((s=r).oa=JD(s,s.H?s.la:null,s.W),m.J){Dx(s.i,m);var E=m,I=s.K;I&&E.setTimeout(I),E.B&&(mf(E),xl(E)),s.g=m}else If(s);0<r.l.length&&Cf(r)}else"stop"!=S[0]&&"close"!=S[0]||Ku(r,7);else 3==r.G&&("stop"==S[0]||"close"==S[0]?"stop"==S[0]?Ku(r,7):Tm(r):"noop"!=S[0]&&r.j&&r.j.wa(S),r.A=0)}Al(4)}catch(S){}}function dE(i,n){if(i.forEach&&"function"==typeof i.forEach)i.forEach(n,void 0);else if(zi(i)||"string"==typeof i)Fv(i,n,void 0);else{if(i.T&&"function"==typeof i.T)var r=i.T();else if(i.R&&"function"==typeof i.R)r=void 0;else if(zi(i)||"string"==typeof i){r=[];for(var s=i.length,c=0;c<s;c++)r.push(c)}else for(c in r=[],s=0,i)r[s++]=c;c=(s=function(i){if(i.R&&"function"==typeof i.R)return i.R();if("string"==typeof i)return i.split("");if(zi(i)){for(var n=[],r=i.length,s=0;s<r;s++)n.push(i[s]);return n}for(s in n=[],r=0,i)n[r++]=i[s];return n}(i)).length;for(var d=0;d<c;d++)n.call(void 0,s[d],r&&r[d],i)}}function zu(i,n){this.h={},this.g=[],this.i=0;var r=arguments.length;if(1<r){if(r%2)throw Error("Uneven number of arguments");for(var s=0;s<r;s+=2)this.set(arguments[s],arguments[s+1])}else if(i)if(i instanceof zu)for(r=i.T(),s=0;s<r.length;s++)this.set(r[s],i.get(r[s]));else for(s in i)this.set(s,i[s])}function pm(i){if(i.i!=i.g.length){for(var n=0,r=0;n<i.g.length;){var s=i.g[n];Zu(i.h,s)&&(i.g[r++]=s),n++}i.g.length=r}if(i.i!=i.g.length){var c={};for(r=n=0;n<i.g.length;)Zu(c,s=i.g[n])||(i.g[r++]=s,c[s]=1),n++;i.g.length=r}}function Zu(i,n){return Object.prototype.hasOwnProperty.call(i,n)}(je=gf.prototype).setTimeout=function(i){this.P=i},je.gb=function(i){i=i.target;const n=this.L;n&&3==qo(i)?n.l():this.Ia(i)},je.Ia=function(i){try{if(i==this.g)e:{const M=qo(this.g);var n=this.g.Da();const P=this.g.ba();if(!(3>M)&&(3!=M||Gv||this.g&&(this.h.h||this.g.ga()||Ax(this.g)))){this.I||4!=M||7==n||Al(8==n||0>=P?3:2),mf(this);var r=this.g.ba();this.N=r;t:if(MD(this)){var s=Ax(this.g);i="";var c=s.length,d=4==qo(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Oa(this),_f(this);var m="";break t}this.h.i=new gt.TextDecoder}for(n=0;n<c;n++)this.h.h=!0,i+=this.h.i.decode(s[n],{stream:d&&n==c-1});s.splice(0,c),this.h.g+=i,this.C=0,m=this.h.g}else m=this.g.ga();if(this.i=200==r,function(i,n,r,s,c,d,m){i.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+c+"]: "+n+"\n"+r+"\n"+d+" "+m})}(this.j,this.u,this.A,this.m,this.X,M,r),this.i){if(this.$&&!this.J){t:{if(this.g){var E,I=this.g;if((E=I.g?I.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!rf(E)){var S=E;break t}}S=null}if(!(r=S)){this.i=!1,this.o=3,Rr(12),Oa(this),_f(this);break e}Qs(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,cE(this,r)}this.U?(qu(this,M,m),Gv&&this.i&&3==M&&(lf(this.V,this.W,"tick",this.fb),this.W.start())):(Qs(this.j,this.m,m,null),cE(this,m)),4==M&&Oa(this),this.i&&!this.I&&(4==M?KD(this.l,this):(this.i=!1,xl(this)))}else 400==r&&0<m.indexOf("Unknown SID")?(this.o=3,Rr(12)):(this.o=0,Rr(13)),Oa(this),_f(this)}}}catch(M){}},je.fb=function(){if(this.g){var i=qo(this.g),n=this.g.ga();this.C<n.length&&(mf(this),qu(this,i,n),this.i&&4!=i&&xl(this))}},je.cancel=function(){this.I=!0,Oa(this)},je.eb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function(i,n){i.info(function(){return"TIMEOUT: "+n})}(this.j,this.A),2!=this.K&&(Al(3),Rr(17)),Oa(this),this.o=2,_f(this)):OD(this,this.Y-i)},(je=zu.prototype).R=function(){pm(this);for(var i=[],n=0;n<this.g.length;n++)i.push(this.h[this.g[n]]);return i},je.T=function(){return pm(this),this.g.concat()},je.get=function(i,n){return Zu(this.h,i)?this.h[i]:n},je.set=function(i,n){Zu(this.h,i)||(this.i++,this.g.push(i)),this.h[i]=n},je.forEach=function(i,n){for(var r=this.T(),s=0;s<r.length;s++){var c=r[s],d=this.get(c);i.call(n,d,c,this)}};var ND=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function $o(i,n){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,i instanceof $o){this.g=void 0!==n?n:i.g,yf(this,i.j),this.s=i.s,gm(this,i.i),mm(this,i.m),this.l=i.l,n=i.h;var r=new Ef;r.i=n.i,n.g&&(r.g=new zu(n.g),r.h=n.h),PD(this,r),this.o=i.o}else i&&(r=String(i).match(ND))?(this.g=!!n,yf(this,r[1]||"",!0),this.s=vf(r[2]||""),gm(this,r[3]||"",!0),mm(this,r[4]),this.l=vf(r[5]||"",!0),PD(this,r[6]||"",!0),this.o=vf(r[7]||"")):(this.g=!!n,this.h=new Ef(null,this.g))}function Go(i){return new $o(i)}function yf(i,n,r){i.j=r?vf(n,!0):n,i.j&&(i.j=i.j.replace(/:$/,""))}function gm(i,n,r){i.i=r?vf(n,!0):n}function mm(i,n){if(n){if(n=Number(n),isNaN(n)||0>n)throw Error("Bad port number "+n);i.m=n}else i.m=null}function PD(i,n,r){n instanceof Ef?(i.h=n,function(i,n){n&&!i.j&&(Js(i),i.i=null,i.g.forEach(function(r,s){var c=s.toLowerCase();s!=c&&(ym(this,s),vm(this,c,r))},i)),i.j=n}(i.h,i.g)):(r||(n=Rl(n,bx)),i.h=new Ef(n,i.g))}function En(i,n,r){i.h.set(n,r)}function _m(i){return En(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function vf(i,n){return i?n?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function Rl(i,n,r){return"string"==typeof i?(i=encodeURI(i).replace(n,kD),r&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function kD(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}$o.prototype.toString=function(){var i=[],n=this.j;n&&i.push(Rl(n,FD,!0),":");var r=this.i;return(r||"file"==n)&&(i.push("//"),(n=this.s)&&i.push(Rl(n,FD,!0),"@"),i.push(encodeURIComponent(String(r)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(r=this.m)&&i.push(":",String(r))),(r=this.l)&&(this.i&&"/"!=r.charAt(0)&&i.push("/"),i.push(Rl(r,"/"==r.charAt(0)?LD:Ex,!0))),(r=this.h.toString())&&i.push("?",r),(r=this.o)&&i.push("#",Rl(r,wx)),i.join("")};var FD=/[#\/\?@]/g,Ex=/[#\?:]/g,LD=/[#\?]/g,bx=/[#\?@]/g,wx=/#/g;function Ef(i,n){this.h=this.g=null,this.i=i||null,this.j=!!n}function Js(i){i.g||(i.g=new zu,i.h=0,i.i&&function(i,n){if(i){i=i.split("&");for(var r=0;r<i.length;r++){var s=i[r].indexOf("="),c=null;if(0<=s){var d=i[r].substring(0,s);c=i[r].substring(s+1)}else d=i[r];n(d,c?decodeURIComponent(c.replace(/\+/g," ")):"")}}}(i.i,function(n,r){i.add(decodeURIComponent(n.replace(/\+/g," ")),r)}))}function ym(i,n){Js(i),n=Ml(i,n),Zu(i.g.h,n)&&(i.i=null,i.h-=i.g.get(n).length,Zu((i=i.g).h,n)&&(delete i.h[n],i.i--,i.g.length>2*i.i&&pm(i)))}function hE(i,n){return Js(i),n=Ml(i,n),Zu(i.g.h,n)}function vm(i,n,r){ym(i,n),0<r.length&&(i.i=null,i.g.set(Ml(i,n),Lv(r)),i.h+=r.length)}function Ml(i,n){return n=String(n),i.j&&(n=n.toLowerCase()),n}function VD(i){this.l=i||UD,i=gt.PerformanceNavigationTiming?0<(i=gt.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(gt.g&&gt.g.Ea&&gt.g.Ea()&&gt.g.Ea().Zb),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(je=Ef.prototype).add=function(i,n){Js(this),this.i=null,i=Ml(this,i);var r=this.g.get(i);return r||this.g.set(i,r=[]),r.push(n),this.h+=1,this},je.forEach=function(i,n){Js(this),this.g.forEach(function(r,s){Fv(r,function(c){i.call(n,c,s,this)},this)},this)},je.T=function(){Js(this);for(var i=this.g.R(),n=this.g.T(),r=[],s=0;s<n.length;s++)for(var c=i[s],d=0;d<c.length;d++)r.push(n[s]);return r},je.R=function(i){Js(this);var n=[];if("string"==typeof i)hE(this,i)&&(n=nf(n,this.g.get(Ml(this,i))));else{i=this.g.R();for(var r=0;r<i.length;r++)n=nf(n,i[r])}return n},je.set=function(i,n){return Js(this),this.i=null,hE(this,i=Ml(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[n]),this.h+=1,this},je.get=function(i,n){return i&&0<(i=this.R(i)).length?String(i[0]):n},je.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var i=[],n=this.g.T(),r=0;r<n.length;r++){var s=n[r],c=encodeURIComponent(String(s));s=this.R(s);for(var d=0;d<s.length;d++){var m=c;""!==s[d]&&(m+="="+encodeURIComponent(String(s[d]))),i.push(m)}}return this.i=i.join("&")};var UD=10;function BD(i){return!!i.h||!!i.g&&i.g.size>=i.j}function pE(i){return i.h?1:i.g?i.g.size:0}function Em(i,n){return i.h?i.h==n:!!i.g&&i.g.has(n)}function bm(i,n){i.g?i.g.add(n):i.h=n}function Dx(i,n){i.h&&i.h==n?i.h=null:i.g&&i.g.has(n)&&i.g.delete(n)}function jD(i){if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){let n=i.i;for(const r of i.g.values())n=n.concat(r.D);return n}return Lv(i.i)}function Na(){}function TO(){this.g=new Na}function gE(i,n,r){const s=r||"";try{dE(i,function(c,d){let m=c;qr(c)&&(m=Qv(c)),n.push(s+d+"="+encodeURIComponent(m))})}catch(c){throw n.push(s+"type="+encodeURIComponent("_badmap")),c}}function Cm(i,n,r,s,c){try{n.onload=null,n.onerror=null,n.onabort=null,n.ontimeout=null,c(s)}catch(d){}}function Xs(i){this.l=i.$b||null,this.j=i.ib||!1}function Dm(i,n){ir.call(this),this.D=i,this.u=n,this.m=void 0,this.readyState=HD,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}VD.prototype.cancel=function(){if(this.i=jD(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},Na.prototype.stringify=function(i){return gt.JSON.stringify(i,void 0)},Na.prototype.parse=function(i){return gt.JSON.parse(i,void 0)},Jn(Xs,AD),Xs.prototype.g=function(){return new Dm(this.l,this.j)},Xs.prototype.i=function(i){return function(){return i}}({}),Jn(Dm,ir);var HD=0;function $D(i){i.j.read().then(i.Sa.bind(i)).catch(i.ha.bind(i))}function oi(i){i.readyState=4,i.l=null,i.j=null,i.A=null,Ol(i)}function Ol(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(je=Dm.prototype).open=function(i,n){if(this.readyState!=HD)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=n,this.readyState=1,Ol(this)},je.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const n={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(n.body=i),(this.D||gt).fetch(new Request(this.B,n)).then(this.Va.bind(this),this.ha.bind(this))},je.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,oi(this)),this.readyState=HD},je.Va=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,Ol(this)),this.g&&(this.readyState=3,Ol(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==gt.ReadableStream&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;$D(this)}else i.text().then(this.Ua.bind(this),this.ha.bind(this))},je.Sa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var n=i.value?i.value:new Uint8Array(0);(n=this.A.decode(n,{stream:!i.done}))&&(this.response=this.responseText+=n)}i.done?oi(this):Ol(this),3==this.readyState&&$D(this)}},je.Ua=function(i){this.g&&(this.response=this.responseText=i,oi(this))},je.Ta=function(i){this.g&&(this.response=i,oi(this))},je.ha=function(){this.g&&oi(this)},je.setRequestHeader=function(i,n){this.v.append(i,n)},je.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},je.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],n=this.h.entries();for(var r=n.next();!r.done;)i.push((r=r.value)[0]+": "+r[1]),r=n.next();return i.join("\r\n")},Object.defineProperty(Dm.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var SO=gt.JSON.parse;function xn(i){ir.call(this),this.headers=new zu,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=GD,this.K=this.L=!1}Jn(xn,ir);var GD="",Ix=/^https?$/i,AO=["POST","PUT"];function Sx(i){return"content-type"==i.toLowerCase()}function qD(i,n){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=n,i.m=5,Im(i),Nl(i)}function Im(i){i.D||(i.D=!0,_r(i,"complete"),_r(i,"error"))}function mE(i){if(i.h&&void 0!==qi&&(!i.C[1]||4!=qo(i)||2!=i.ba()))if(i.v&&4==qo(i))tE(i.Fa,0,i);else if(_r(i,"readystatechange"),4==qo(i)){i.h=!1;try{const E=i.ba();e:switch(E){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var r;if(!(r=n)){var s;if(s=0===E){var c=String(i.H).match(ND)[1]||null;if(!c&&gt.self&&gt.self.location){var d=gt.self.location.protocol;c=d.substr(0,d.length-1)}s=!Ix.test(c?c.toLowerCase():"")}r=s}if(r)_r(i,"complete"),_r(i,"success");else{i.m=6;try{var m=2<qo(i)?i.g.statusText:""}catch(I){m=""}i.j=m+" ["+i.ba()+"]",Im(i)}}finally{Nl(i)}}}function Nl(i,n){if(i.g){_E(i);const r=i.g,s=i.C[0]?Jg:null;i.g=null,i.C=null,n||_r(i,"ready");try{r.onreadystatechange=s}catch(c){}}}function _E(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(gt.clearTimeout(i.A),i.A=null)}function qo(i){return i.g?i.g.readyState:0}function Ax(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case GD:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch(n){return null}}function yE(i,n,r){e:{for(s in r){var s=!1;break e}s=!0}s||(r=function(i){let n="";return tm(i,function(r,s){n+=s,n+=":",n+=r,n+="\r\n"}),n}(r),"string"==typeof i?null!=r&&encodeURIComponent(String(r)):En(i,n,r))}function bf(i,n,r){return r&&r.internalChannelParams&&r.internalChannelParams[i]||n}function vE(i){this.za=0,this.l=[],this.h=new df,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=bf("failFast",!1,i),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=bf("baseRetryDelayMs",5e3,i),this.$a=bf("retryDelaySeedMs",1e4,i),this.Ya=bf("forwardChannelMaxRetries",2,i),this.ra=bf("forwardChannelRequestTimeoutMs",2e4,i),this.qa=i&&i.xmlHttpFactory||void 0,this.Ba=i&&i.Yb||!1,this.K=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.J="",this.i=new VD(i&&i.concurrentRequestLimit),this.Ca=new TO,this.ja=i&&i.fastHandshake||!1,this.Ra=i&&i.Wb||!1,i&&i.Aa&&this.h.Aa(),i&&i.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&i&&i.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!i||!1!==i.Xb}function Tm(i){if(zD(i),3==i.G){var n=i.V++,r=Go(i.F);En(r,"SID",i.J),En(r,"RID",n),En(r,"TYPE","terminate"),Pl(i,r),(n=new gf(i,i.h,n,void 0)).K=2,n.v=_m(Go(r)),r=!1,gt.navigator&&gt.navigator.sendBeacon&&(r=gt.navigator.sendBeacon(n.v.toString(),"")),!r&&gt.Image&&((new Image).src=n.v,r=!0),r||(n.g=XD(n.l,null),n.g.ea(n.v)),n.F=Date.now(),xl(n)}QD(i)}function wf(i){i.g&&(bE(i),i.g.cancel(),i.g=null)}function zD(i){wf(i),i.u&&(gt.clearTimeout(i.u),i.u=null),wE(i),i.i.cancel(),i.m&&("number"==typeof i.m&&gt.clearTimeout(i.m),i.m=null)}function EE(i,n){i.l.push(new class{constructor(i,n){this.h=i,this.g=n}}(i.Za++,n)),3==i.G&&Cf(i)}function Cf(i){BD(i.i)||i.m||(i.m=!0,uf(i.Ha,i),i.C=0)}function ZD(i,n){var r;r=n?n.m:i.V++;const s=Go(i.F);En(s,"SID",i.J),En(s,"RID",r),En(s,"AID",i.U),Pl(i,s),i.o&&i.s&&yE(s,i.o,i.s),r=new gf(i,i.h,r,i.C+1),null===i.o&&(r.H=i.s),n&&(i.l=n.D.concat(i.l)),n=Df(i,r,1e3),r.setTimeout(Math.round(.5*i.ra)+Math.round(.5*i.ra*Math.random())),bm(i.i,r),fm(r,s,n)}function Pl(i,n){i.j&&dE({},function(r,s){En(n,s,r)})}function Df(i,n,r){r=Math.min(i.l.length,r);var s=i.j?pr(i.j.Oa,i.j,i):null;e:{var c=i.l;let d=-1;for(;;){const m=["count="+r];-1==d?0<r?(d=c[0].h,m.push("ofs="+d)):d=0:m.push("ofs="+d);let E=!0;for(let I=0;I<r;I++){let S=c[I].h;const M=c[I].g;if(S-=d,0>S)d=Math.max(0,c[I].h-100),E=!1;else try{gE(M,m,"req"+S+"_")}catch(P){s&&s(M)}}if(E){s=m.join("&");break e}}}return i=i.l.splice(0,r),n.D=i,s}function If(i){i.g||i.u||(i.Y=1,uf(i.Ga,i),i.A=0)}function Wu(i){return!(i.g||i.u||3<=i.A||(i.Y++,i.u=pf(pr(i.Ga,i),YD(i,i.A)),i.A++,0))}function bE(i){null!=i.B&&(gt.clearTimeout(i.B),i.B=null)}function WD(i){i.g=new gf(i,i.h,"rpc",i.Y),null===i.o&&(i.g.H=i.s),i.g.O=0;var n=Go(i.oa);En(n,"RID","rpc"),En(n,"SID",i.J),En(n,"CI",i.N?"0":"1"),En(n,"AID",i.U),Pl(i,n),En(n,"TYPE","xmlhttp"),i.o&&i.s&&yE(n,i.o,i.s),i.K&&i.g.setTimeout(i.K);var r=i.g;i=i.la,r.K=1,r.v=_m(Go(n)),r.s=null,r.U=!0,RD(r,i)}function wE(i){null!=i.v&&(gt.clearTimeout(i.v),i.v=null)}function KD(i,n){var r=null;if(i.g==n){wE(i),bE(i),i.g=null;var s=2}else{if(!Em(i.i,n))return;r=n.D,Dx(i.i,n),s=1}if(i.I=n.N,0!=i.G)if(n.i)if(1==s){r=n.s?n.s.length:0,n=Date.now()-n.F;var c=i.C;_r(s=ff(),new SD(s,r,n,c)),Cf(i)}else If(i);else if(3==(c=n.o)||0==c&&0<i.I||!(1==s&&function(i,n){return!(pE(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.l=n.D.concat(i.l),0):1==i.G||2==i.G||i.C>=(i.Xa?0:i.Ya)||(i.m=pf(pr(i.Ha,i,n),YD(i,i.C)),i.C++,0)))}(i,n)||2==s&&Wu(i)))switch(r&&0<r.length&&(n=i.i,n.i=n.i.concat(r)),c){case 1:Ku(i,5);break;case 4:Ku(i,10);break;case 3:Ku(i,6);break;default:Ku(i,2)}}function YD(i,n){let r=i.Pa+Math.floor(Math.random()*i.$a);return i.j||(r*=2),r*n}function Ku(i,n){if(i.h.info("Error code "+n),2==n){var r=null;i.j&&(r=null);var s=pr(i.jb,i);r||(r=new $o("//www.google.com/images/cleardot.gif"),gt.location&&"http"==gt.location.protocol||yf(r,"https"),_m(r)),function(i,n){const r=new df;if(gt.Image){const s=new Image;s.onload=em(Cm,r,s,"TestLoadImage: loaded",!0,n),s.onerror=em(Cm,r,s,"TestLoadImage: error",!1,n),s.onabort=em(Cm,r,s,"TestLoadImage: abort",!1,n),s.ontimeout=em(Cm,r,s,"TestLoadImage: timeout",!1,n),gt.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=i}else n(!1)}(r.toString(),s)}else Rr(2);i.G=0,i.j&&i.j.va(n),QD(i),zD(i)}function QD(i){i.G=0,i.I=-1,i.j&&((0!=jD(i.i).length||0!=i.l.length)&&(i.i.i.length=0,Lv(i.l),i.l.length=0),i.j.ua())}function JD(i,n,r){let s=function(i){return i instanceof $o?Go(i):new $o(i,void 0)}(r);if(""!=s.i)n&&gm(s,n+"."+s.i),mm(s,s.m);else{const c=gt.location;s=function(i,n,r,s){var c=new $o(null,void 0);return i&&yf(c,i),n&&gm(c,n),r&&mm(c,r),s&&(c.l=s),c}(c.protocol,n?n+"."+c.hostname:c.hostname,+c.port,r)}return i.aa&&tm(i.aa,function(c,d){En(s,d,c)}),r=i.sa,(n=i.D)&&r&&En(s,n,r),En(s,"VER",i.ma),Pl(i,s),s}function XD(i,n,r){if(n&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(n=new xn(r&&i.Ba&&!i.qa?new Xs({ib:!0}):i.qa)).L=i.H,n}function eI(){}function Am(){if(Cl&&!(10<=Number(ax)))throw Error("Environmental error: no available transport.")}function Si(i,n){ir.call(this),this.g=new vE(n),this.l=i,this.h=n&&n.messageUrlParams||null,i=n&&n.messageHeaders||null,n&&n.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=n&&n.initMessageHeaders||null,n&&n.messageContentType&&(i?i["X-WebChannel-Content-Type"]=n.messageContentType:i={"X-WebChannel-Content-Type":n.messageContentType}),n&&n.ya&&(i?i["X-WebChannel-Client-Profile"]=n.ya:i={"X-WebChannel-Client-Profile":n.ya}),this.g.P=i,(i=n&&n.httpHeadersOverwriteParam)&&!rf(i)&&(this.g.o=i),this.A=n&&n.supportsCrossDomainXhr||!1,this.v=n&&n.sendRawJson||!1,(n=n&&n.httpSessionIdParam)&&!rf(n)&&(this.g.D=n,null!==(i=this.h)&&n in i&&n in(i=this.h)&&delete i[n]),this.j=new eo(this)}function Rx(i){oE.call(this);var n=i.__sm__;if(n){e:{for(const r in n){i=r;break e}i=void 0}(this.i=i)&&(i=this.i,n=null!==n&&i in n?n[i]:void 0),this.data=n}else this.data=i}function tI(){aE.call(this),this.status=1}function eo(i){this.g=i}(je=xn.prototype).ea=function(i,n,r,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);n=n?n.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():dm.g(),this.C=function(i){return i.h||(i.h=i.i())}(this.u?this.u:dm),this.g.onreadystatechange=pr(this.Fa,this);try{this.F=!0,this.g.open(n,String(i),!0),this.F=!1}catch(d){return void qD(this,d)}i=r||"";const c=new zu(this.headers);s&&dE(s,function(d,m){c.set(m,d)}),s=function(i){e:{var n=Sx;const r=i.length,s="string"==typeof i?i.split(""):i;for(let c=0;c<r;c++)if(c in s&&n.call(void 0,s[c],c,i)){n=c;break e}n=-1}return 0>n?null:"string"==typeof i?i.charAt(n):i[n]}(c.T()),r=gt.FormData&&i instanceof gt.FormData,!(0<=oD(AO,n))||s||r||c.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),c.forEach(function(d,m){this.g.setRequestHeader(m,d)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{_E(this),0<this.B&&((this.K=function(i){return Cl&&ox()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=pr(this.pa,this)):this.A=tE(this.pa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(d){qD(this,d)}},je.pa=function(){void 0!==qi&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,_r(this,"timeout"),this.abort(8))},je.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,_r(this,"complete"),_r(this,"abort"),Nl(this))},je.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Nl(this,!0)),xn.Z.M.call(this)},je.Fa=function(){this.s||(this.F||this.v||this.l?mE(this):this.cb())},je.cb=function(){mE(this)},je.ba=function(){try{return 2<qo(this)?this.g.status:-1}catch(i){return-1}},je.ga=function(){try{return this.g?this.g.responseText:""}catch(i){return""}},je.Qa=function(i){if(this.g){var n=this.g.responseText;return i&&0==n.indexOf(i)&&(n=n.substring(i.length)),SO(n)}},je.Da=function(){return this.m},je.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(je=vE.prototype).ma=8,je.G=1,je.hb=function(i){try{this.h.info("Origin Trials invoked: "+i)}catch(n){}},je.Ha=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.V=Math.floor(1e5*Math.random()),i=this.V++;const c=new gf(this,this.h,i,void 0);let d=this.s;if(this.P&&(d?(d=jv(d),$v(d,this.P)):d=this.P),null===this.o&&(c.H=d),this.ja)e:{for(var n=0,r=0;r<this.l.length;r++){var s=this.l[r];if(void 0===(s="__data__"in s.g&&"string"==typeof(s=s.g.__data__)?s.length:void 0))break;if(4096<(n+=s)){n=r;break e}if(4096===n||r===this.l.length-1){n=r+1;break e}}n=1e3}else n=1e3;n=Df(this,c,n),En(r=Go(this.F),"RID",i),En(r,"CVER",22),this.D&&En(r,"X-HTTP-Session-Id",this.D),Pl(this,r),this.o&&d&&yE(r,this.o,d),bm(this.i,c),this.Ra&&En(r,"TYPE","init"),this.ja?(En(r,"$req",n),En(r,"SID","null"),c.$=!0,fm(c,r,null)):fm(c,r,n),this.G=2}}else 3==this.G&&(i?ZD(this,i):0==this.l.length||BD(this.i)||ZD(this))},je.Ga=function(){if(this.u=null,WD(this),this.$&&!(this.L||null==this.g||0>=this.O)){var i=2*this.O;this.h.info("BP detection timer enabled: "+i),this.B=pf(pr(this.bb,this),i)}},je.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Rr(10),wf(this),WD(this))},je.ab=function(){null!=this.v&&(this.v=null,wf(this),Wu(this),Rr(19))},je.jb=function(i){i?(this.h.info("Successfully pinged google.com"),Rr(2)):(this.h.info("Failed to ping google.com"),Rr(1))},(je=eI.prototype).xa=function(){},je.wa=function(){},je.va=function(){},je.ua=function(){},je.Oa=function(){},Am.prototype.g=function(i,n){return new Si(i,n)},Jn(Si,ir),Si.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var i=this.g,n=this.l,r=this.h||void 0;i.Wa&&(i.h.info("Origin Trials enabled."),uf(pr(i.hb,i,n))),Rr(0),i.W=n,i.aa=r||{},i.N=i.X,i.F=JD(i,null,i.W),Cf(i)},Si.prototype.close=function(){Tm(this.g)},Si.prototype.u=function(i){if("string"==typeof i){var n={};n.__data__=i,EE(this.g,n)}else this.v?((n={}).__data__=Qv(i),EE(this.g,n)):EE(this.g,i)},Si.prototype.M=function(){this.g.j=null,delete this.j,Tm(this.g),delete this.g,Si.Z.M.call(this)},Jn(Rx,oE),Jn(tI,aE),Jn(eo,eI),eo.prototype.xa=function(){_r(this.g,"a")},eo.prototype.wa=function(i){_r(this.g,new Rx(i))},eo.prototype.va=function(i){_r(this.g,new tI(i))},eo.prototype.ua=function(){_r(this.g,"b")},Am.prototype.createWebChannel=Am.prototype.g,Si.prototype.send=Si.prototype.u,Si.prototype.open=Si.prototype.m,Si.prototype.close=Si.prototype.close,iE.NO_ERROR=0,iE.TIMEOUT=8,iE.HTTP_ERROR=6,fx.COMPLETE="complete",sE.EventType=Ra,Ra.OPEN="a",Ra.CLOSE="b",Ra.ERROR="c",Ra.MESSAGE="d",ir.prototype.listen=ir.prototype.N,xn.prototype.listenOnce=xn.prototype.O,xn.prototype.getLastError=xn.prototype.La,xn.prototype.getLastErrorCode=xn.prototype.Da,xn.prototype.getStatus=xn.prototype.ba,xn.prototype.getResponseJson=xn.prototype.Qa,xn.prototype.getResponseText=xn.prototype.ga,xn.prototype.send=xn.prototype.ea;var Mx=Es.createWebChannelTransport=function(){return new Am},Ox=Es.getStatEventTarget=function(){return ff()},CE=Es.ErrorCode=iE,xm=Es.EventType=fx,Yu=Es.Event=Gu,DE=Es.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Nx=Es.FetchXmlHttpFactory=Xs,IE=Es.WebChannel=sE,Px=Es.XhrIo=xn;class Hn{constructor(n){this.uid=n}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(n){return n.uid===this.uid}}Hn.UNAUTHENTICATED=new Hn(null),Hn.GOOGLE_CREDENTIALS=new Hn("google-credentials-uid"),Hn.FIRST_PARTY=new Hn("first-party-uid"),Hn.MOCK_USER=new Hn("mock-user");let kl="9.1.0";const Pa=new Hu.Yd("@firebase/firestore");function Rm(){return Pa.logLevel}function Me(i,...n){if(Pa.logLevel<=Hu.in.DEBUG){const r=n.map(TE);Pa.debug(`Firestore (${kl}): ${i}`,...r)}}function Vn(i,...n){if(Pa.logLevel<=Hu.in.ERROR){const r=n.map(TE);Pa.error(`Firestore (${kl}): ${i}`,...r)}}function Fl(i,...n){if(Pa.logLevel<=Hu.in.WARN){const r=n.map(TE);Pa.warn(`Firestore (${kl}): ${i}`,...r)}}function TE(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch(r){return i}}function Ye(i="Unexpected state"){const n=`FIRESTORE (${kl}) INTERNAL ASSERTION FAILED: `+i;throw Vn(n),new Error(n)}function ut(i,n){i||Ye()}function ke(i,n){return i}const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Se extends Error{constructor(n,r){super(r),this.code=n,this.message=r,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class yr{constructor(){this.promise=new Promise((n,r)=>{this.resolve=n,this.reject=r})}}class Ll{constructor(n,r){this.user=r,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${n}`}}class $t{getToken(){return Promise.resolve(null)}invalidateToken(){}start(n,r){n.enqueueRetryable(()=>r(Hn.UNAUTHENTICATED))}shutdown(){}}class ka{constructor(n){this.token=n,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(n,r){this.changeListener=r,n.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class Vl{constructor(n){this.t=n,this.currentUser=Hn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(n,r){var s=this;let c=this.i;const d=S=>this.i!==c?(c=this.i,r(S)):Promise.resolve();let m=new yr;this.o=()=>{this.i++,this.currentUser=this.u(),m.resolve(),m=new yr,n.enqueueRetryable(()=>d(this.currentUser))};const E=()=>{const S=m;n.enqueueRetryable((0,be.Z)(function*(){yield S.promise,yield d(s.currentUser)}))},I=S=>{Me("FirebaseCredentialsProvider","Auth detected"),this.auth=S,this.auth.addAuthTokenListener(this.o),E()};this.t.onInit(S=>I(S)),setTimeout(()=>{if(!this.auth){const S=this.t.getImmediate({optional:!0});S?I(S):(Me("FirebaseCredentialsProvider","Auth not yet detected"),m.resolve(),m=new yr)}},0),E()}getToken(){const n=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(s=>this.i!==n?(Me("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(ut("string"==typeof s.accessToken),new Ll(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const n=this.auth&&this.auth.getUid();return ut(null===n||"string"==typeof n),new Hn(n)}}class Tf{constructor(n,r,s){this.h=n,this.l=r,this.m=s,this.type="FirstParty",this.user=Hn.FIRST_PARTY}get authHeaders(){const n={"X-Goog-AuthUser":this.l},r=this.h.auth.getAuthHeaderValueForFirstParty([]);return r&&(n.Authorization=r),this.m&&(n["X-Goog-Iam-Authorization-Token"]=this.m),n}}class xO{constructor(n,r,s){this.h=n,this.l=r,this.m=s}getToken(){return Promise.resolve(new Tf(this.h,this.l,this.m))}start(n,r){n.enqueueRetryable(()=>r(Hn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Je{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=s=>this.g(s),this.p=s=>r.writeSequenceNumber(s))}g(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.p&&this.p(n),n}}function Wi(i){const n="undefined"!=typeof self&&(self.crypto||self.msCrypto),r=new Uint8Array(i);if(n&&"function"==typeof n.getRandomValues)n.getRandomValues(r);else for(let s=0;s<i;s++)r[s]=Math.floor(256*Math.random());return r}Je.T=-1;class Mm{static I(){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/n.length)*n.length;let s="";for(;s.length<20;){const c=Wi(40);for(let d=0;d<c.length;++d)s.length<20&&c[d]<r&&(s+=n.charAt(c[d]%n.length))}return s}}function vt(i,n){return i<n?-1:i>n?1:0}function Sf(i,n,r){return i.length===n.length&&i.every((s,c)=>r(s,n[c]))}function SE(i){return i+"\0"}class Xn{constructor(n,r){if(this.seconds=n,this.nanoseconds=r,r<0)throw new Se(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Se(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(n<-62135596800)throw new Se(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n);if(n>=253402300800)throw new Se(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n)}static now(){return Xn.fromMillis(Date.now())}static fromDate(n){return Xn.fromMillis(n.getTime())}static fromMillis(n){const r=Math.floor(n/1e3),s=Math.floor(1e6*(n-1e3*r));return new Xn(r,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(n){return this.seconds===n.seconds?vt(this.nanoseconds,n.nanoseconds):vt(this.seconds,n.seconds)}isEqual(n){return n.seconds===this.seconds&&n.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ct{constructor(n){this.timestamp=n}static fromTimestamp(n){return new Ct(n)}static min(){return new Ct(new Xn(0,0))}compareTo(n){return this.timestamp._compareTo(n.timestamp)}isEqual(n){return this.timestamp.isEqual(n.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function rI(i){let n=0;for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&n++;return n}function Qu(i,n){for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&n(r,i[r])}function Ai(i){for(const n in i)if(Object.prototype.hasOwnProperty.call(i,n))return!1;return!0}class Qt{constructor(n,r,s){void 0===r?r=0:r>n.length&&Ye(),void 0===s?s=n.length-r:s>n.length-r&&Ye(),this.segments=n,this.offset=r,this.len=s}get length(){return this.len}isEqual(n){return 0===Qt.comparator(this,n)}child(n){const r=this.segments.slice(this.offset,this.limit());return n instanceof Qt?n.forEach(s=>{r.push(s)}):r.push(n),this.construct(r)}limit(){return this.offset+this.length}popFirst(n){return this.construct(this.segments,this.offset+(n=void 0===n?1:n),this.length-n)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(n){return this.segments[this.offset+n]}isEmpty(){return 0===this.length}isPrefixOf(n){if(n.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==n.get(r))return!1;return!0}isImmediateParentOf(n){if(this.length+1!==n.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==n.get(r))return!1;return!0}forEach(n){for(let r=this.offset,s=this.limit();r<s;r++)n(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(n,r){const s=Math.min(n.length,r.length);for(let c=0;c<s;c++){const d=n.get(c),m=r.get(c);if(d<m)return-1;if(d>m)return 1}return n.length<r.length?-1:n.length>r.length?1:0}}class Dt extends Qt{construct(n,r,s){return new Dt(n,r,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...n){const r=[];for(const s of n){if(s.indexOf("//")>=0)throw new Se(de.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);r.push(...s.split("/").filter(c=>c.length>0))}return new Dt(r)}static emptyPath(){return new Dt([])}}const iI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vr extends Qt{construct(n,r,s){return new vr(n,r,s)}static isValidIdentifier(n){return iI.test(n)}canonicalString(){return this.toArray().map(n=>(n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vr.isValidIdentifier(n)||(n="`"+n+"`"),n)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new vr(["__name__"])}static fromServerFormat(n){const r=[];let s="",c=0;const d=()=>{if(0===s.length)throw new Se(de.INVALID_ARGUMENT,`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(s),s=""};let m=!1;for(;c<n.length;){const E=n[c];if("\\"===E){if(c+1===n.length)throw new Se(de.INVALID_ARGUMENT,"Path has trailing escape character: "+n);const I=n[c+1];if("\\"!==I&&"."!==I&&"`"!==I)throw new Se(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);s+=I,c+=2}else"`"===E?(m=!m,c++):"."!==E||m?(s+=E,c++):(d(),c++)}if(d(),m)throw new Se(de.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new vr(r)}static emptyPath(){return new vr([])}}class Ju{constructor(n){this.fields=n,n.sort(vr.comparator)}covers(n){for(const r of this.fields)if(r.isPrefixOf(n))return!0;return!1}isEqual(n){return Sf(this.fields,n.fields,(r,s)=>r.isEqual(s))}}class Rn{constructor(n){this.binaryString=n}static fromBase64String(n){const r=atob(n);return new Rn(r)}static fromUint8Array(n){const r=function(s){let c="";for(let d=0;d<s.length;++d)c+=String.fromCharCode(s[d]);return c}(n);return new Rn(r)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(n){return vt(this.binaryString,n.binaryString)}isEqual(n){return this.binaryString===n.binaryString}}Rn.EMPTY_BYTE_STRING=new Rn("");const Af=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fa(i){if(ut(!!i),"string"==typeof i){let n=0;const r=Af.exec(i);if(ut(!!r),r[1]){let c=r[1];c=(c+"000000000").substr(0,9),n=Number(c)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:n}}return{seconds:sn(i.seconds),nanos:sn(i.nanos)}}function sn(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function Ul(i){return"string"==typeof i?Rn.fromBase64String(i):Rn.fromUint8Array(i)}function Om(i){var n,r;return"server_timestamp"===(null===(r=((null===(n=null==i?void 0:i.mapValue)||void 0===n?void 0:n.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function Nm(i){const n=i.mapValue.fields.__previous_value__;return Om(n)?Nm(n):n}function zo(i){const n=Fa(i.mapValue.fields.__local_write_time__.timestampValue);return new Xn(n.seconds,n.nanos)}function Zo(i){return null==i}function xf(i){return 0===i&&1/i==-1/0}function Xu(i){return"number"==typeof i&&Number.isInteger(i)&&!xf(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}class Ke{constructor(n){this.path=n}static fromPath(n){return new Ke(Dt.fromString(n))}static fromName(n){return new Ke(Dt.fromString(n).popFirst(5))}hasCollectionId(n){return this.path.length>=2&&this.path.get(this.path.length-2)===n}isEqual(n){return null!==n&&0===Dt.comparator(this.path,n.path)}toString(){return this.path.toString()}static comparator(n,r){return Dt.comparator(n.path,r.path)}static isDocumentKey(n){return n.length%2==0}static fromSegments(n){return new Ke(new Dt(n.slice()))}}function to(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Om(i)?4:10:Ye()}function ws(i,n){const r=to(i);if(r!==to(n))return!1;switch(r){case 0:return!0;case 1:return i.booleanValue===n.booleanValue;case 4:return zo(i).isEqual(zo(n));case 3:return function(s,c){if("string"==typeof s.timestampValue&&"string"==typeof c.timestampValue&&s.timestampValue.length===c.timestampValue.length)return s.timestampValue===c.timestampValue;const d=Fa(s.timestampValue),m=Fa(c.timestampValue);return d.seconds===m.seconds&&d.nanos===m.nanos}(i,n);case 5:return i.stringValue===n.stringValue;case 6:return c=n,Ul(i.bytesValue).isEqual(Ul(c.bytesValue));case 7:return i.referenceValue===n.referenceValue;case 8:return function(s,c){return sn(s.geoPointValue.latitude)===sn(c.geoPointValue.latitude)&&sn(s.geoPointValue.longitude)===sn(c.geoPointValue.longitude)}(i,n);case 2:return function(s,c){if("integerValue"in s&&"integerValue"in c)return sn(s.integerValue)===sn(c.integerValue);if("doubleValue"in s&&"doubleValue"in c){const d=sn(s.doubleValue),m=sn(c.doubleValue);return d===m?xf(d)===xf(m):isNaN(d)&&isNaN(m)}return!1}(i,n);case 9:return Sf(i.arrayValue.values||[],n.arrayValue.values||[],ws);case 10:return function(s,c){const d=s.mapValue.fields||{},m=c.mapValue.fields||{};if(rI(d)!==rI(m))return!1;for(const E in d)if(d.hasOwnProperty(E)&&(void 0===m[E]||!ws(d[E],m[E])))return!1;return!0}(i,n);default:return Ye()}var c}function Bl(i,n){return void 0!==(i.values||[]).find(r=>ws(r,n))}function ec(i,n){const r=to(i),s=to(n);if(r!==s)return vt(r,s);switch(r){case 0:return 0;case 1:return vt(i.booleanValue,n.booleanValue);case 2:return function(c,d){const m=sn(c.integerValue||c.doubleValue),E=sn(d.integerValue||d.doubleValue);return m<E?-1:m>E?1:m===E?0:isNaN(m)?isNaN(E)?0:-1:1}(i,n);case 3:return Rf(i.timestampValue,n.timestampValue);case 4:return Rf(zo(i),zo(n));case 5:return vt(i.stringValue,n.stringValue);case 6:return function(c,d){const m=Ul(c),E=Ul(d);return m.compareTo(E)}(i.bytesValue,n.bytesValue);case 7:return function(c,d){const m=c.split("/"),E=d.split("/");for(let I=0;I<m.length&&I<E.length;I++){const S=vt(m[I],E[I]);if(0!==S)return S}return vt(m.length,E.length)}(i.referenceValue,n.referenceValue);case 8:return function(c,d){const m=vt(sn(c.latitude),sn(d.latitude));return 0!==m?m:vt(sn(c.longitude),sn(d.longitude))}(i.geoPointValue,n.geoPointValue);case 9:return function(c,d){const m=c.values||[],E=d.values||[];for(let I=0;I<m.length&&I<E.length;++I){const S=ec(m[I],E[I]);if(S)return S}return vt(m.length,E.length)}(i.arrayValue,n.arrayValue);case 10:return function(c,d){const m=c.fields||{},E=Object.keys(m),I=d.fields||{},S=Object.keys(I);E.sort(),S.sort();for(let M=0;M<E.length&&M<S.length;++M){const P=vt(E[M],S[M]);if(0!==P)return P;const W=ec(m[E[M]],I[S[M]]);if(0!==W)return W}return vt(E.length,S.length)}(i.mapValue,n.mapValue);default:throw Ye()}}function Rf(i,n){if("string"==typeof i&&"string"==typeof n&&i.length===n.length)return vt(i,n);const r=Fa(i),s=Fa(n),c=vt(r.seconds,s.seconds);return 0!==c?c:vt(r.nanos,s.nanos)}function xE(i){return Mf(i)}function Mf(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(s){const c=Fa(s);return`time(${c.seconds},${c.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?Ul(i.bytesValue).toBase64():"referenceValue"in i?Ke.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(n=i.geoPointValue).latitude},${n.longitude})`:"arrayValue"in i?function(s){let c="[",d=!0;for(const m of s.values||[])d?d=!1:c+=",",c+=Mf(m);return c+"]"}(i.arrayValue):"mapValue"in i?function(s){const c=Object.keys(s.fields||{}).sort();let d="{",m=!0;for(const E of c)m?m=!1:d+=",",d+=`${E}:${Mf(s.fields[E])}`;return d+"}"}(i.mapValue):Ye();var n}function jl(i,n){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`}}function sI(i){return!!i&&"integerValue"in i}function oI(i){return!!i&&"arrayValue"in i}function dt(i){return!!i&&"nullValue"in i}function Fx(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function La(i){return!!i&&"mapValue"in i}function Of(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const n={mapValue:{fields:{}}};return Qu(i.mapValue.fields,(r,s)=>n.mapValue.fields[r]=Of(s)),n}if(i.arrayValue){const n={arrayValue:{values:[]}};for(let r=0;r<(i.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Of(i.arrayValue.values[r]);return n}return Object.assign({},i)}class Mr{constructor(n){this.value=n}static empty(){return new Mr({mapValue:{}})}field(n){if(n.isEmpty())return this.value;{let r=this.value;for(let s=0;s<n.length-1;++s)if(r=(r.mapValue.fields||{})[n.get(s)],!La(r))return null;return r=(r.mapValue.fields||{})[n.lastSegment()],r||null}}set(n,r){this.getFieldsMap(n.popLast())[n.lastSegment()]=Of(r)}setAll(n){let r=vr.emptyPath(),s={},c=[];n.forEach((m,E)=>{if(!r.isImmediateParentOf(E)){const I=this.getFieldsMap(r);this.applyChanges(I,s,c),s={},c=[],r=E.popLast()}m?s[E.lastSegment()]=Of(m):c.push(E.lastSegment())});const d=this.getFieldsMap(r);this.applyChanges(d,s,c)}delete(n){const r=this.field(n.popLast());La(r)&&r.mapValue.fields&&delete r.mapValue.fields[n.lastSegment()]}isEqual(n){return ws(this.value,n.value)}getFieldsMap(n){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let s=0;s<n.length;++s){let c=r.mapValue.fields[n.get(s)];La(c)&&c.mapValue.fields||(c={mapValue:{fields:{}}},r.mapValue.fields[n.get(s)]=c),r=c}return r.mapValue.fields}applyChanges(n,r,s){Qu(r,(c,d)=>n[c]=d);for(const c of s)delete n[c]}clone(){return new Mr(Of(this.value))}}function aI(i){const n=[];return Qu(i.fields,(r,s)=>{const c=new vr([r]);if(La(s)){const d=aI(s.mapValue).fields;if(0===d.length)n.push(c);else for(const m of d)n.push(c.child(m))}else n.push(c)}),new Ju(n)}class Mn{constructor(n,r,s,c,d){this.key=n,this.documentType=r,this.version=s,this.data=c,this.documentState=d}static newInvalidDocument(n){return new Mn(n,0,Ct.min(),Mr.empty(),0)}static newFoundDocument(n,r,s){return new Mn(n,1,r,s,0)}static newNoDocument(n,r){return new Mn(n,2,r,Mr.empty(),0)}static newUnknownDocument(n,r){return new Mn(n,3,r,Mr.empty(),2)}convertToFoundDocument(n,r){return this.version=n,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(n){return this.version=n,this.documentType=2,this.data=Mr.empty(),this.documentState=0,this}convertToUnknownDocument(n){return this.version=n,this.documentType=3,this.data=Mr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(n){return n instanceof Mn&&this.key.isEqual(n.key)&&this.version.isEqual(n.version)&&this.documentType===n.documentType&&this.documentState===n.documentState&&this.data.isEqual(n.data)}clone(){return new Mn(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class RO{constructor(n,r=null,s=[],c=[],d=null,m=null,E=null){this.path=n,this.collectionGroup=r,this.orderBy=s,this.filters=c,this.limit=d,this.startAt=m,this.endAt=E,this.A=null}}function uI(i,n=null,r=[],s=[],c=null,d=null,m=null){return new RO(i,n,r,s,c,d,m)}function $n(i){const n=ke(i);if(null===n.A){let r=n.path.canonicalString();null!==n.collectionGroup&&(r+="|cg:"+n.collectionGroup),r+="|f:",r+=n.filters.map(s=>function(i){return i.field.canonicalString()+i.op.toString()+xE(i.value)}(s)).join(","),r+="|ob:",r+=n.orderBy.map(s=>{return(c=s).field.canonicalString()+c.dir;var c}).join(","),Zo(n.limit)||(r+="|l:",r+=n.limit),n.startAt&&(r+="|lb:",r+=km(n.startAt)),n.endAt&&(r+="|ub:",r+=km(n.endAt)),n.A=r}return n.A}function Pm(i,n){if(i.limit!==n.limit||i.orderBy.length!==n.orderBy.length)return!1;for(let c=0;c<i.orderBy.length;c++)if(!Gx(i.orderBy[c],n.orderBy[c]))return!1;if(i.filters.length!==n.filters.length)return!1;for(let c=0;c<i.filters.length;c++)if((r=i.filters[c]).op!==(s=n.filters[c]).op||!r.field.isEqual(s.field)||!ws(r.value,s.value))return!1;var r,s;return i.collectionGroup===n.collectionGroup&&!!i.path.isEqual(n.path)&&!!hI(i.startAt,n.startAt)&&hI(i.endAt,n.endAt)}function Hl(i){return Ke.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}class zr extends class{}{constructor(n,r,s){super(),this.field=n,this.op=r,this.value=s}static create(n,r,s){return n.isKeyField()?"in"===r||"not-in"===r?this.R(n,r,s):new Ux(n,r,s):"array-contains"===r?new RE(n,s):"in"===r?new Hx(n,s):"not-in"===r?new $x(n,s):"array-contains-any"===r?new lI(n,s):new zr(n,r,s)}static R(n,r,s){return"in"===r?new Bx(n,s):new jx(n,s)}matches(n){const r=n.data.field(this.field);return"!="===this.op?null!==r&&this.P(ec(r,this.value)):null!==r&&to(this.value)===to(r)&&this.P(ec(r,this.value))}P(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return 0===n;case"!=":return 0!==n;case">":return n>0;case">=":return n>=0;default:return Ye()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Ux extends zr{constructor(n,r,s){super(n,r,s),this.key=Ke.fromName(s.referenceValue)}matches(n){const r=Ke.comparator(n.key,this.key);return this.P(r)}}class Bx extends zr{constructor(n,r){super(n,"in",r),this.keys=cI(0,r)}matches(n){return this.keys.some(r=>r.isEqual(n.key))}}class jx extends zr{constructor(n,r){super(n,"not-in",r),this.keys=cI(0,r)}matches(n){return!this.keys.some(r=>r.isEqual(n.key))}}function cI(i,n){var r;return((null===(r=n.arrayValue)||void 0===r?void 0:r.values)||[]).map(s=>Ke.fromName(s.referenceValue))}class RE extends zr{constructor(n,r){super(n,"array-contains",r)}matches(n){const r=n.data.field(this.field);return oI(r)&&Bl(r.arrayValue,this.value)}}class Hx extends zr{constructor(n,r){super(n,"in",r)}matches(n){const r=n.data.field(this.field);return null!==r&&Bl(this.value.arrayValue,r)}}class $x extends zr{constructor(n,r){super(n,"not-in",r)}matches(n){if(Bl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=n.data.field(this.field);return null!==r&&!Bl(this.value.arrayValue,r)}}class lI extends zr{constructor(n,r){super(n,"array-contains-any",r)}matches(n){const r=n.data.field(this.field);return!(!oI(r)||!r.arrayValue.values)&&r.arrayValue.values.some(s=>Bl(this.value.arrayValue,s))}}class tc{constructor(n,r){this.position=n,this.before=r}}function km(i){return`${i.before?"b":"a"}:${i.position.map(n=>xE(n)).join(",")}`}class Nf{constructor(n,r="asc"){this.field=n,this.dir=r}}function Gx(i,n){return i.dir===n.dir&&i.field.isEqual(n.field)}function dI(i,n,r){let s=0;for(let c=0;c<i.position.length;c++){const d=n[c],m=i.position[c];if(s=d.field.isKeyField()?Ke.comparator(Ke.fromName(m.referenceValue),r.key):ec(m,r.data.field(d.field)),"desc"===d.dir&&(s*=-1),0!==s)break}return i.before?s<=0:s<0}function hI(i,n){if(null===i)return null===n;if(null===n||i.before!==n.before||i.position.length!==n.position.length)return!1;for(let r=0;r<i.position.length;r++)if(!ws(i.position[r],n.position[r]))return!1;return!0}class Wo{constructor(n,r=null,s=[],c=[],d=null,m="F",E=null,I=null){this.path=n,this.collectionGroup=r,this.explicitOrderBy=s,this.filters=c,this.limit=d,this.limitType=m,this.startAt=E,this.endAt=I,this.V=null,this.S=null}}function fI(i,n,r,s,c,d,m,E){return new Wo(i,n,r,s,c,d,m,E)}function $l(i){return new Wo(i)}function Va(i){return!Zo(i.limit)&&"F"===i.limitType}function Fm(i){return!Zo(i.limit)&&"L"===i.limitType}function ME(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function Lm(i){for(const n of i.filters)if(n.v())return n.field;return null}function nc(i){return null!==i.collectionGroup}function Pf(i){const n=ke(i);if(null===n.V){n.V=[];const r=Lm(n),s=ME(n);if(null!==r&&null===s)r.isKeyField()||n.V.push(new Nf(r)),n.V.push(new Nf(vr.keyField(),"asc"));else{let c=!1;for(const d of n.explicitOrderBy)n.V.push(d),d.field.isKeyField()&&(c=!0);if(!c){const d=n.explicitOrderBy.length>0?n.explicitOrderBy[n.explicitOrderBy.length-1].dir:"asc";n.V.push(new Nf(vr.keyField(),d))}}}return n.V}function xi(i){const n=ke(i);if(!n.S)if("F"===n.limitType)n.S=uI(n.path,n.collectionGroup,Pf(n),n.filters,n.limit,n.startAt,n.endAt);else{const r=[];for(const d of Pf(n))r.push(new Nf(d.field,"desc"===d.dir?"asc":"desc"));const s=n.endAt?new tc(n.endAt.position,!n.endAt.before):null,c=n.startAt?new tc(n.startAt.position,!n.startAt.before):null;n.S=uI(n.path,n.collectionGroup,r,n.filters,n.limit,s,c)}return n.S}function pI(i,n,r){return new Wo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),n,r,i.startAt,i.endAt)}function kf(i,n){return Pm(xi(i),xi(n))&&i.limitType===n.limitType}function gI(i){return`${$n(xi(i))}|lt:${i.limitType}`}function OE(i){return`Query(target=${function(i){let n=i.path.canonicalString();return null!==i.collectionGroup&&(n+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(n+=`, filters: [${i.filters.map(r=>{return`${(s=r).field.canonicalString()} ${s.op} ${xE(s.value)}`;var s}).join(", ")}]`),Zo(i.limit)||(n+=", limit: "+i.limit),i.orderBy.length>0&&(n+=`, orderBy: [${i.orderBy.map(r=>{return`${(s=r).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),i.startAt&&(n+=", startAt: "+km(i.startAt)),i.endAt&&(n+=", endAt: "+km(i.endAt)),`Target(${n})`}(xi(i))}; limitType=${i.limitType})`}function Ff(i,n){return n.isFoundDocument()&&function(r,s){const c=s.key.path;return null!==r.collectionGroup?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):Ke.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)}(i,n)&&function(r,s){for(const c of r.explicitOrderBy)if(!c.field.isKeyField()&&null===s.data.field(c.field))return!1;return!0}(i,n)&&function(r,s){for(const c of r.filters)if(!c.matches(s))return!1;return!0}(i,n)&&(s=n,!((r=i).startAt&&!dI(r.startAt,Pf(r),s)||r.endAt&&dI(r.endAt,Pf(r),s)));var r,s}function NE(i){return(n,r)=>{let s=!1;for(const c of Pf(i)){const d=qx(c,n,r);if(0!==d)return d;s=s||c.field.isKeyField()}return 0}}function qx(i,n,r){const s=i.field.isKeyField()?Ke.comparator(n.key,r.key):function(c,d,m){const E=d.data.field(c),I=m.data.field(c);return null!==E&&null!==I?ec(E,I):Ye()}(i.field,n,r);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Ye()}}function mI(i,n){if(i.D){if(isNaN(n))return{doubleValue:"NaN"};if(n===1/0)return{doubleValue:"Infinity"};if(n===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xf(n)?"-0":n}}function zx(i){return{integerValue:""+i}}function Zx(i,n){return Xu(n)?zx(n):mI(i,n)}class PE{constructor(){this._=void 0}}function kE(i,n,r){return i instanceof Gl?function(s,c){const d={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return c&&(d.fields.__previous_value__=c),{mapValue:d}}(r,n):i instanceof rc?yI(i,n):i instanceof ic?FE(i,n):function(s,c){const d=_I(s,c),m=vI(d)+vI(s.C);return sI(d)&&sI(s.C)?zx(m):mI(s.N,m)}(i,n)}function Wx(i,n,r){return i instanceof rc?yI(i,n):i instanceof ic?FE(i,n):r}function _I(i,n){return i instanceof Ua?sI(r=n)||(s=r)&&"doubleValue"in s?n:{integerValue:0}:null;var s,r}class Gl extends PE{}class rc extends PE{constructor(n){super(),this.elements=n}}function yI(i,n){const r=sc(n);for(const s of i.elements)r.some(c=>ws(c,s))||r.push(s);return{arrayValue:{values:r}}}class ic extends PE{constructor(n){super(),this.elements=n}}function FE(i,n){let r=sc(n);for(const s of i.elements)r=r.filter(c=>!ws(c,s));return{arrayValue:{values:r}}}class Ua extends PE{constructor(n,r){super(),this.N=n,this.C=r}}function vI(i){return sn(i.integerValue||i.doubleValue)}function sc(i){return oI(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class Gn{constructor(n,r){this.field=n,this.transform=r}}class Cs{constructor(n,r){this.version=n,this.transformResults=r}}class Pn{constructor(n,r){this.updateTime=n,this.exists=r}static none(){return new Pn}static exists(n){return new Pn(void 0,n)}static updateTime(n){return new Pn(n)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(n){return this.exists===n.exists&&(this.updateTime?!!n.updateTime&&this.updateTime.isEqual(n.updateTime):!n.updateTime)}}function Vm(i,n){return void 0!==i.updateTime?n.isFoundDocument()&&n.version.isEqual(i.updateTime):void 0===i.exists||i.exists===n.isFoundDocument()}class Lf{}function bI(i,n,r){i instanceof ql?function(s,c,d){const m=s.value.clone(),E=DI(s.fieldTransforms,c,d.transformResults);m.setAll(E),c.convertToFoundDocument(d.version,m).setHasCommittedMutations()}(i,n,r):i instanceof Ba?function(s,c,d){if(!Vm(s.precondition,c))return void c.convertToUnknownDocument(d.version);const m=DI(s.fieldTransforms,c,d.transformResults),E=c.data;E.setAll(Yx(s)),E.setAll(m),c.convertToFoundDocument(d.version,E).setHasCommittedMutations()}(i,n,r):n.convertToNoDocument(r.version).setHasCommittedMutations()}function Um(i,n,r){var c;i instanceof ql?function(s,c,d){if(!Vm(s.precondition,c))return;const m=s.value.clone(),E=II(s.fieldTransforms,d,c);m.setAll(E),c.convertToFoundDocument(CI(c),m).setHasLocalMutations()}(i,n,r):i instanceof Ba?function(s,c,d){if(!Vm(s.precondition,c))return;const m=II(s.fieldTransforms,d,c),E=c.data;E.setAll(Yx(s)),E.setAll(m),c.convertToFoundDocument(CI(c),E).setHasLocalMutations()}(i,n,r):Vm(i.precondition,c=n)&&c.convertToNoDocument(Ct.min())}function Kx(i,n){let r=null;for(const s of i.fieldTransforms){const c=n.data.field(s.field),d=_I(s.transform,c||null);null!=d&&(null==r&&(r=Mr.empty()),r.set(s.field,d))}return r||null}function wI(i,n){return i.type===n.type&&!!i.key.isEqual(n.key)&&!!i.precondition.isEqual(n.precondition)&&(s=n.fieldTransforms,!!(void 0===(r=i.fieldTransforms)&&void 0===s||r&&s&&Sf(r,s,(c,d)=>function(i,n){return i.field.isEqual(n.field)&&(s=n.transform,(r=i.transform)instanceof rc&&s instanceof rc||r instanceof ic&&s instanceof ic?Sf(r.elements,s.elements,ws):r instanceof Ua&&s instanceof Ua?ws(r.C,s.C):r instanceof Gl&&s instanceof Gl);var r,s}(c,d))))&&(0===i.type?i.value.isEqual(n.value):1!==i.type||i.data.isEqual(n.data)&&i.fieldMask.isEqual(n.fieldMask));var r,s}function CI(i){return i.isFoundDocument()?i.version:Ct.min()}class ql extends Lf{constructor(n,r,s,c=[]){super(),this.key=n,this.value=r,this.precondition=s,this.fieldTransforms=c,this.type=0}}class Ba extends Lf{constructor(n,r,s,c,d=[]){super(),this.key=n,this.data=r,this.fieldMask=s,this.precondition=c,this.fieldTransforms=d,this.type=1}}function Yx(i){const n=new Map;return i.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const s=i.data.field(r);n.set(r,s)}}),n}function DI(i,n,r){const s=new Map;ut(i.length===r.length);for(let c=0;c<r.length;c++){const d=i[c],m=d.transform,E=n.data.field(d.field);s.set(d.field,Wx(m,E,r[c]))}return s}function II(i,n,r){const s=new Map;for(const c of i){const d=c.transform,m=r.data.field(c.field);s.set(c.field,kE(d,m,n))}return s}class no extends Lf{constructor(n,r){super(),this.key=n,this.precondition=r,this.type=2,this.fieldTransforms=[]}}class TI extends Lf{constructor(n,r){super(),this.key=n,this.precondition=r,this.type=3,this.fieldTransforms=[]}}class SI{constructor(n){this.count=n}}var qn,Ft;function LE(i){switch(i){case de.OK:return Ye();case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0;default:return Ye()}}function AI(i){if(void 0===i)return Vn("GRPC error has no .code"),de.UNKNOWN;switch(i){case qn.OK:return de.OK;case qn.CANCELLED:return de.CANCELLED;case qn.UNKNOWN:return de.UNKNOWN;case qn.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case qn.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case qn.INTERNAL:return de.INTERNAL;case qn.UNAVAILABLE:return de.UNAVAILABLE;case qn.UNAUTHENTICATED:return de.UNAUTHENTICATED;case qn.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case qn.NOT_FOUND:return de.NOT_FOUND;case qn.ALREADY_EXISTS:return de.ALREADY_EXISTS;case qn.PERMISSION_DENIED:return de.PERMISSION_DENIED;case qn.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case qn.ABORTED:return de.ABORTED;case qn.OUT_OF_RANGE:return de.OUT_OF_RANGE;case qn.UNIMPLEMENTED:return de.UNIMPLEMENTED;case qn.DATA_LOSS:return de.DATA_LOSS;default:return Ye()}}(Ft=qn||(qn={}))[Ft.OK=0]="OK",Ft[Ft.CANCELLED=1]="CANCELLED",Ft[Ft.UNKNOWN=2]="UNKNOWN",Ft[Ft.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ft[Ft.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ft[Ft.NOT_FOUND=5]="NOT_FOUND",Ft[Ft.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ft[Ft.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ft[Ft.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ft[Ft.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ft[Ft.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ft[Ft.ABORTED=10]="ABORTED",Ft[Ft.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ft[Ft.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ft[Ft.INTERNAL=13]="INTERNAL",Ft[Ft.UNAVAILABLE=14]="UNAVAILABLE",Ft[Ft.DATA_LOSS=15]="DATA_LOSS";class Un{constructor(n,r){this.comparator=n,this.root=r||sr.EMPTY}insert(n,r){return new Un(this.comparator,this.root.insert(n,r,this.comparator).copy(null,null,sr.BLACK,null,null))}remove(n){return new Un(this.comparator,this.root.remove(n,this.comparator).copy(null,null,sr.BLACK,null,null))}get(n){let r=this.root;for(;!r.isEmpty();){const s=this.comparator(n,r.key);if(0===s)return r.value;s<0?r=r.left:s>0&&(r=r.right)}return null}indexOf(n){let r=0,s=this.root;for(;!s.isEmpty();){const c=this.comparator(n,s.key);if(0===c)return r+s.left.size;c<0?s=s.left:(r+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(n){return this.root.inorderTraversal(n)}forEach(n){this.inorderTraversal((r,s)=>(n(r,s),!1))}toString(){const n=[];return this.inorderTraversal((r,s)=>(n.push(`${r}:${s}`),!1)),`{${n.join(", ")}}`}reverseTraversal(n){return this.root.reverseTraversal(n)}getIterator(){return new Bm(this.root,null,this.comparator,!1)}getIteratorFrom(n){return new Bm(this.root,n,this.comparator,!1)}getReverseIterator(){return new Bm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(n){return new Bm(this.root,n,this.comparator,!0)}}class Bm{constructor(n,r,s,c){this.isReverse=c,this.nodeStack=[];let d=1;for(;!n.isEmpty();)if(d=r?s(n.key,r):1,c&&(d*=-1),d<0)n=this.isReverse?n.left:n.right;else{if(0===d){this.nodeStack.push(n);break}this.nodeStack.push(n),n=this.isReverse?n.right:n.left}}getNext(){let n=this.nodeStack.pop();const r={key:n.key,value:n.value};if(this.isReverse)for(n=n.left;!n.isEmpty();)this.nodeStack.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack.push(n),n=n.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const n=this.nodeStack[this.nodeStack.length-1];return{key:n.key,value:n.value}}}class sr{constructor(n,r,s,c,d){this.key=n,this.value=r,this.color=null!=s?s:sr.RED,this.left=null!=c?c:sr.EMPTY,this.right=null!=d?d:sr.EMPTY,this.size=this.left.size+1+this.right.size}copy(n,r,s,c,d){return new sr(null!=n?n:this.key,null!=r?r:this.value,null!=s?s:this.color,null!=c?c:this.left,null!=d?d:this.right)}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,s){let c=this;const d=s(n,c.key);return c=d<0?c.copy(null,null,null,c.left.insert(n,r,s),null):0===d?c.copy(null,r,null,null,null):c.copy(null,null,null,null,c.right.insert(n,r,s)),c.fixUp()}removeMin(){if(this.left.isEmpty())return sr.EMPTY;let n=this;return n.left.isRed()||n.left.left.isRed()||(n=n.moveRedLeft()),n=n.copy(null,null,null,n.left.removeMin(),null),n.fixUp()}remove(n,r){let s,c=this;if(r(n,c.key)<0)c.left.isEmpty()||c.left.isRed()||c.left.left.isRed()||(c=c.moveRedLeft()),c=c.copy(null,null,null,c.left.remove(n,r),null);else{if(c.left.isRed()&&(c=c.rotateRight()),c.right.isEmpty()||c.right.isRed()||c.right.left.isRed()||(c=c.moveRedRight()),0===r(n,c.key)){if(c.right.isEmpty())return sr.EMPTY;s=c.right.min(),c=c.copy(s.key,s.value,null,null,c.right.removeMin())}c=c.copy(null,null,null,null,c.right.remove(n,r))}return c.fixUp()}isRed(){return this.color}fixUp(){let n=this;return n.right.isRed()&&!n.left.isRed()&&(n=n.rotateLeft()),n.left.isRed()&&n.left.left.isRed()&&(n=n.rotateRight()),n.left.isRed()&&n.right.isRed()&&(n=n.colorFlip()),n}moveRedLeft(){let n=this.colorFlip();return n.right.left.isRed()&&(n=n.copy(null,null,null,null,n.right.rotateRight()),n=n.rotateLeft(),n=n.colorFlip()),n}moveRedRight(){let n=this.colorFlip();return n.left.left.isRed()&&(n=n.rotateRight(),n=n.colorFlip()),n}rotateLeft(){const n=this.copy(null,null,sr.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight(){const n=this.copy(null,null,sr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip(){const n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth(){const n=this.check();return Math.pow(2,n)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ye();const n=this.left.check();if(n!==this.right.check())throw Ye();return n+(this.isRed()?0:1)}}sr.EMPTY=null,sr.RED=!0,sr.BLACK=!1,sr.EMPTY=new class{constructor(){this.size=0}get key(){throw Ye()}get value(){throw Ye()}get color(){throw Ye()}get left(){throw Ye()}get right(){throw Ye()}copy(i,n,r,s,c){return this}insert(i,n,r){return new sr(i,n)}remove(i,n){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class kn{constructor(n){this.comparator=n,this.data=new Un(this.comparator)}has(n){return null!==this.data.get(n)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(n){return this.data.indexOf(n)}forEach(n){this.data.inorderTraversal((r,s)=>(n(r),!1))}forEachInRange(n,r){const s=this.data.getIteratorFrom(n[0]);for(;s.hasNext();){const c=s.getNext();if(this.comparator(c.key,n[1])>=0)return;r(c.key)}}forEachWhile(n,r){let s;for(s=void 0!==r?this.data.getIteratorFrom(r):this.data.getIterator();s.hasNext();)if(!n(s.getNext().key))return}firstAfterOrEqual(n){const r=this.data.getIteratorFrom(n);return r.hasNext()?r.getNext().key:null}getIterator(){return new xI(this.data.getIterator())}getIteratorFrom(n){return new xI(this.data.getIteratorFrom(n))}add(n){return this.copy(this.data.remove(n).insert(n,!0))}delete(n){return this.has(n)?this.copy(this.data.remove(n)):this}isEmpty(){return this.data.isEmpty()}unionWith(n){let r=this;return r.size<n.size&&(r=n,n=this),n.forEach(s=>{r=r.add(s)}),r}isEqual(n){if(!(n instanceof kn)||this.size!==n.size)return!1;const r=this.data.getIterator(),s=n.data.getIterator();for(;r.hasNext();){const c=r.getNext().key,d=s.getNext().key;if(0!==this.comparator(c,d))return!1}return!0}toArray(){const n=[];return this.forEach(r=>{n.push(r)}),n}toString(){const n=[];return this.forEach(r=>n.push(r)),"SortedSet("+n.toString()+")"}copy(n){const r=new kn(this.comparator);return r.data=n,r}}class xI{constructor(n){this.iter=n}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const Qx=new Un(Ke.comparator);function Ki(){return Qx}const Jx=new Un(Ke.comparator);function VE(){return Jx}const Xx=new Un(Ke.comparator);function RI(){return Xx}const Vf=new kn(Ke.comparator);function Gt(...i){let n=Vf;for(const r of i)n=n.add(r);return n}const MI=new kn(vt);function Uf(){return MI}class zl{constructor(n,r,s,c,d){this.snapshotVersion=n,this.targetChanges=r,this.targetMismatches=s,this.documentUpdates=c,this.resolvedLimboDocuments=d}static createSynthesizedRemoteEventForCurrentChange(n,r){const s=new Map;return s.set(n,Zl.createSynthesizedTargetChangeForCurrentChange(n,r)),new zl(Ct.min(),s,Uf(),Ki(),Gt())}}class Zl{constructor(n,r,s,c,d){this.resumeToken=n,this.current=r,this.addedDocuments=s,this.modifiedDocuments=c,this.removedDocuments=d}static createSynthesizedTargetChangeForCurrentChange(n,r){return new Zl(Rn.EMPTY_BYTE_STRING,r,Gt(),Gt(),Gt())}}class Bf{constructor(n,r,s,c){this.k=n,this.removedTargetIds=r,this.key=s,this.$=c}}class OI{constructor(n,r){this.targetId=n,this.O=r}}class UE{constructor(n,r,s=Rn.EMPTY_BYTE_STRING,c=null){this.state=n,this.targetIds=r,this.resumeToken=s,this.cause=c}}class BE{constructor(){this.F=0,this.M=kI(),this.L=Rn.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(n){n.approximateByteSize()>0&&(this.U=!0,this.L=n)}W(){let n=Gt(),r=Gt(),s=Gt();return this.M.forEach((c,d)=>{switch(d){case 0:n=n.add(c);break;case 2:r=r.add(c);break;case 1:s=s.add(c);break;default:Ye()}}),new Zl(this.L,this.B,n,r,s)}G(){this.U=!1,this.M=kI()}H(n,r){this.U=!0,this.M=this.M.insert(n,r)}J(n){this.U=!0,this.M=this.M.remove(n)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class NI{constructor(n){this.tt=n,this.et=new Map,this.nt=Ki(),this.st=PI(),this.it=new kn(vt)}rt(n){for(const r of n.k)n.$&&n.$.isFoundDocument()?this.ot(r,n.$):this.at(r,n.key,n.$);for(const r of n.removedTargetIds)this.at(r,n.key,n.$)}ct(n){this.forEachTarget(n,r=>{const s=this.ut(r);switch(n.state){case 0:this.ht(r)&&s.j(n.resumeToken);break;case 1:s.X(),s.q||s.G(),s.j(n.resumeToken);break;case 2:s.X(),s.q||this.removeTarget(r);break;case 3:this.ht(r)&&(s.Z(),s.j(n.resumeToken));break;case 4:this.ht(r)&&(this.lt(r),s.j(n.resumeToken));break;default:Ye()}})}forEachTarget(n,r){n.targetIds.length>0?n.targetIds.forEach(r):this.et.forEach((s,c)=>{this.ht(c)&&r(c)})}ft(n){const r=n.targetId,s=n.O.count,c=this.dt(r);if(c){const d=c.target;if(Hl(d))if(0===s){const m=new Ke(d.path);this.at(r,m,Mn.newNoDocument(m,Ct.min()))}else ut(1===s);else this.wt(r)!==s&&(this.lt(r),this.it=this.it.add(r))}}_t(n){const r=new Map;this.et.forEach((d,m)=>{const E=this.dt(m);if(E){if(d.current&&Hl(E.target)){const I=new Ke(E.target.path);null!==this.nt.get(I)||this.gt(m,I)||this.at(m,I,Mn.newNoDocument(I,n))}d.K&&(r.set(m,d.W()),d.G())}});let s=Gt();this.st.forEach((d,m)=>{let E=!0;m.forEachWhile(I=>{const S=this.dt(I);return!S||2===S.purpose||(E=!1,!1)}),E&&(s=s.add(d))});const c=new zl(n,r,this.it,this.nt,s);return this.nt=Ki(),this.st=PI(),this.it=new kn(vt),c}ot(n,r){if(!this.ht(n))return;const s=this.gt(n,r.key)?2:0;this.ut(n).H(r.key,s),this.nt=this.nt.insert(r.key,r),this.st=this.st.insert(r.key,this.yt(r.key).add(n))}at(n,r,s){if(!this.ht(n))return;const c=this.ut(n);this.gt(n,r)?c.H(r,1):c.J(r),this.st=this.st.insert(r,this.yt(r).delete(n)),s&&(this.nt=this.nt.insert(r,s))}removeTarget(n){this.et.delete(n)}wt(n){const r=this.ut(n).W();return this.tt.getRemoteKeysForTarget(n).size+r.addedDocuments.size-r.removedDocuments.size}Y(n){this.ut(n).Y()}ut(n){let r=this.et.get(n);return r||(r=new BE,this.et.set(n,r)),r}yt(n){let r=this.st.get(n);return r||(r=new kn(vt),this.st=this.st.insert(n,r)),r}ht(n){const r=null!==this.dt(n);return r||Me("WatchChangeAggregator","Detected inactive target",n),r}dt(n){const r=this.et.get(n);return r&&r.q?null:this.tt.Et(n)}lt(n){this.et.set(n,new BE),this.tt.getRemoteKeysForTarget(n).forEach(r=>{this.at(n,r,null)})}gt(n,r){return this.tt.getRemoteKeysForTarget(n).has(r)}}function PI(){return new Un(Ke.comparator)}function kI(){return new Un(Ke.comparator)}const jf={asc:"ASCENDING",desc:"DESCENDING"},Hf={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class eR{constructor(n,r){this.databaseId=n,this.D=r}}function oc(i,n){return i.D?`${new Date(1e3*n.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+n.nanoseconds).slice(-9)}Z`:{seconds:""+n.seconds,nanos:n.nanoseconds}}function Ds(i,n){return i.D?n.toBase64():n.toUint8Array()}function tR(i,n){return oc(i,n.toTimestamp())}function Bn(i){return ut(!!i),Ct.fromTimestamp(function(n){const r=Fa(n);return new Xn(r.seconds,r.nanos)}(i))}function jE(i,n){return(r=i,new Dt(["projects",r.projectId,"databases",r.database])).child("documents").child(n).canonicalString();var r}function FI(i){const n=Dt.fromString(i);return ut(uR(n)),n}function jm(i,n){return jE(i.databaseId,n.path)}function Yi(i,n){const r=FI(n);if(r.get(1)!==i.databaseId.projectId)throw new Se(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+i.databaseId.projectId);if(r.get(3)!==i.databaseId.database)throw new Se(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+i.databaseId.database);return new Ke(Hm(r))}function $f(i,n){return jE(i.databaseId,n)}function HE(i){const n=FI(i);return 4===n.length?Dt.emptyPath():Hm(n)}function ac(i){return new Dt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Hm(i){return ut(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function LI(i,n,r){return{name:jm(i,n),fields:r.value.mapValue.fields}}function VI(i,n,r){const s=Yi(i,n.name),c=Bn(n.updateTime),d=new Mr({mapValue:{fields:n.fields}}),m=Mn.newFoundDocument(s,c,d);return r&&m.setHasCommittedMutations(),r?m.setHasCommittedMutations():m}function Gf(i,n){let r;if(n instanceof ql)r={update:LI(i,n.key,n.value)};else if(n instanceof no)r={delete:jm(i,n.key)};else if(n instanceof Ba)r={update:LI(i,n.key,n.data),updateMask:aR(n.fieldMask)};else{if(!(n instanceof TI))return Ye();r={verify:jm(i,n.key)}}return n.fieldTransforms.length>0&&(r.updateTransforms=n.fieldTransforms.map(s=>function(c,d){const m=d.transform;if(m instanceof Gl)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof rc)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof ic)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Ua)return{fieldPath:d.field.canonicalString(),increment:m.C};throw Ye()}(0,s))),n.precondition.isNone||(r.currentDocument=void 0!==(c=n.precondition).updateTime?{updateTime:tR(i,c.updateTime)}:void 0!==c.exists?{exists:c.exists}:Ye()),r;var c}function $m(i,n){const r=n.currentDocument?void 0!==(c=n.currentDocument).updateTime?Pn.updateTime(Bn(c.updateTime)):void 0!==c.exists?Pn.exists(c.exists):Pn.none():Pn.none(),s=n.updateTransforms?n.updateTransforms.map(c=>function(d,m){let E=null;"setToServerValue"in m?(ut("REQUEST_TIME"===m.setToServerValue),E=new Gl):"appendMissingElements"in m?E=new rc(m.appendMissingElements.values||[]):"removeAllFromArray"in m?E=new ic(m.removeAllFromArray.values||[]):"increment"in m?E=new Ua(d,m.increment):Ye();const I=vr.fromServerFormat(m.fieldPath);return new Gn(I,E)}(i,c)):[];var c;if(n.update){const c=Yi(i,n.update.name),d=new Mr({mapValue:{fields:n.update.fields}});if(n.updateMask){const m=new Ju((n.updateMask.fieldPaths||[]).map(S=>vr.fromServerFormat(S)));return new Ba(c,d,m,r,s)}return new ql(c,d,r,s)}if(n.delete){const c=Yi(i,n.delete);return new no(c,r)}if(n.verify){const c=Yi(i,n.verify);return new TI(c,r)}return Ye()}function $E(i,n){return{documents:[$f(i,n.path)]}}function GE(i,n){const r={structuredQuery:{}},s=n.path;null!==n.collectionGroup?(r.parent=$f(i,s),r.structuredQuery.from=[{collectionId:n.collectionGroup,allDescendants:!0}]):(r.parent=$f(i,s.popLast()),r.structuredQuery.from=[{collectionId:s.lastSegment()}]);const c=function(E){if(0===E.length)return;const I=E.map(S=>function(M){if("=="===M.op){if(Fx(M.value))return{unaryFilter:{field:qf(M.field),op:"IS_NAN"}};if(dt(M.value))return{unaryFilter:{field:qf(M.field),op:"IS_NULL"}}}else if("!="===M.op){if(Fx(M.value))return{unaryFilter:{field:qf(M.field),op:"IS_NOT_NAN"}};if(dt(M.value))return{unaryFilter:{field:qf(M.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qf(M.field),op:sR(M.op),value:M.value}}}(S));return 1===I.length?I[0]:{compositeFilter:{op:"AND",filters:I}}}(n.filters);c&&(r.structuredQuery.where=c);const d=function(E){if(0!==E.length)return E.map(I=>{return{field:qf((S=I).field),direction:jI(S.dir)};var S})}(n.orderBy);d&&(r.structuredQuery.orderBy=d);const m=(I=n.limit,i.D||Zo(I)?I:{value:I});var I;return null!==m&&(r.structuredQuery.limit=m),n.startAt&&(r.structuredQuery.startAt=ZE(n.startAt)),n.endAt&&(r.structuredQuery.endAt=ZE(n.endAt)),r}function qE(i){let n=HE(i.parent);const r=i.structuredQuery,s=r.from?r.from.length:0;let c=null;if(s>0){ut(1===s);const M=r.from[0];M.allDescendants?c=M.collectionId:n=n.child(M.collectionId)}let d=[];r.where&&(d=zE(r.where));let m=[];r.orderBy&&(m=r.orderBy.map(M=>{return new Nf(zn((P=M).field),function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction));var P}));let E=null;r.limit&&(E=function(M){let P;return P="object"==typeof M?M.value:M,Zo(P)?null:P}(r.limit));let I=null;r.startAt&&(I=BI(r.startAt));let S=null;return r.endAt&&(S=BI(r.endAt)),fI(n,c,m,d,E,"F",I,S)}function zE(i){return i?void 0!==i.unaryFilter?[oR(i)]:void 0!==i.fieldFilter?[Wl(i)]:void 0!==i.compositeFilter?i.compositeFilter.filters.map(n=>zE(n)).reduce((n,r)=>n.concat(r)):Ye():[]}function ZE(i){return{before:i.before,values:i.position}}function BI(i){return new tc(i.values||[],!!i.before)}function jI(i){return jf[i]}function sR(i){return Hf[i]}function qf(i){return{fieldPath:i.canonicalString()}}function zn(i){return vr.fromServerFormat(i.fieldPath)}function Wl(i){return zr.create(zn(i.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Ye()}}(i.fieldFilter.op),i.fieldFilter.value)}function oR(i){switch(i.unaryFilter.op){case"IS_NAN":const n=zn(i.unaryFilter.field);return zr.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=zn(i.unaryFilter.field);return zr.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=zn(i.unaryFilter.field);return zr.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=zn(i.unaryFilter.field);return zr.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Ye()}}function aR(i){const n=[];return i.fields.forEach(r=>n.push(r.canonicalString())),{fieldPaths:n}}function uR(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}function Zr(i){let n="";for(let r=0;r<i.length;r++)n.length>0&&(n=Gm(n)),n=cR(i.get(r),n);return Gm(n)}function cR(i,n){let r=n;const s=i.length;for(let c=0;c<s;c++){const d=i.charAt(c);switch(d){case"\0":r+="\x01\x10";break;case"\x01":r+="\x01\x11";break;default:r+=d}}return r}function Gm(i){return i+"\x01\x01"}function Ko(i){const n=i.length;if(ut(n>=2),2===n)return ut("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),Dt.emptyPath();const r=n-2,s=[];let c="";for(let d=0;d<n;){const m=i.indexOf("\x01",d);switch((m<0||m>r)&&Ye(),i.charAt(m+1)){case"\x01":const E=i.substring(d,m);let I;0===c.length?I=E:(c+=E,I=c,c=""),s.push(I);break;case"\x10":c+=i.substring(d,m),c+="\0";break;case"\x11":c+=i.substring(d,m+1);break;default:Ye()}d=m+2}return new Dt(s)}class HI{constructor(n,r){this.seconds=n,this.nanoseconds=r}}class Ri{constructor(n,r,s){this.ownerId=n,this.allowTabSynchronization=r,this.leaseTimestampMs=s}}Ri.store="owner",Ri.key="owner";class ja{constructor(n,r,s){this.userId=n,this.lastAcknowledgedBatchId=r,this.lastStreamToken=s}}ja.store="mutationQueues",ja.keyPath="userId";class Jt{constructor(n,r,s,c,d){this.userId=n,this.batchId=r,this.localWriteTimeMs=s,this.baseMutations=c,this.mutations=d}}Jt.store="mutations",Jt.keyPath="batchId",Jt.userMutationsIndex="userMutationsIndex",Jt.userMutationsKeyPath=["userId","batchId"];class Er{constructor(){}static prefixForUser(n){return[n]}static prefixForPath(n,r){return[n,Zr(r)]}static key(n,r,s){return[n,Zr(r),s]}}Er.store="documentMutations",Er.PLACEHOLDER=new Er;class $I{constructor(n,r){this.path=n,this.readTime=r}}class qm{constructor(n,r){this.path=n,this.version=r}}class bn{constructor(n,r,s,c,d,m){this.unknownDocument=n,this.noDocument=r,this.document=s,this.hasCommittedMutations=c,this.readTime=d,this.parentPath=m}}bn.store="remoteDocuments",bn.readTimeIndex="readTimeIndex",bn.readTimeIndexPath="readTime",bn.collectionReadTimeIndex="collectionReadTimeIndex",bn.collectionReadTimeIndexPath=["parentPath","readTime"];class Yo{constructor(n){this.byteSize=n}}Yo.store="remoteDocumentGlobal",Yo.key="remoteDocumentGlobalKey";class Wr{constructor(n,r,s,c,d,m,E){this.targetId=n,this.canonicalId=r,this.readTime=s,this.resumeToken=c,this.lastListenSequenceNumber=d,this.lastLimboFreeSnapshotVersion=m,this.query=E}}Wr.store="targets",Wr.keyPath="targetId",Wr.queryTargetsIndexName="queryTargetsIndex",Wr.queryTargetsKeyPath=["canonicalId","targetId"];class br{constructor(n,r,s){this.targetId=n,this.path=r,this.sequenceNumber=s}}br.store="targetDocuments",br.keyPath=["targetId","path"],br.documentTargetsIndex="documentTargetsIndex",br.documentTargetsKeyPath=["path","targetId"];class ai{constructor(n,r,s,c){this.highestTargetId=n,this.highestListenSequenceNumber=r,this.lastRemoteSnapshotVersion=s,this.targetCount=c}}ai.key="targetGlobalKey",ai.store="targetGlobal";class ro{constructor(n,r){this.collectionId=n,this.parent=r}}ro.store="collectionParents",ro.keyPath=["collectionId","parent"];class io{constructor(n,r,s,c){this.clientId=n,this.updateTimeMs=r,this.networkEnabled=s,this.inForeground=c}}io.store="clientMetadata",io.keyPath="clientId";class Kl{constructor(n,r,s){this.bundleId=n,this.createTime=r,this.version=s}}Kl.store="bundles",Kl.keyPath="bundleId";class Ha{constructor(n,r,s){this.name=n,this.readTime=r,this.bundledQuery=s}}Ha.store="namedQueries",Ha.keyPath="name";const WE=[ja.store,Jt.store,Er.store,bn.store,Wr.store,Ri.store,ai.store,br.store,io.store,Yo.store,ro.store,Kl.store,Ha.store],GI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(n){this.onCommittedListeners.push(n)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(n=>n())}}class Te{constructor(n){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,n(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(n){return this.next(void 0,n)}next(n,r){return this.callbackAttached&&Ye(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(n,this.result):new Te((s,c)=>{this.nextCallback=d=>{this.wrapSuccess(n,d).next(s,c)},this.catchCallback=d=>{this.wrapFailure(r,d).next(s,c)}})}toPromise(){return new Promise((n,r)=>{this.next(n,r)})}wrapUserFunction(n){try{const r=n();return r instanceof Te?r:Te.resolve(r)}catch(r){return Te.reject(r)}}wrapSuccess(n,r){return n?this.wrapUserFunction(()=>n(r)):Te.resolve(r)}wrapFailure(n,r){return n?this.wrapUserFunction(()=>n(r)):Te.reject(r)}static resolve(n){return new Te((r,s)=>{r(n)})}static reject(n){return new Te((r,s)=>{s(n)})}static waitFor(n){return new Te((r,s)=>{let c=0,d=0,m=!1;n.forEach(E=>{++c,E.next(()=>{++d,m&&d===c&&r()},I=>s(I))}),m=!0,d===c&&r()})}static or(n){let r=Te.resolve(!1);for(const s of n)r=r.next(c=>c?Te.resolve(c):s());return r}static forEach(n,r){const s=[];return n.forEach((c,d)=>{s.push(r.call(this,c,d))}),this.waitFor(s)}}class zf{constructor(n,r){this.action=n,this.transaction=r,this.aborted=!1,this.Tt=new yr,this.transaction.oncomplete=()=>{this.Tt.resolve()},this.transaction.onabort=()=>{r.error?this.Tt.reject(new Yl(n,r.error)):this.Tt.resolve()},this.transaction.onerror=s=>{const c=YE(s.target.error);this.Tt.reject(new Yl(n,c))}}static open(n,r,s,c){try{return new zf(r,n.transaction(c,s))}catch(d){throw new Yl(r,d)}}get It(){return this.Tt.promise}abort(n){n&&this.Tt.reject(n),this.aborted||(Me("SimpleDb","Aborting transaction:",n?n.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(n){const r=this.transaction.objectStore(n);return new dR(r)}}class Qi{constructor(n,r,s){this.name=n,this.version=r,this.At=s,12.2===Qi.Rt((0,kt.z$)())&&Vn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(n){return Me("SimpleDb","Removing database:",n),uc(window.indexedDB.deleteDatabase(n)).toPromise()}static bt(){if(!(0,kt.hl)())return!1;if(Qi.Pt())return!0;const n=(0,kt.z$)(),r=Qi.Rt(n),s=0<r&&r<10,c=Qi.vt(n),d=0<c&&c<4.5;return!(n.indexOf("MSIE ")>0||n.indexOf("Trident/")>0||n.indexOf("Edge/")>0||s||d)}static Pt(){var n;return"undefined"!=typeof process&&"YES"===(null===(n=process.env)||void 0===n?void 0:n.Vt)}static St(n,r){return n.store(r)}static Rt(n){const r=n.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(s)}static vt(n){const r=n.match(/Android ([\d.]+)/i),s=r?r[1].split(".").slice(0,2).join("."):"-1";return Number(s)}Dt(n){var r=this;return(0,be.Z)(function*(){return r.db||(Me("SimpleDb","Opening database:",r.name),r.db=yield new Promise((s,c)=>{const d=indexedDB.open(r.name,r.version);d.onsuccess=m=>{s(m.target.result)},d.onblocked=()=>{c(new Yl(n,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},d.onerror=m=>{const E=m.target.error;c("VersionError"===E.name?new Se(de.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===E.name?new Se(de.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+E):new Yl(n,E))},d.onupgradeneeded=m=>{Me("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',m.oldVersion),r.At.Ct(m.target.result,d.transaction,m.oldVersion,r.version).next(()=>{Me("SimpleDb","Database upgrade to version "+r.version+" complete")})}})),r.Nt&&(r.db.onversionchange=s=>r.Nt(s)),r.db})()}xt(n){this.Nt=n,this.db&&(this.db.onversionchange=r=>n(r))}runTransaction(n,r,s,c){var d=this;return(0,be.Z)(function*(){const m="readonly"===r;let E=0;for(;;){++E;try{d.db=yield d.Dt(n);const I=zf.open(d.db,n,m?"readonly":"readwrite",s),S=c(I).catch(M=>(I.abort(M),Te.reject(M))).toPromise();return S.catch(()=>{}),yield I.It,S}catch(I){const S="FirebaseError"!==I.name&&E<3;if(Me("SimpleDb","Transaction failed with error:",I.message,"Retrying:",S),d.close(),!S)return Promise.reject(I)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class lR{constructor(n){this.kt=n,this.$t=!1,this.Ot=null}get isDone(){return this.$t}get Ft(){return this.Ot}set cursor(n){this.kt=n}done(){this.$t=!0}Mt(n){this.Ot=n}delete(){return uc(this.kt.delete())}}class Yl extends Se{constructor(n,r){super(de.UNAVAILABLE,`IndexedDB transaction '${n}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function $a(i){return"IndexedDbTransactionError"===i.name}class dR{constructor(n){this.store=n}put(n,r){let s;return void 0!==r?(Me("SimpleDb","PUT",this.store.name,n,r),s=this.store.put(r,n)):(Me("SimpleDb","PUT",this.store.name,"<auto-key>",n),s=this.store.put(n)),uc(s)}add(n){return Me("SimpleDb","ADD",this.store.name,n,n),uc(this.store.add(n))}get(n){return uc(this.store.get(n)).next(r=>(void 0===r&&(r=null),Me("SimpleDb","GET",this.store.name,n,r),r))}delete(n){return Me("SimpleDb","DELETE",this.store.name,n),uc(this.store.delete(n))}count(){return Me("SimpleDb","COUNT",this.store.name),uc(this.store.count())}Lt(n,r){const s=this.cursor(this.options(n,r)),c=[];return this.Bt(s,(d,m)=>{c.push(m)}).next(()=>c)}Ut(n,r){Me("SimpleDb","DELETE ALL",this.store.name);const s=this.options(n,r);s.qt=!1;const c=this.cursor(s);return this.Bt(c,(d,m,E)=>E.delete())}Kt(n,r){let s;r?s=n:(s={},r=n);const c=this.cursor(s);return this.Bt(c,r)}jt(n){const r=this.cursor({});return new Te((s,c)=>{r.onerror=d=>{const m=YE(d.target.error);c(m)},r.onsuccess=d=>{const m=d.target.result;m?n(m.primaryKey,m.value).next(E=>{E?m.continue():s()}):s()}})}Bt(n,r){const s=[];return new Te((c,d)=>{n.onerror=m=>{d(m.target.error)},n.onsuccess=m=>{const E=m.target.result;if(!E)return void c();const I=new lR(E),S=r(E.primaryKey,E.value,I);if(S instanceof Te){const M=S.catch(P=>(I.done(),Te.reject(P)));s.push(M)}I.isDone?c():null===I.Ft?E.continue():E.continue(I.Ft)}}).next(()=>Te.waitFor(s))}options(n,r){let s;return void 0!==n&&("string"==typeof n?s=n:r=n),{index:s,range:r}}cursor(n){let r="next";if(n.reverse&&(r="prev"),n.index){const s=this.store.index(n.index);return n.qt?s.openKeyCursor(n.range,r):s.openCursor(n.range,r)}return this.store.openCursor(n.range,r)}}function uc(i){return new Te((n,r)=>{i.onsuccess=s=>{n(s.target.result)},i.onerror=s=>{const c=YE(s.target.error);r(c)}})}let KE=!1;function YE(i){const n=Qi.Rt((0,kt.z$)());if(n>=12.2&&n<13){const r="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(r)>=0){const s=new Se("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return KE||(KE=!0,setTimeout(()=>{throw s},0)),s}}return i}class QE extends qI{constructor(n,r){super(),this.Qt=n,this.currentSequenceNumber=r}}function Kr(i,n){const r=ke(i);return Qi.St(r.Qt,n)}class zm{constructor(n,r,s,c){this.batchId=n,this.localWriteTime=r,this.baseMutations=s,this.mutations=c}applyToRemoteDocument(n,r){const s=r.mutationResults;for(let c=0;c<this.mutations.length;c++){const d=this.mutations[c];d.key.isEqual(n.key)&&bI(d,n,s[c])}}applyToLocalView(n){for(const r of this.baseMutations)r.key.isEqual(n.key)&&Um(r,n,this.localWriteTime);for(const r of this.mutations)r.key.isEqual(n.key)&&Um(r,n,this.localWriteTime)}applyToLocalDocumentSet(n){this.mutations.forEach(r=>{const s=n.get(r.key),c=s;this.applyToLocalView(c),s.isValidDocument()||c.convertToNoDocument(Ct.min())})}keys(){return this.mutations.reduce((n,r)=>n.add(r.key),Gt())}isEqual(n){return this.batchId===n.batchId&&Sf(this.mutations,n.mutations,(r,s)=>wI(r,s))&&Sf(this.baseMutations,n.baseMutations,(r,s)=>wI(r,s))}}class Zm{constructor(n,r,s,c){this.batch=n,this.commitVersion=r,this.mutationResults=s,this.docVersions=c}static from(n,r,s){ut(n.mutations.length===s.length);let c=RI();const d=n.mutations;for(let m=0;m<d.length;m++)c=c.insert(d[m].key,s[m].version);return new Zm(n,r,s,c)}}class Ga{constructor(n,r,s,c,d=Ct.min(),m=Ct.min(),E=Rn.EMPTY_BYTE_STRING){this.target=n,this.targetId=r,this.purpose=s,this.sequenceNumber=c,this.snapshotVersion=d,this.lastLimboFreeSnapshotVersion=m,this.resumeToken=E}withSequenceNumber(n){return new Ga(this.target,this.targetId,this.purpose,n,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(n,r){return new Ga(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,n)}withLastLimboFreeSnapshotVersion(n){return new Ga(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,n,this.resumeToken)}}class zI{constructor(n){this.Wt=n}}function JE(i,n){if(n.document)return VI(i.Wt,n.document,!!n.hasCommittedMutations);if(n.noDocument){const r=Ke.fromSegments(n.noDocument.path),s=Wf(n.noDocument.readTime),c=Mn.newNoDocument(r,s);return n.hasCommittedMutations?c.setHasCommittedMutations():c}if(n.unknownDocument){const r=Ke.fromSegments(n.unknownDocument.path),s=Wf(n.unknownDocument.version);return Mn.newUnknownDocument(r,s)}return Ye()}function XE(i,n,r){const s=ZI(r),c=n.key.path.popLast().toArray();if(n.isFoundDocument()){const d={name:jm(E=i.Wt,(I=n).key),fields:I.data.value.mapValue.fields,updateTime:oc(E,I.version.toTimestamp())};return new bn(null,null,d,n.hasCommittedMutations,s,c)}var E,I;if(n.isNoDocument()){const d=n.key.path.toArray(),m=Zf(n.version),E=n.hasCommittedMutations;return new bn(null,new $I(d,m),null,E,s,c)}if(n.isUnknownDocument()){const d=n.key.path.toArray(),m=Zf(n.version);return new bn(new qm(d,m),null,null,!0,s,c)}return Ye()}function ZI(i){const n=i.toTimestamp();return[n.seconds,n.nanoseconds]}function hR(i){const n=new Xn(i[0],i[1]);return Ct.fromTimestamp(n)}function Zf(i){const n=i.toTimestamp();return new HI(n.seconds,n.nanoseconds)}function Wf(i){const n=new Xn(i.seconds,i.nanoseconds);return Ct.fromTimestamp(n)}function Kf(i,n){const r=(n.baseMutations||[]).map(d=>$m(i.Wt,d));for(let d=0;d<n.mutations.length-1;++d){const m=n.mutations[d];d+1<n.mutations.length&&void 0!==n.mutations[d+1].transform&&(m.updateTransforms=n.mutations[d+1].transform.fieldTransforms,n.mutations.splice(d+1,1),++d)}const s=n.mutations.map(d=>$m(i.Wt,d)),c=Xn.fromMillis(n.localWriteTimeMs);return new zm(n.batchId,c,r,s)}function Wm(i){const n=Wf(i.readTime),r=void 0!==i.lastLimboFreeSnapshotVersion?Wf(i.lastLimboFreeSnapshotVersion):Ct.min();let s;var c;return void 0!==i.query.documents?(ut(1===(c=i.query).documents.length),s=xi($l(HE(c.documents[0])))):s=xi(qE(i.query)),new Ga(s,i.targetId,0,i.lastListenSequenceNumber,n,r,Rn.fromBase64String(i.resumeToken))}function fR(i,n){const r=Zf(n.snapshotVersion),s=Zf(n.lastLimboFreeSnapshotVersion);let c;c=Hl(n.target)?$E(i.Wt,n.target):GE(i.Wt,n.target);const d=n.resumeToken.toBase64();return new Wr(n.targetId,$n(n.target),r,d,n.sequenceNumber,s,c)}function WI(i){const n=qE({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?pI(n,n.limit,"L"):n}class MO{getBundleMetadata(n,r){return pR(n).get(r).next(s=>{if(s)return{id:(c=s).bundleId,createTime:Wf(c.createTime),version:c.version};var c})}saveBundleMetadata(n,r){return pR(n).put({bundleId:(s=r).id,createTime:Zf(Bn(s.createTime)),version:s.version});var s}getNamedQuery(n,r){return gR(n).get(r).next(s=>{if(s)return{name:(c=s).name,query:WI(c.bundledQuery),readTime:Wf(c.readTime)};var c})}saveNamedQuery(n,r){return gR(n).put({name:(s=r).name,readTime:Zf(Bn(s.readTime)),bundledQuery:s.bundledQuery});var s}}function pR(i){return Kr(i,Kl.store)}function gR(i){return Kr(i,Ha.store)}class OO{constructor(){this.Gt=new KI}addToCollectionParentIndex(n,r){return this.Gt.add(r),Te.resolve()}getCollectionParents(n,r){return Te.resolve(this.Gt.getEntries(r))}}class KI{constructor(){this.index={}}add(n){const r=n.lastSegment(),s=n.popLast(),c=this.index[r]||new kn(Dt.comparator),d=!c.has(s);return this.index[r]=c.add(s),d}has(n){const r=n.lastSegment(),s=n.popLast(),c=this.index[r];return c&&c.has(s)}getEntries(n){return(this.index[n]||new kn(Dt.comparator)).toArray()}}class NO{constructor(){this.zt=new KI}addToCollectionParentIndex(n,r){if(!this.zt.has(r)){const s=r.lastSegment(),c=r.popLast();n.addOnCommittedListener(()=>{this.zt.add(r)});const d={collectionId:s,parent:Zr(c)};return mR(n).put(d)}return Te.resolve()}getCollectionParents(n,r){const s=[],c=IDBKeyRange.bound([r,""],[SE(r),""],!1,!0);return mR(n).Lt(c).next(d=>{for(const m of d){if(m.collectionId!==r)break;s.push(Ko(m.parent))}return s})}}function mR(i){return Kr(i,ro.store)}const _R={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Mi{constructor(n,r,s){this.cacheSizeCollectionThreshold=n,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=s}static withCacheSize(n){return new Mi(n,Mi.DEFAULT_COLLECTION_PERCENTILE,Mi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function YI(i,n,r){const s=i.store(Jt.store),c=i.store(Er.store),d=[],m=IDBKeyRange.only(r.batchId);let E=0;const I=s.Kt({range:m},(M,P,W)=>(E++,W.delete()));d.push(I.next(()=>{ut(1===E)}));const S=[];for(const M of r.mutations){const P=Er.key(n,M.key.path,r.batchId);d.push(c.delete(P)),S.push(M.key)}return Te.waitFor(d).next(()=>S)}function Km(i){if(!i)return 0;let n;if(i.document)n=i.document;else if(i.unknownDocument)n=i.unknownDocument;else{if(!i.noDocument)throw Ye();n=i.noDocument}return JSON.stringify(n).length}Mi.DEFAULT_COLLECTION_PERCENTILE=10,Mi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mi.DEFAULT=new Mi(41943040,Mi.DEFAULT_COLLECTION_PERCENTILE,Mi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mi.DISABLED=new Mi(-1,0,0);class eb{constructor(n,r,s,c){this.userId=n,this.N=r,this.Ht=s,this.referenceDelegate=c,this.Jt={}}static Yt(n,r,s,c){ut(""!==n.uid);const d=n.isAuthenticated()?n.uid:"";return new eb(d,r,s,c)}checkEmpty(n){let r=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return cc(n).Kt({index:Jt.userMutationsIndex,range:s},(c,d,m)=>{r=!1,m.done()}).next(()=>r)}addMutationBatch(n,r,s,c){const d=Yf(n),m=cc(n);return m.add({}).next(E=>{ut("number"==typeof E);const I=new zm(E,r,s,c),S=function(W,Q,Ee){const Ne=Ee.baseMutations.map(xt=>Gf(W.Wt,xt)),Fe=Ee.mutations.map(xt=>Gf(W.Wt,xt));return new Jt(Q,Ee.batchId,Ee.localWriteTime.toMillis(),Ne,Fe)}(this.N,this.userId,I),M=[];let P=new kn((W,Q)=>vt(W.canonicalString(),Q.canonicalString()));for(const W of c){const Q=Er.key(this.userId,W.key.path,E);P=P.add(W.key.path.popLast()),M.push(m.put(S)),M.push(d.put(Q,Er.PLACEHOLDER))}return P.forEach(W=>{M.push(this.Ht.addToCollectionParentIndex(n,W))}),n.addOnCommittedListener(()=>{this.Jt[E]=I.keys()}),Te.waitFor(M).next(()=>I)})}lookupMutationBatch(n,r){return cc(n).get(r).next(s=>s?(ut(s.userId===this.userId),Kf(this.N,s)):null)}Xt(n,r){return this.Jt[r]?Te.resolve(this.Jt[r]):this.lookupMutationBatch(n,r).next(s=>{if(s){const c=s.keys();return this.Jt[r]=c,c}return null})}getNextMutationBatchAfterBatchId(n,r){const s=r+1,c=IDBKeyRange.lowerBound([this.userId,s]);let d=null;return cc(n).Kt({index:Jt.userMutationsIndex,range:c},(m,E,I)=>{E.userId===this.userId&&(ut(E.batchId>=s),d=Kf(this.N,E)),I.done()}).next(()=>d)}getHighestUnacknowledgedBatchId(n){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return cc(n).Kt({index:Jt.userMutationsIndex,range:r,reverse:!0},(c,d,m)=>{s=d.batchId,m.done()}).next(()=>s)}getAllMutationBatches(n){const r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return cc(n).Lt(Jt.userMutationsIndex,r).next(s=>s.map(c=>Kf(this.N,c)))}getAllMutationBatchesAffectingDocumentKey(n,r){const s=Er.prefixForPath(this.userId,r.path),c=IDBKeyRange.lowerBound(s),d=[];return Yf(n).Kt({range:c},(m,E,I)=>{const[S,M,P]=m,W=Ko(M);if(S===this.userId&&r.path.isEqual(W))return cc(n).get(P).next(Q=>{if(!Q)throw Ye();ut(Q.userId===this.userId),d.push(Kf(this.N,Q))});I.done()}).next(()=>d)}getAllMutationBatchesAffectingDocumentKeys(n,r){let s=new kn(vt);const c=[];return r.forEach(d=>{const m=Er.prefixForPath(this.userId,d.path),E=IDBKeyRange.lowerBound(m),I=Yf(n).Kt({range:E},(S,M,P)=>{const[W,Q,Ee]=S,Ne=Ko(Q);W===this.userId&&d.path.isEqual(Ne)?s=s.add(Ee):P.done()});c.push(I)}),Te.waitFor(c).next(()=>this.Zt(n,s))}getAllMutationBatchesAffectingQuery(n,r){const s=r.path,c=s.length+1,d=Er.prefixForPath(this.userId,s),m=IDBKeyRange.lowerBound(d);let E=new kn(vt);return Yf(n).Kt({range:m},(I,S,M)=>{const[P,W,Q]=I,Ee=Ko(W);P===this.userId&&s.isPrefixOf(Ee)?Ee.length===c&&(E=E.add(Q)):M.done()}).next(()=>this.Zt(n,E))}Zt(n,r){const s=[],c=[];return r.forEach(d=>{c.push(cc(n).get(d).next(m=>{if(null===m)throw Ye();ut(m.userId===this.userId),s.push(Kf(this.N,m))}))}),Te.waitFor(c).next(()=>s)}removeMutationBatch(n,r){return YI(n.Qt,this.userId,r).next(s=>(n.addOnCommittedListener(()=>{this.te(r.batchId)}),Te.forEach(s,c=>this.referenceDelegate.markPotentiallyOrphaned(n,c))))}te(n){delete this.Jt[n]}performConsistencyCheck(n){return this.checkEmpty(n).next(r=>{if(!r)return Te.resolve();const s=IDBKeyRange.lowerBound(Er.prefixForUser(this.userId)),c=[];return Yf(n).Kt({range:s},(d,m,E)=>{if(d[0]===this.userId){const I=Ko(d[1]);c.push(I)}else E.done()}).next(()=>{ut(0===c.length)})})}containsKey(n,r){return yR(n,this.userId,r)}ee(n){return QI(n).get(this.userId).next(r=>r||new ja(this.userId,-1,""))}}function yR(i,n,r){const s=Er.prefixForPath(n,r.path),c=s[1],d=IDBKeyRange.lowerBound(s);let m=!1;return Yf(i).Kt({range:d,qt:!0},(E,I,S)=>{const[M,P,W]=E;M===n&&P===c&&(m=!0),S.done()}).next(()=>m)}function cc(i){return Kr(i,Jt.store)}function Yf(i){return Kr(i,Er.store)}function QI(i){return Kr(i,ja.store)}class lc{constructor(n){this.ne=n}next(){return this.ne+=2,this.ne}static se(){return new lc(0)}static ie(){return new lc(-1)}}class vR{constructor(n,r){this.referenceDelegate=n,this.N=r}allocateTargetId(n){return this.re(n).next(r=>{const s=new lc(r.highestTargetId);return r.highestTargetId=s.next(),this.oe(n,r).next(()=>r.highestTargetId)})}getLastRemoteSnapshotVersion(n){return this.re(n).next(r=>Ct.fromTimestamp(new Xn(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(n){return this.re(n).next(r=>r.highestListenSequenceNumber)}setTargetsMetadata(n,r,s){return this.re(n).next(c=>(c.highestListenSequenceNumber=r,s&&(c.lastRemoteSnapshotVersion=s.toTimestamp()),r>c.highestListenSequenceNumber&&(c.highestListenSequenceNumber=r),this.oe(n,c)))}addTargetData(n,r){return this.ae(n,r).next(()=>this.re(n).next(s=>(s.targetCount+=1,this.ce(r,s),this.oe(n,s))))}updateTargetData(n,r){return this.ae(n,r)}removeTargetData(n,r){return this.removeMatchingKeysForTargetId(n,r.targetId).next(()=>Qf(n).delete(r.targetId)).next(()=>this.re(n)).next(s=>(ut(s.targetCount>0),s.targetCount-=1,this.oe(n,s)))}removeTargets(n,r,s){let c=0;const d=[];return Qf(n).Kt((m,E)=>{const I=Wm(E);I.sequenceNumber<=r&&null===s.get(I.targetId)&&(c++,d.push(this.removeTargetData(n,I)))}).next(()=>Te.waitFor(d)).next(()=>c)}forEachTarget(n,r){return Qf(n).Kt((s,c)=>{const d=Wm(c);r(d)})}re(n){return ER(n).get(ai.key).next(r=>(ut(null!==r),r))}oe(n,r){return ER(n).put(ai.key,r)}ae(n,r){return Qf(n).put(fR(this.N,r))}ce(n,r){let s=!1;return n.targetId>r.highestTargetId&&(r.highestTargetId=n.targetId,s=!0),n.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=n.sequenceNumber,s=!0),s}getTargetCount(n){return this.re(n).next(r=>r.targetCount)}getTargetData(n,r){const s=$n(r),c=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let d=null;return Qf(n).Kt({range:c,index:Wr.queryTargetsIndexName},(m,E,I)=>{const S=Wm(E);Pm(r,S.target)&&(d=S,I.done())}).next(()=>d)}addMatchingKeys(n,r,s){const c=[],d=dc(n);return r.forEach(m=>{const E=Zr(m.path);c.push(d.put(new br(s,E))),c.push(this.referenceDelegate.addReference(n,s,m))}),Te.waitFor(c)}removeMatchingKeys(n,r,s){const c=dc(n);return Te.forEach(r,d=>{const m=Zr(d.path);return Te.waitFor([c.delete([s,m]),this.referenceDelegate.removeReference(n,s,d)])})}removeMatchingKeysForTargetId(n,r){const s=dc(n),c=IDBKeyRange.bound([r],[r+1],!1,!0);return s.delete(c)}getMatchingKeysForTargetId(n,r){const s=IDBKeyRange.bound([r],[r+1],!1,!0),c=dc(n);let d=Gt();return c.Kt({range:s,qt:!0},(m,E,I)=>{const S=Ko(m[1]),M=new Ke(S);d=d.add(M)}).next(()=>d)}containsKey(n,r){const s=Zr(r.path),c=IDBKeyRange.bound([s],[SE(s)],!1,!0);let d=0;return dc(n).Kt({index:br.documentTargetsIndex,qt:!0,range:c},([m,E],I,S)=>{0!==m&&(d++,S.done())}).next(()=>d>0)}Et(n,r){return Qf(n).get(r).next(s=>s?Wm(s):null)}}function Qf(i){return Kr(i,Wr.store)}function ER(i){return Kr(i,ai.store)}function dc(i){return Kr(i,br.store)}function Ql(i){return tb.apply(this,arguments)}function tb(){return(tb=(0,be.Z)(function*(i){if(i.code!==de.FAILED_PRECONDITION||i.message!==GI)throw i;Me("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function bR([i,n],[r,s]){const c=vt(i,r);return 0===c?vt(n,s):c}class wR{constructor(n){this.ue=n,this.buffer=new kn(bR),this.he=0}le(){return++this.he}fe(n){const r=[n,this.le()];if(this.buffer.size<this.ue)this.buffer=this.buffer.add(r);else{const s=this.buffer.last();bR(r,s)<0&&(this.buffer=this.buffer.delete(s).add(r))}}get maxValue(){return this.buffer.last()[0]}}class nb{constructor(n,r){this.garbageCollector=n,this.asyncQueue=r,this.de=!1,this.we=null}start(n){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this._e(n)}stop(){this.we&&(this.we.cancel(),this.we=null)}get started(){return null!==this.we}_e(n){var r=this;const s=this.de?3e5:6e4;Me("LruGarbageCollector",`Garbage collection scheduled in ${s}ms`),this.we=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",s,(0,be.Z)(function*(){r.we=null,r.de=!0;try{yield n.collectGarbage(r.garbageCollector)}catch(c){$a(c)?Me("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",c):yield Ql(c)}yield r._e(n)}))}}class Jl{constructor(n,r){this.me=n,this.params=r}calculateTargetCount(n,r){return this.me.ge(n).next(s=>Math.floor(r/100*s))}nthSequenceNumber(n,r){if(0===r)return Te.resolve(Je.T);const s=new wR(r);return this.me.forEachTarget(n,c=>s.fe(c.sequenceNumber)).next(()=>this.me.ye(n,c=>s.fe(c))).next(()=>s.maxValue)}removeTargets(n,r,s){return this.me.removeTargets(n,r,s)}removeOrphanedDocuments(n,r){return this.me.removeOrphanedDocuments(n,r)}collect(n,r){return-1===this.params.cacheSizeCollectionThreshold?(Me("LruGarbageCollector","Garbage collection skipped; disabled"),Te.resolve(_R)):this.getCacheSize(n).next(s=>s<this.params.cacheSizeCollectionThreshold?(Me("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),_R):this.pe(n,r))}getCacheSize(n){return this.me.getCacheSize(n)}pe(n,r){let s,c,d,m,E,I,S;const M=Date.now();return this.calculateTargetCount(n,this.params.percentileToCollect).next(P=>(P>this.params.maximumSequenceNumbersToCollect?(Me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${P}`),c=this.params.maximumSequenceNumbersToCollect):c=P,m=Date.now(),this.nthSequenceNumber(n,c))).next(P=>(s=P,E=Date.now(),this.removeTargets(n,s,r))).next(P=>(d=P,I=Date.now(),this.removeOrphanedDocuments(n,s))).next(P=>(S=Date.now(),Rm()<=Hu.in.DEBUG&&Me("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${m-M}ms\n\tDetermined least recently used ${c} in `+(E-m)+`ms\n\tRemoved ${d} targets in `+(I-E)+`ms\n\tRemoved ${P} documents in `+(S-I)+`ms\nTotal Duration: ${S-M}ms`),Te.resolve({didRun:!0,sequenceNumbersCollected:c,targetsRemoved:d,documentsRemoved:P})))}}class JI{constructor(n,r){this.db=n,this.garbageCollector=new Jl(this,r)}ge(n){const r=this.Ee(n);return this.db.getTargetCache().getTargetCount(n).next(s=>r.next(c=>s+c))}Ee(n){let r=0;return this.ye(n,s=>{r++}).next(()=>r)}forEachTarget(n,r){return this.db.getTargetCache().forEachTarget(n,r)}ye(n,r){return this.Te(n,(s,c)=>r(c))}addReference(n,r,s){return Ym(n,s)}removeReference(n,r,s){return Ym(n,s)}removeTargets(n,r,s){return this.db.getTargetCache().removeTargets(n,r,s)}markPotentiallyOrphaned(n,r){return Ym(n,r)}Ie(n,r){return function(s,c){let d=!1;return QI(s).jt(m=>yR(s,m,c).next(E=>(E&&(d=!0),Te.resolve(!E)))).next(()=>d)}(n,r)}removeOrphanedDocuments(n,r){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),c=[];let d=0;return this.Te(n,(m,E)=>{if(E<=r){const I=this.Ie(n,m).next(S=>{if(!S)return d++,s.getEntry(n,m).next(()=>(s.removeEntry(m),dc(n).delete([0,Zr(m.path)])))});c.push(I)}}).next(()=>Te.waitFor(c)).next(()=>s.apply(n)).next(()=>d)}removeTarget(n,r){const s=r.withSequenceNumber(n.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(n,s)}updateLimboDocument(n,r){return Ym(n,r)}Te(n,r){const s=dc(n);let c,d=Je.T;return s.Kt({index:br.documentTargetsIndex},([m,E],{path:I,sequenceNumber:S})=>{0===m?(d!==Je.T&&r(new Ke(Ko(c)),d),d=S,c=I):d=Je.T}).next(()=>{d!==Je.T&&r(new Ke(Ko(c)),d)})}getCacheSize(n){return this.db.getRemoteDocumentCache().getSize(n)}}function Ym(i,n){return dc(i).put((s=i.currentSequenceNumber,new br(0,Zr(n.path),s)));var s}class Xl{constructor(n,r){this.mapKeyFn=n,this.equalsFn=r,this.inner={}}get(n){const r=this.mapKeyFn(n),s=this.inner[r];if(void 0!==s)for(const[c,d]of s)if(this.equalsFn(c,n))return d}has(n){return void 0!==this.get(n)}set(n,r){const s=this.mapKeyFn(n),c=this.inner[s];if(void 0!==c){for(let d=0;d<c.length;d++)if(this.equalsFn(c[d][0],n))return void(c[d]=[n,r]);c.push([n,r])}else this.inner[s]=[[n,r]]}delete(n){const r=this.mapKeyFn(n),s=this.inner[r];if(void 0===s)return!1;for(let c=0;c<s.length;c++)if(this.equalsFn(s[c][0],n))return 1===s.length?delete this.inner[r]:s.splice(c,1),!0;return!1}forEach(n){Qu(this.inner,(r,s)=>{for(const[c,d]of s)n(c,d)})}isEmpty(){return Ai(this.inner)}}class Qm{constructor(){this.changes=new Xl(n=>n.toString(),(n,r)=>n.isEqual(r)),this.changesApplied=!1}getReadTime(n){const r=this.changes.get(n);return r?r.readTime:Ct.min()}addEntry(n,r){this.assertNotApplied(),this.changes.set(n.key,{document:n,readTime:r})}removeEntry(n,r=null){this.assertNotApplied(),this.changes.set(n,{document:Mn.newInvalidDocument(n),readTime:r})}getEntry(n,r){this.assertNotApplied();const s=this.changes.get(r);return void 0!==s?Te.resolve(s.document):this.getFromCache(n,r)}getEntries(n,r){return this.getAllFromCache(n,r)}apply(n){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(n)}assertNotApplied(){}}class XI{constructor(n,r){this.N=n,this.Ht=r}addEntry(n,r,s){return hc(n).put(Jf(r),s)}removeEntry(n,r){const s=hc(n),c=Jf(r);return s.delete(c)}updateMetadata(n,r){return this.getMetadata(n).next(s=>(s.byteSize+=r,this.Ae(n,s)))}getEntry(n,r){return hc(n).get(Jf(r)).next(s=>this.Re(r,s))}be(n,r){return hc(n).get(Jf(r)).next(s=>({document:this.Re(r,s),size:Km(s)}))}getEntries(n,r){let s=Ki();return this.Pe(n,r,(c,d)=>{const m=this.Re(c,d);s=s.insert(c,m)}).next(()=>s)}ve(n,r){let s=Ki(),c=new Un(Ke.comparator);return this.Pe(n,r,(d,m)=>{const E=this.Re(d,m);s=s.insert(d,E),c=c.insert(d,Km(m))}).next(()=>({documents:s,Ve:c}))}Pe(n,r,s){if(r.isEmpty())return Te.resolve();const c=IDBKeyRange.bound(r.first().path.toArray(),r.last().path.toArray()),d=r.getIterator();let m=d.getNext();return hc(n).Kt({range:c},(E,I,S)=>{const M=Ke.fromSegments(E);for(;m&&Ke.comparator(m,M)<0;)s(m,null),m=d.getNext();m&&m.isEqual(M)&&(s(m,I),m=d.hasNext()?d.getNext():null),m?S.Mt(m.path.toArray()):S.done()}).next(()=>{for(;m;)s(m,null),m=d.hasNext()?d.getNext():null})}getDocumentsMatchingQuery(n,r,s){let c=Ki();const d=r.path.length+1,m={};if(s.isEqual(Ct.min())){const E=r.path.toArray();m.range=IDBKeyRange.lowerBound(E)}else{const E=r.path.toArray(),I=ZI(s);m.range=IDBKeyRange.lowerBound([E,I],!0),m.index=bn.collectionReadTimeIndex}return hc(n).Kt(m,(E,I,S)=>{if(E.length!==d)return;const M=JE(this.N,I);r.path.isPrefixOf(M.key.path)?Ff(r,M)&&(c=c.insert(M.key,M)):S.done()}).next(()=>c)}newChangeBuffer(n){return new eT(this,!!n&&n.trackRemovals)}getSize(n){return this.getMetadata(n).next(r=>r.byteSize)}getMetadata(n){return rb(n).get(Yo.key).next(r=>(ut(!!r),r))}Ae(n,r){return rb(n).put(Yo.key,r)}Re(n,r){if(r){const s=JE(this.N,r);if(!s.isNoDocument()||!s.version.isEqual(Ct.min()))return s}return Mn.newInvalidDocument(n)}}class eT extends Qm{constructor(n,r){super(),this.Se=n,this.trackRemovals=r,this.De=new Xl(s=>s.toString(),(s,c)=>s.isEqual(c))}applyChanges(n){const r=[];let s=0,c=new kn((d,m)=>vt(d.canonicalString(),m.canonicalString()));return this.changes.forEach((d,m)=>{const E=this.De.get(d);if(m.document.isValidDocument()){const I=XE(this.Se.N,m.document,this.getReadTime(d));c=c.add(d.path.popLast()),s+=Km(I)-E,r.push(this.Se.addEntry(n,d,I))}else if(s-=E,this.trackRemovals){const I=XE(this.Se.N,Mn.newNoDocument(d,Ct.min()),this.getReadTime(d));r.push(this.Se.addEntry(n,d,I))}else r.push(this.Se.removeEntry(n,d))}),c.forEach(d=>{r.push(this.Se.Ht.addToCollectionParentIndex(n,d))}),r.push(this.Se.updateMetadata(n,s)),Te.waitFor(r)}getFromCache(n,r){return this.Se.be(n,r).next(s=>(this.De.set(r,s.size),s.document))}getAllFromCache(n,r){return this.Se.ve(n,r).next(({documents:s,Ve:c})=>(c.forEach((d,m)=>{this.De.set(d,m)}),s))}}function rb(i){return Kr(i,Yo.store)}function hc(i){return Kr(i,bn.store)}function Jf(i){return i.path.toArray()}class Jm{constructor(n){this.N=n}Ct(n,r,s,c){ut(s<c&&s>=0&&c<=11);const d=new zf("createOrUpgrade",r);var E;s<1&&c>=1&&(n.createObjectStore(Ri.store),(E=n).createObjectStore(ja.store,{keyPath:ja.keyPath}),E.createObjectStore(Jt.store,{keyPath:Jt.keyPath,autoIncrement:!0}).createIndex(Jt.userMutationsIndex,Jt.userMutationsKeyPath,{unique:!0}),E.createObjectStore(Er.store),ib(n),function(E){E.createObjectStore(bn.store)}(n));let m=Te.resolve();return s<3&&c>=3&&(0!==s&&(function(E){E.deleteObjectStore(br.store),E.deleteObjectStore(Wr.store),E.deleteObjectStore(ai.store)}(n),ib(n)),m=m.next(()=>function(E){const I=E.store(ai.store),S=new ai(0,0,Ct.min().toTimestamp(),0);return I.put(ai.key,S)}(d))),s<4&&c>=4&&(0!==s&&(m=m.next(()=>function(E,I){return I.store(Jt.store).Lt().next(S=>{E.deleteObjectStore(Jt.store),E.createObjectStore(Jt.store,{keyPath:Jt.keyPath,autoIncrement:!0}).createIndex(Jt.userMutationsIndex,Jt.userMutationsKeyPath,{unique:!0});const M=I.store(Jt.store),P=S.map(W=>M.put(W));return Te.waitFor(P)})}(n,d))),m=m.next(()=>{!function(E){E.createObjectStore(io.store,{keyPath:io.keyPath})}(n)})),s<5&&c>=5&&(m=m.next(()=>this.Ce(d))),s<6&&c>=6&&(m=m.next(()=>(function(E){E.createObjectStore(Yo.store)}(n),this.Ne(d)))),s<7&&c>=7&&(m=m.next(()=>this.xe(d))),s<8&&c>=8&&(m=m.next(()=>this.ke(n,d))),s<9&&c>=9&&(m=m.next(()=>{(function(E){E.objectStoreNames.contains("remoteDocumentChanges")&&E.deleteObjectStore("remoteDocumentChanges")})(n),function(E){const I=E.objectStore(bn.store);I.createIndex(bn.readTimeIndex,bn.readTimeIndexPath,{unique:!1}),I.createIndex(bn.collectionReadTimeIndex,bn.collectionReadTimeIndexPath,{unique:!1})}(r)})),s<10&&c>=10&&(m=m.next(()=>this.$e(d))),s<11&&c>=11&&(m=m.next(()=>{(function(E){E.createObjectStore(Kl.store,{keyPath:Kl.keyPath})})(n),function(E){E.createObjectStore(Ha.store,{keyPath:Ha.keyPath})}(n)})),m}Ne(n){let r=0;return n.store(bn.store).Kt((s,c)=>{r+=Km(c)}).next(()=>{const s=new Yo(r);return n.store(Yo.store).put(Yo.key,s)})}Ce(n){const r=n.store(ja.store),s=n.store(Jt.store);return r.Lt().next(c=>Te.forEach(c,d=>{const m=IDBKeyRange.bound([d.userId,-1],[d.userId,d.lastAcknowledgedBatchId]);return s.Lt(Jt.userMutationsIndex,m).next(E=>Te.forEach(E,I=>{ut(I.userId===d.userId);const S=Kf(this.N,I);return YI(n,d.userId,S).next(()=>{})}))}))}xe(n){const r=n.store(br.store),s=n.store(bn.store);return n.store(ai.store).get(ai.key).next(c=>{const d=[];return s.Kt((m,E)=>{const I=new Dt(m),S=[0,Zr(I)];d.push(r.get(S).next(M=>M?Te.resolve():r.put(new br(0,Zr(I),c.highestListenSequenceNumber))))}).next(()=>Te.waitFor(d))})}ke(n,r){n.createObjectStore(ro.store,{keyPath:ro.keyPath});const s=r.store(ro.store),c=new KI,d=m=>{if(c.add(m)){const E=m.lastSegment(),I=m.popLast();return s.put({collectionId:E,parent:Zr(I)})}};return r.store(bn.store).Kt({qt:!0},(m,E)=>{const I=new Dt(m);return d(I.popLast())}).next(()=>r.store(Er.store).Kt({qt:!0},([m,E,I],S)=>{const M=Ko(E);return d(M.popLast())}))}$e(n){const r=n.store(Wr.store);return r.Kt((s,c)=>{const d=Wm(c),m=fR(this.N,d);return r.put(m)})}}function ib(i){i.createObjectStore(br.store,{keyPath:br.keyPath}).createIndex(br.documentTargetsIndex,br.documentTargetsKeyPath,{unique:!0}),i.createObjectStore(Wr.store,{keyPath:Wr.keyPath}).createIndex(Wr.queryTargetsIndexName,Wr.queryTargetsKeyPath,{unique:!0}),i.createObjectStore(ai.store)}const tT="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class nT{constructor(n,r,s,c,d,m,E,I,S,M){if(this.allowTabSynchronization=n,this.persistenceKey=r,this.clientId=s,this.Oe=d,this.window=m,this.document=E,this.Fe=S,this.Me=M,this.Le=null,this.Be=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ue=null,this.inForeground=!1,this.qe=null,this.Ke=null,this.je=Number.NEGATIVE_INFINITY,this.Qe=P=>Promise.resolve(),!nT.bt())throw new Se(de.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new JI(this,c),this.We=r+"main",this.N=new zI(I),this.Ge=new Qi(this.We,11,new Jm(this.N)),this.ze=new vR(this.referenceDelegate,this.N),this.Ht=new NO,this.He=new XI(this.N,this.Ht),this.Je=new MO,this.window&&this.window.localStorage?this.Ye=this.window.localStorage:(this.Ye=null,!1===M&&Vn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Xe().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Se(de.FAILED_PRECONDITION,tT);return this.Ze(),this.tn(),this.en(),this.runTransaction("getHighestListenSequenceNumber","readonly",n=>this.ze.getHighestSequenceNumber(n))}).then(n=>{this.Le=new Je(n,this.Fe)}).then(()=>{this.Be=!0}).catch(n=>(this.Ge&&this.Ge.close(),Promise.reject(n)))}nn(n){var r=this;return this.Qe=function(){var s=(0,be.Z)(function*(c){if(r.started)return n(c)});return function(c){return s.apply(this,arguments)}}(),n(this.isPrimary)}setDatabaseDeletedListener(n){this.Ge.xt(function(){var r=(0,be.Z)(function*(s){null===s.newVersion&&(yield n())});return function(s){return r.apply(this,arguments)}}())}setNetworkEnabled(n){var r=this;this.networkEnabled!==n&&(this.networkEnabled=n,this.Oe.enqueueAndForget((0,be.Z)(function*(){r.started&&(yield r.Xe())})))}Xe(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",n=>e_(n).put(new io(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.sn(n).next(r=>{r||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)))})}).next(()=>this.rn(n)).next(r=>this.isPrimary&&!r?this.on(n).next(()=>!1):!!r&&this.an(n).next(()=>!0))).catch(n=>{if($a(n))return Me("IndexedDbPersistence","Failed to extend owner lease: ",n),this.isPrimary;if(!this.allowTabSynchronization)throw n;return Me("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(n=>{this.isPrimary!==n&&this.Oe.enqueueRetryable(()=>this.Qe(n)),this.isPrimary=n})}sn(n){return Xm(n).get(Ri.key).next(r=>Te.resolve(this.cn(r)))}un(n){return e_(n).delete(this.clientId)}hn(){var n=this;return(0,be.Z)(function*(){if(n.isPrimary&&!n.ln(n.je,18e5)){n.je=Date.now();const r=yield n.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const c=Kr(s,io.store);return c.Lt().next(d=>{const m=n.fn(d,18e5),E=d.filter(I=>-1===m.indexOf(I));return Te.forEach(E,I=>c.delete(I.clientId)).next(()=>E)})}).catch(()=>[]);if(n.Ye)for(const s of r)n.Ye.removeItem(n.dn(s.clientId))}})()}en(){this.Ke=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Xe().then(()=>this.hn()).then(()=>this.en()))}cn(n){return!!n&&n.ownerId===this.clientId}rn(n){return this.Me?Te.resolve(!0):Xm(n).get(Ri.key).next(r=>{if(null!==r&&this.ln(r.leaseTimestampMs,5e3)&&!this.wn(r.ownerId)){if(this.cn(r)&&this.networkEnabled)return!0;if(!this.cn(r)){if(!r.allowTabSynchronization)throw new Se(de.FAILED_PRECONDITION,tT);return!1}}return!(!this.networkEnabled||!this.inForeground)||e_(n).Lt().next(s=>void 0===this.fn(s,5e3).find(c=>{if(this.clientId!==c.clientId){const m=!this.inForeground&&c.inForeground,E=this.networkEnabled===c.networkEnabled;if(!this.networkEnabled&&c.networkEnabled||m&&E)return!0}return!1}))}).next(r=>(this.isPrimary!==r&&Me("IndexedDbPersistence",`Client ${r?"is":"is not"} eligible for a primary lease.`),r))}shutdown(){var n=this;return(0,be.Z)(function*(){n.Be=!1,n._n(),n.Ke&&(n.Ke.cancel(),n.Ke=null),n.mn(),n.gn(),yield n.Ge.runTransaction("shutdown","readwrite",[Ri.store,io.store],r=>{const s=new QE(r,Je.T);return n.on(s).next(()=>n.un(s))}),n.Ge.close(),n.yn()})()}fn(n,r){return n.filter(s=>this.ln(s.updateTimeMs,r)&&!this.wn(s.clientId))}pn(){return this.runTransaction("getActiveClients","readonly",n=>e_(n).Lt().next(r=>this.fn(r,18e5).map(s=>s.clientId)))}get started(){return this.Be}getMutationQueue(n){return eb.Yt(n,this.N,this.Ht,this.referenceDelegate)}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getIndexManager(){return this.Ht}getBundleCache(){return this.Je}runTransaction(n,r,s){let d;return Me("IndexedDbPersistence","Starting transaction:",n),this.Ge.runTransaction(n,"readonly"===r?"readonly":"readwrite",WE,m=>(d=new QE(m,this.Le?this.Le.next():Je.T),"readwrite-primary"===r?this.sn(d).next(E=>!!E||this.rn(d)).next(E=>{if(!E)throw Vn(`Failed to obtain primary lease for action '${n}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)),new Se(de.FAILED_PRECONDITION,GI);return s(d)}).next(E=>this.an(d).next(()=>E)):this.En(d).next(()=>s(d)))).then(m=>(d.raiseOnCommittedEvent(),m))}En(n){return Xm(n).get(Ri.key).next(r=>{if(null!==r&&this.ln(r.leaseTimestampMs,5e3)&&!this.wn(r.ownerId)&&!this.cn(r)&&!(this.Me||this.allowTabSynchronization&&r.allowTabSynchronization))throw new Se(de.FAILED_PRECONDITION,tT)})}an(n){const r=new Ri(this.clientId,this.allowTabSynchronization,Date.now());return Xm(n).put(Ri.key,r)}static bt(){return Qi.bt()}on(n){const r=Xm(n);return r.get(Ri.key).next(s=>this.cn(s)?(Me("IndexedDbPersistence","Releasing primary lease."),r.delete(Ri.key)):Te.resolve())}ln(n,r){const s=Date.now();return!(n<s-r||n>s&&(Vn(`Detected an update time that is in the future: ${n} > ${s}`),1))}Ze(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Xe()))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)}mn(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)}tn(){var n;"function"==typeof(null===(n=this.window)||void 0===n?void 0:n.addEventListener)&&(this.Ue=()=>{this._n(),(0,kt.G6)()&&navigator.appVersion.match("Version/14")&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ue))}gn(){this.Ue&&(this.window.removeEventListener("pagehide",this.Ue),this.Ue=null)}wn(n){var r;try{const s=null!==(null===(r=this.Ye)||void 0===r?void 0:r.getItem(this.dn(n)));return Me("IndexedDbPersistence",`Client '${n}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return Vn("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}_n(){if(this.Ye)try{this.Ye.setItem(this.dn(this.clientId),String(Date.now()))}catch(n){Vn("Failed to set zombie client id.",n)}}yn(){if(this.Ye)try{this.Ye.removeItem(this.dn(this.clientId))}catch(n){}}dn(n){return`firestore_zombie_${this.persistenceKey}_${n}`}}function Xm(i){return Kr(i,Ri.store)}function e_(i){return Kr(i,io.store)}function rT(i,n){let r=i.projectId;return i.isDefaultDatabase||(r+="."+i.database),"firestore/"+n+"/"+r+"/"}class t_{constructor(n,r){this.progress=n,this.Tn=r}}class iT{constructor(n,r,s){this.He=n,this.In=r,this.Ht=s}An(n,r){return this.In.getAllMutationBatchesAffectingDocumentKey(n,r).next(s=>this.Rn(n,r,s))}Rn(n,r,s){return this.He.getEntry(n,r).next(c=>{for(const d of s)d.applyToLocalView(c);return c})}bn(n,r){n.forEach((s,c)=>{for(const d of r)d.applyToLocalView(c)})}Pn(n,r){return this.He.getEntries(n,r).next(s=>this.vn(n,s).next(()=>s))}vn(n,r){return this.In.getAllMutationBatchesAffectingDocumentKeys(n,r).next(s=>this.bn(r,s))}getDocumentsMatchingQuery(n,r,s){return Ke.isDocumentKey((c=r).path)&&null===c.collectionGroup&&0===c.filters.length?this.Vn(n,r.path):nc(r)?this.Sn(n,r,s):this.Dn(n,r,s);var c}Vn(n,r){return this.An(n,new Ke(r)).next(s=>{let c=VE();return s.isFoundDocument()&&(c=c.insert(s.key,s)),c})}Sn(n,r,s){const c=r.collectionGroup;let d=VE();return this.Ht.getCollectionParents(n,c).next(m=>Te.forEach(m,E=>{const I=(S=r,M=E.child(c),new Wo(M,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt));var S,M;return this.Dn(n,I,s).next(S=>{S.forEach((M,P)=>{d=d.insert(M,P)})})}).next(()=>d))}Dn(n,r,s){let c,d;return this.He.getDocumentsMatchingQuery(n,r,s).next(m=>(c=m,this.In.getAllMutationBatchesAffectingQuery(n,r))).next(m=>(d=m,this.Cn(n,d,c).next(E=>{c=E;for(const I of d)for(const S of I.mutations){const M=S.key;let P=c.get(M);null==P&&(P=Mn.newInvalidDocument(M),c=c.insert(M,P)),Um(S,P,I.localWriteTime),P.isFoundDocument()||(c=c.remove(M))}}))).next(()=>(c.forEach((m,E)=>{Ff(r,E)||(c=c.remove(m))}),c))}Cn(n,r,s){let c=Gt();for(const m of r)for(const E of m.mutations)E instanceof Ba&&null===s.get(E.key)&&(c=c.add(E.key));let d=s;return this.He.getEntries(n,c).next(m=>(m.forEach((E,I)=>{I.isFoundDocument()&&(d=d.insert(E,I))}),d))}}class sT{constructor(n,r,s,c){this.targetId=n,this.fromCache=r,this.Nn=s,this.xn=c}static kn(n,r){let s=Gt(),c=Gt();for(const d of r.docChanges)switch(d.type){case 0:s=s.add(d.doc.key);break;case 1:c=c.add(d.doc.key)}return new sT(n,r.fromCache,s,c)}}class CR{$n(n){this.On=n}getDocumentsMatchingQuery(n,r,s,c){return 0===(d=r).filters.length&&null===d.limit&&null==d.startAt&&null==d.endAt&&(0===d.explicitOrderBy.length||1===d.explicitOrderBy.length&&d.explicitOrderBy[0].field.isKeyField())||s.isEqual(Ct.min())?this.Fn(n,r):this.On.Pn(n,c).next(d=>{const m=this.Mn(r,d);return(Va(r)||Fm(r))&&this.Ln(r.limitType,m,c,s)?this.Fn(n,r):(Rm()<=Hu.in.DEBUG&&Me("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),OE(r)),this.On.getDocumentsMatchingQuery(n,r,s).next(E=>(m.forEach(I=>{E=E.insert(I.key,I)}),E)))});var d}Mn(n,r){let s=new kn(NE(n));return r.forEach((c,d)=>{Ff(n,d)&&(s=s.add(d))}),s}Ln(n,r,s,c){if(s.size!==r.size)return!0;const d="F"===n?r.last():r.first();return!!d&&(d.hasPendingWrites||d.version.compareTo(c)>0)}Fn(n,r){return Rm()<=Hu.in.DEBUG&&Me("QueryEngine","Using full collection scan to execute query:",OE(r)),this.On.getDocumentsMatchingQuery(n,r,Ct.min())}}class sb{constructor(n,r,s,c){this.persistence=n,this.Bn=r,this.N=c,this.Un=new Un(vt),this.qn=new Xl(d=>$n(d),Pm),this.Kn=Ct.min(),this.In=n.getMutationQueue(s),this.jn=n.getRemoteDocumentCache(),this.ze=n.getTargetCache(),this.Qn=new iT(this.jn,this.In,this.persistence.getIndexManager()),this.Je=n.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(n){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>n.collect(r,this.Un))}}function oT(i,n,r,s){return new sb(i,n,r,s)}function DR(i,n){return aT.apply(this,arguments)}function aT(){return(aT=(0,be.Z)(function*(i,n){const r=ke(i);let s=r.In,c=r.Qn;const d=yield r.persistence.runTransaction("Handle user change","readonly",m=>{let E;return r.In.getAllMutationBatches(m).next(I=>(E=I,s=r.persistence.getMutationQueue(n),c=new iT(r.jn,s,r.persistence.getIndexManager()),s.getAllMutationBatches(m))).next(I=>{const S=[],M=[];let P=Gt();for(const W of E){S.push(W.batchId);for(const Q of W.mutations)P=P.add(Q.key)}for(const W of I){M.push(W.batchId);for(const Q of W.mutations)P=P.add(Q.key)}return c.Pn(m,P).next(W=>({Wn:W,removedBatchIds:S,addedBatchIds:M}))})});return r.In=s,r.Qn=c,r.Bn.$n(r.Qn),d})).apply(this,arguments)}function IR(i,n){const r=ke(i);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const c=n.batch.keys(),d=r.jn.newChangeBuffer({trackRemovals:!0});return function(m,E,I,S){const M=I.batch,P=M.keys();let W=Te.resolve();return P.forEach(Q=>{W=W.next(()=>S.getEntry(E,Q)).next(Ee=>{const Ne=I.docVersions.get(Q);ut(null!==Ne),Ee.version.compareTo(Ne)<0&&(M.applyToRemoteDocument(Ee,I),Ee.isValidDocument()&&S.addEntry(Ee,I.commitVersion))})}),W.next(()=>m.In.removeMutationBatch(E,M))}(r,s,n,d).next(()=>d.apply(s)).next(()=>r.In.performConsistencyCheck(s)).next(()=>r.Qn.Pn(s,c))})}function TR(i){const n=ke(i);return n.persistence.runTransaction("Get last remote snapshot version","readonly",r=>n.ze.getLastRemoteSnapshotVersion(r))}function uT(i,n){const r=ke(i),s=n.snapshotVersion;let c=r.Un;return r.persistence.runTransaction("Apply remote event","readwrite-primary",d=>{const m=r.jn.newChangeBuffer({trackRemovals:!0});c=r.Un;const E=[];n.targetChanges.forEach((S,M)=>{const P=c.get(M);if(!P)return;E.push(r.ze.removeMatchingKeys(d,S.removedDocuments,M).next(()=>r.ze.addMatchingKeys(d,S.addedDocuments,M)));const W=S.resumeToken;if(W.approximateByteSize()>0){const Q=P.withResumeToken(W,s).withSequenceNumber(d.currentSequenceNumber);c=c.insert(M,Q),Ee=P,Fe=S,ut((Ne=Q).resumeToken.approximateByteSize()>0),(0===Ee.resumeToken.approximateByteSize()||Ne.snapshotVersion.toMicroseconds()-Ee.snapshotVersion.toMicroseconds()>=3e8||Fe.addedDocuments.size+Fe.modifiedDocuments.size+Fe.removedDocuments.size>0)&&E.push(r.ze.updateTargetData(d,Q))}var Ee,Ne,Fe});let I=Ki();if(n.documentUpdates.forEach((S,M)=>{n.resolvedLimboDocuments.has(S)&&E.push(r.persistence.referenceDelegate.updateLimboDocument(d,S))}),E.push(cT(d,m,n.documentUpdates,s,void 0).next(S=>{I=S})),!s.isEqual(Ct.min())){const S=r.ze.getLastRemoteSnapshotVersion(d).next(M=>r.ze.setTargetsMetadata(d,d.currentSequenceNumber,s));E.push(S)}return Te.waitFor(E).next(()=>m.apply(d)).next(()=>r.Qn.vn(d,I)).next(()=>I)}).then(d=>(r.Un=c,d))}function cT(i,n,r,s,c){let d=Gt();return r.forEach(m=>d=d.add(m)),n.getEntries(i,d).next(m=>{let E=Ki();return r.forEach((I,S)=>{const M=m.get(I),P=(null==c?void 0:c.get(I))||s;S.isNoDocument()&&S.version.isEqual(Ct.min())?(n.removeEntry(I,P),E=E.insert(I,S)):!M.isValidDocument()||S.version.compareTo(M.version)>0||0===S.version.compareTo(M.version)&&M.hasPendingWrites?(n.addEntry(S,P),E=E.insert(I,S)):Me("LocalStore","Ignoring outdated watch update for ",I,". Current version:",M.version," Watch version:",S.version)}),E})}function PO(i,n){const r=ke(i);return r.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===n&&(n=-1),r.In.getNextMutationBatchAfterBatchId(s,n)))}function Xf(i,n){const r=ke(i);return r.persistence.runTransaction("Allocate target","readwrite",s=>{let c;return r.ze.getTargetData(s,n).next(d=>d?(c=d,Te.resolve(c)):r.ze.allocateTargetId(s).next(m=>(c=new Ga(n,m,0,s.currentSequenceNumber),r.ze.addTargetData(s,c).next(()=>c))))}).then(s=>{const c=r.Un.get(s.targetId);return(null===c||s.snapshotVersion.compareTo(c.snapshotVersion)>0)&&(r.Un=r.Un.insert(s.targetId,s),r.qn.set(n,s.targetId)),s})}function ed(i,n,r){return fc.apply(this,arguments)}function fc(){return(fc=(0,be.Z)(function*(i,n,r){const s=ke(i),c=s.Un.get(n),d=r?"readwrite":"readwrite-primary";try{r||(yield s.persistence.runTransaction("Release target",d,m=>s.persistence.referenceDelegate.removeTarget(m,c)))}catch(m){if(!$a(m))throw m;Me("LocalStore",`Failed to update sequence numbers for target ${n}: ${m}`)}s.Un=s.Un.remove(n),s.qn.delete(c.target)})).apply(this,arguments)}function n_(i,n,r){const s=ke(i);let c=Ct.min(),d=Gt();return s.persistence.runTransaction("Execute query","readonly",m=>function(E,I,S){const M=ke(E),P=M.qn.get(S);return void 0!==P?Te.resolve(M.Un.get(P)):M.ze.getTargetData(I,S)}(s,m,xi(n)).next(E=>{if(E)return c=E.lastLimboFreeSnapshotVersion,s.ze.getMatchingKeysForTargetId(m,E.targetId).next(I=>{d=I})}).next(()=>s.Bn.getDocumentsMatchingQuery(m,n,r?c:Ct.min(),r?d:Gt())).next(E=>({documents:E,Gn:d})))}function lT(i,n){const r=ke(i),s=ke(r.ze),c=r.Un.get(n);return c?Promise.resolve(c.target):r.persistence.runTransaction("Get target data","readonly",d=>s.Et(d,n).next(m=>m?m.target:null))}function dT(i){const n=ke(i);return n.persistence.runTransaction("Get new document changes","readonly",r=>function(s,c,d){const m=ke(s);let E=Ki(),I=ZI(d);const S=hc(c),M=IDBKeyRange.lowerBound(I,!0);return S.Kt({index:bn.readTimeIndex,range:M},(P,W)=>{const Q=JE(m.N,W);E=E.insert(Q.key,Q),I=W.readTime}).next(()=>({Tn:E,readTime:hR(I)}))}(n.jn,r,n.Kn)).then(({Tn:r,readTime:s})=>(n.Kn=s,r))}function ab(){return(ab=(0,be.Z)(function*(i){const n=ke(i);return n.persistence.runTransaction("Synchronize last document change read time","readonly",r=>function(s){const c=hc(s);let d=Ct.min();return c.Kt({index:bn.readTimeIndex,reverse:!0},(m,E,I)=>{E.readTime&&(d=hR(E.readTime)),I.done()}).next(()=>d)}(r)).then(r=>{n.Kn=r})})).apply(this,arguments)}function ub(){return(ub=(0,be.Z)(function*(i,n,r,s){const c=ke(i);let d=Gt(),m=Ki(),E=RI();for(const M of r){const P=n.zn(M.metadata.name);M.document&&(d=d.add(P)),m=m.insert(P,n.Hn(M)),E=E.insert(P,n.Jn(M.metadata.readTime))}const I=c.jn.newChangeBuffer({trackRemovals:!0}),S=yield Xf(c,(M=s,xi($l(Dt.fromString(`__bundle__/docs/${M}`)))));var M;return c.persistence.runTransaction("Apply bundle documents","readwrite",M=>cT(M,I,m,Ct.min(),E).next(P=>(I.apply(M),P)).next(P=>c.ze.removeMatchingKeysForTargetId(M,S.targetId).next(()=>c.ze.addMatchingKeys(M,d,S.targetId)).next(()=>c.Qn.vn(M,P)).next(()=>P)))})).apply(this,arguments)}function cb(i,n){return lb.apply(this,arguments)}function lb(){return(lb=(0,be.Z)(function*(i,n,r=Gt()){const s=yield Xf(i,xi(WI(n.bundledQuery))),c=ke(i);return c.persistence.runTransaction("Save named query","readwrite",d=>{const m=Bn(n.readTime);if(s.snapshotVersion.compareTo(m)>=0)return c.Je.saveNamedQuery(d,n);const E=s.withResumeToken(Rn.EMPTY_BYTE_STRING,m);return c.Un=c.Un.insert(E.targetId,E),c.ze.updateTargetData(d,E).next(()=>c.ze.removeMatchingKeysForTargetId(d,s.targetId)).next(()=>c.ze.addMatchingKeys(d,r,s.targetId)).next(()=>c.Je.saveNamedQuery(d,n))})})).apply(this,arguments)}class SR{constructor(n){this.N=n,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(n,r){return Te.resolve(this.Yn.get(r))}saveBundleMetadata(n,r){var s;return this.Yn.set(r.id,{id:(s=r).id,version:s.version,createTime:Bn(s.createTime)}),Te.resolve()}getNamedQuery(n,r){return Te.resolve(this.Xn.get(r))}saveNamedQuery(n,r){return this.Xn.set(r.name,{name:(s=r).name,query:WI(s.bundledQuery),readTime:Bn(s.readTime)}),Te.resolve();var s}}class ep{constructor(){this.Zn=new kn(er.ts),this.es=new kn(er.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(n,r){const s=new er(n,r);this.Zn=this.Zn.add(s),this.es=this.es.add(s)}ss(n,r){n.forEach(s=>this.addReference(s,r))}removeReference(n,r){this.rs(new er(n,r))}os(n,r){n.forEach(s=>this.removeReference(s,r))}cs(n){const r=new Ke(new Dt([])),s=new er(r,n),c=new er(r,n+1),d=[];return this.es.forEachInRange([s,c],m=>{this.rs(m),d.push(m.key)}),d}us(){this.Zn.forEach(n=>this.rs(n))}rs(n){this.Zn=this.Zn.delete(n),this.es=this.es.delete(n)}hs(n){const r=new Ke(new Dt([])),s=new er(r,n),c=new er(r,n+1);let d=Gt();return this.es.forEachInRange([s,c],m=>{d=d.add(m.key)}),d}containsKey(n){const r=new er(n,0),s=this.Zn.firstAfterOrEqual(r);return null!==s&&n.isEqual(s.key)}}class er{constructor(n,r){this.key=n,this.ls=r}static ts(n,r){return Ke.comparator(n.key,r.key)||vt(n.ls,r.ls)}static ns(n,r){return vt(n.ls,r.ls)||Ke.comparator(n.key,r.key)}}class hT{constructor(n,r){this.Ht=n,this.referenceDelegate=r,this.In=[],this.fs=1,this.ds=new kn(er.ts)}checkEmpty(n){return Te.resolve(0===this.In.length)}addMutationBatch(n,r,s,c){const d=this.fs;this.fs++;const m=new zm(d,r,s,c);this.In.push(m);for(const E of c)this.ds=this.ds.add(new er(E.key,d)),this.Ht.addToCollectionParentIndex(n,E.key.path.popLast());return Te.resolve(m)}lookupMutationBatch(n,r){return Te.resolve(this.ws(r))}getNextMutationBatchAfterBatchId(n,r){const c=this._s(r+1),d=c<0?0:c;return Te.resolve(this.In.length>d?this.In[d]:null)}getHighestUnacknowledgedBatchId(){return Te.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(n){return Te.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(n,r){const s=new er(r,0),c=new er(r,Number.POSITIVE_INFINITY),d=[];return this.ds.forEachInRange([s,c],m=>{const E=this.ws(m.ls);d.push(E)}),Te.resolve(d)}getAllMutationBatchesAffectingDocumentKeys(n,r){let s=new kn(vt);return r.forEach(c=>{const d=new er(c,0),m=new er(c,Number.POSITIVE_INFINITY);this.ds.forEachInRange([d,m],E=>{s=s.add(E.ls)})}),Te.resolve(this.gs(s))}getAllMutationBatchesAffectingQuery(n,r){const s=r.path,c=s.length+1;let d=s;Ke.isDocumentKey(d)||(d=d.child(""));const m=new er(new Ke(d),0);let E=new kn(vt);return this.ds.forEachWhile(I=>{const S=I.key.path;return!!s.isPrefixOf(S)&&(S.length===c&&(E=E.add(I.ls)),!0)},m),Te.resolve(this.gs(E))}gs(n){const r=[];return n.forEach(s=>{const c=this.ws(s);null!==c&&r.push(c)}),r}removeMutationBatch(n,r){ut(0===this.ys(r.batchId,"removed")),this.In.shift();let s=this.ds;return Te.forEach(r.mutations,c=>{const d=new er(c.key,r.batchId);return s=s.delete(d),this.referenceDelegate.markPotentiallyOrphaned(n,c.key)}).next(()=>{this.ds=s})}te(n){}containsKey(n,r){const s=new er(r,0),c=this.ds.firstAfterOrEqual(s);return Te.resolve(r.isEqual(c&&c.key))}performConsistencyCheck(n){return Te.resolve()}ys(n,r){return this._s(n)}_s(n){return 0===this.In.length?0:n-this.In[0].batchId}ws(n){const r=this._s(n);return r<0||r>=this.In.length?null:this.In[r]}}class AR{constructor(n,r){this.Ht=n,this.ps=r,this.docs=new Un(Ke.comparator),this.size=0}addEntry(n,r,s){const c=r.key,d=this.docs.get(c),m=d?d.size:0,E=this.ps(r);return this.docs=this.docs.insert(c,{document:r.clone(),size:E,readTime:s}),this.size+=E-m,this.Ht.addToCollectionParentIndex(n,c.path.popLast())}removeEntry(n){const r=this.docs.get(n);r&&(this.docs=this.docs.remove(n),this.size-=r.size)}getEntry(n,r){const s=this.docs.get(r);return Te.resolve(s?s.document.clone():Mn.newInvalidDocument(r))}getEntries(n,r){let s=Ki();return r.forEach(c=>{const d=this.docs.get(c);s=s.insert(c,d?d.document.clone():Mn.newInvalidDocument(c))}),Te.resolve(s)}getDocumentsMatchingQuery(n,r,s){let c=Ki();const d=new Ke(r.path.child("")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:E,value:{document:I,readTime:S}}=m.getNext();if(!r.path.isPrefixOf(E.path))break;S.compareTo(s)<=0||Ff(r,I)&&(c=c.insert(I.key,I.clone()))}return Te.resolve(c)}Es(n,r){return Te.forEach(this.docs,s=>r(s))}newChangeBuffer(n){return new fT(this)}getSize(n){return Te.resolve(this.size)}}class fT extends Qm{constructor(n){super(),this.Se=n}applyChanges(n){const r=[];return this.changes.forEach((s,c)=>{c.document.isValidDocument()?r.push(this.Se.addEntry(n,c.document,this.getReadTime(s))):this.Se.removeEntry(s)}),Te.waitFor(r)}getFromCache(n,r){return this.Se.getEntry(n,r)}getAllFromCache(n,r){return this.Se.getEntries(n,r)}}class pT{constructor(n){this.persistence=n,this.Ts=new Xl(r=>$n(r),Pm),this.lastRemoteSnapshotVersion=Ct.min(),this.highestTargetId=0,this.Is=0,this.As=new ep,this.targetCount=0,this.Rs=lc.se()}forEachTarget(n,r){return this.Ts.forEach((s,c)=>r(c)),Te.resolve()}getLastRemoteSnapshotVersion(n){return Te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(n){return Te.resolve(this.Is)}allocateTargetId(n){return this.highestTargetId=this.Rs.next(),Te.resolve(this.highestTargetId)}setTargetsMetadata(n,r,s){return s&&(this.lastRemoteSnapshotVersion=s),r>this.Is&&(this.Is=r),Te.resolve()}ae(n){this.Ts.set(n.target,n);const r=n.targetId;r>this.highestTargetId&&(this.Rs=new lc(r),this.highestTargetId=r),n.sequenceNumber>this.Is&&(this.Is=n.sequenceNumber)}addTargetData(n,r){return this.ae(r),this.targetCount+=1,Te.resolve()}updateTargetData(n,r){return this.ae(r),Te.resolve()}removeTargetData(n,r){return this.Ts.delete(r.target),this.As.cs(r.targetId),this.targetCount-=1,Te.resolve()}removeTargets(n,r,s){let c=0;const d=[];return this.Ts.forEach((m,E)=>{E.sequenceNumber<=r&&null===s.get(E.targetId)&&(this.Ts.delete(m),d.push(this.removeMatchingKeysForTargetId(n,E.targetId)),c++)}),Te.waitFor(d).next(()=>c)}getTargetCount(n){return Te.resolve(this.targetCount)}getTargetData(n,r){const s=this.Ts.get(r)||null;return Te.resolve(s)}addMatchingKeys(n,r,s){return this.As.ss(r,s),Te.resolve()}removeMatchingKeys(n,r,s){this.As.os(r,s);const c=this.persistence.referenceDelegate,d=[];return c&&r.forEach(m=>{d.push(c.markPotentiallyOrphaned(n,m))}),Te.waitFor(d)}removeMatchingKeysForTargetId(n,r){return this.As.cs(r),Te.resolve()}getMatchingKeysForTargetId(n,r){const s=this.As.hs(r);return Te.resolve(s)}containsKey(n,r){return Te.resolve(this.As.containsKey(r))}}class xR{constructor(n,r){this.bs={},this.Le=new Je(0),this.Be=!1,this.Be=!0,this.referenceDelegate=n(this),this.ze=new pT(this),this.Ht=new OO,this.He=new AR(this.Ht,s=>this.referenceDelegate.Ps(s)),this.N=new zI(r),this.Je=new SR(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(n){let r=this.bs[n.toKey()];return r||(r=new hT(this.Ht,this.referenceDelegate),this.bs[n.toKey()]=r),r}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(n,r,s){Me("MemoryPersistence","Starting transaction:",n);const c=new RR(this.Le.next());return this.referenceDelegate.vs(),s(c).next(d=>this.referenceDelegate.Vs(c).next(()=>d)).toPromise().then(d=>(c.raiseOnCommittedEvent(),d))}Ss(n,r){return Te.or(Object.values(this.bs).map(s=>()=>s.containsKey(n,r)))}}class RR extends qI{constructor(n){super(),this.currentSequenceNumber=n}}class tp{constructor(n){this.persistence=n,this.Ds=new ep,this.Cs=null}static Ns(n){return new tp(n)}get xs(){if(this.Cs)return this.Cs;throw Ye()}addReference(n,r,s){return this.Ds.addReference(s,r),this.xs.delete(s.toString()),Te.resolve()}removeReference(n,r,s){return this.Ds.removeReference(s,r),this.xs.add(s.toString()),Te.resolve()}markPotentiallyOrphaned(n,r){return this.xs.add(r.toString()),Te.resolve()}removeTarget(n,r){this.Ds.cs(r.targetId).forEach(c=>this.xs.add(c.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(n,r.targetId).next(c=>{c.forEach(d=>this.xs.add(d.toString()))}).next(()=>s.removeTargetData(n,r))}vs(){this.Cs=new Set}Vs(n){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Te.forEach(this.xs,s=>{const c=Ke.fromPath(s);return this.ks(n,c).next(d=>{d||r.removeEntry(c)})}).next(()=>(this.Cs=null,r.apply(n)))}updateLimboDocument(n,r){return this.ks(n,r).next(s=>{s?this.xs.delete(r.toString()):this.xs.add(r.toString())})}Ps(n){return 0}ks(n,r){return Te.or([()=>Te.resolve(this.Ds.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(n,r),()=>this.persistence.Ss(n,r)])}}function db(i,n){return`firestore_clients_${i}_${n}`}function hb(i,n,r){let s=`firestore_mutations_${i}_${r}`;return n.isAuthenticated()&&(s+=`_${n.uid}`),s}function np(i,n){return`firestore_targets_${i}_${n}`}class r_{constructor(n,r,s,c){this.user=n,this.batchId=r,this.state=s,this.error=c}static $s(n,r,s){const c=JSON.parse(s);let d,m="object"==typeof c&&-1!==["pending","acknowledged","rejected"].indexOf(c.state)&&(void 0===c.error||"object"==typeof c.error);return m&&c.error&&(m="string"==typeof c.error.message&&"string"==typeof c.error.code,m&&(d=new Se(c.error.code,c.error.message))),m?new r_(n,r,c.state,d):(Vn("SharedClientState",`Failed to parse mutation state for ID '${r}': ${s}`),null)}Os(){const n={state:this.state,updateTimeMs:Date.now()};return this.error&&(n.error={code:this.error.code,message:this.error.message}),JSON.stringify(n)}}class Yr{constructor(n,r,s){this.targetId=n,this.state=r,this.error=s}static $s(n,r){const s=JSON.parse(r);let c,d="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return d&&s.error&&(d="string"==typeof s.error.message&&"string"==typeof s.error.code,d&&(c=new Se(s.error.code,s.error.message))),d?new Yr(n,s.state,c):(Vn("SharedClientState",`Failed to parse target state for ID '${n}': ${r}`),null)}Os(){const n={state:this.state,updateTimeMs:Date.now()};return this.error&&(n.error={code:this.error.code,message:this.error.message}),JSON.stringify(n)}}class i_{constructor(n,r){this.clientId=n,this.activeTargetIds=r}static $s(n,r){const s=JSON.parse(r);let c="object"==typeof s&&s.activeTargetIds instanceof Array,d=Uf();for(let m=0;c&&m<s.activeTargetIds.length;++m)c=Xu(s.activeTargetIds[m]),d=d.add(s.activeTargetIds[m]);return c?new i_(n,d):(Vn("SharedClientState",`Failed to parse client data for instance '${n}': ${r}`),null)}}class gT{constructor(n,r){this.clientId=n,this.onlineState=r}static $s(n){const r=JSON.parse(n);return"object"==typeof r&&-1!==["Unknown","Online","Offline"].indexOf(r.onlineState)&&"string"==typeof r.clientId?new gT(r.clientId,r.onlineState):(Vn("SharedClientState",`Failed to parse online state: ${n}`),null)}}class fb{constructor(){this.activeTargetIds=Uf()}Fs(n){this.activeTargetIds=this.activeTargetIds.add(n)}Ms(n){this.activeTargetIds=this.activeTargetIds.delete(n)}Os(){const n={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(n)}}class mT{constructor(n,r,s,c,d){this.window=n,this.Oe=r,this.persistenceKey=s,this.Ls=c,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Bs=this.Us.bind(this),this.qs=new Un(vt),this.started=!1,this.Ks=[];const m=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=d,this.js=db(this.persistenceKey,this.Ls),this.Qs=`firestore_sequence_number_${this.persistenceKey}`,this.qs=this.qs.insert(this.Ls,new fb),this.Ws=new RegExp(`^firestore_clients_${m}_([^_]*)$`),this.Gs=new RegExp(`^firestore_mutations_${m}_(\\d+)(?:_(.*))?$`),this.zs=new RegExp(`^firestore_targets_${m}_(\\d+)$`),this.Hs=`firestore_online_state_${this.persistenceKey}`,this.Js=function(E){return`firestore_bundle_loaded_${E}`}(this.persistenceKey),this.window.addEventListener("storage",this.Bs)}static bt(n){return!(!n||!n.localStorage)}start(){var n=this;return(0,be.Z)(function*(){const r=yield n.syncEngine.pn();for(const c of r){if(c===n.Ls)continue;const d=n.getItem(db(n.persistenceKey,c));if(d){const m=i_.$s(c,d);m&&(n.qs=n.qs.insert(m.clientId,m))}}n.Ys();const s=n.storage.getItem(n.Hs);if(s){const c=n.Xs(s);c&&n.Zs(c)}for(const c of n.Ks)n.Us(c);n.Ks=[],n.window.addEventListener("pagehide",()=>n.shutdown()),n.started=!0})()}writeSequenceNumber(n){this.setItem(this.Qs,JSON.stringify(n))}getAllActiveQueryTargets(){return this.ti(this.qs)}isActiveQueryTarget(n){let r=!1;return this.qs.forEach((s,c)=>{c.activeTargetIds.has(n)&&(r=!0)}),r}addPendingMutation(n){this.ei(n,"pending")}updateMutationState(n,r,s){this.ei(n,r,s),this.ni(n)}addLocalQueryTarget(n){let r="not-current";if(this.isActiveQueryTarget(n)){const s=this.storage.getItem(np(this.persistenceKey,n));if(s){const c=Yr.$s(n,s);c&&(r=c.state)}}return this.si.Fs(n),this.Ys(),r}removeLocalQueryTarget(n){this.si.Ms(n),this.Ys()}isLocalQueryTarget(n){return this.si.activeTargetIds.has(n)}clearQueryState(n){this.removeItem(np(this.persistenceKey,n))}updateQueryState(n,r,s){this.ii(n,r,s)}handleUserChange(n,r,s){r.forEach(c=>{this.ni(c)}),this.currentUser=n,s.forEach(c=>{this.addPendingMutation(c)})}setOnlineState(n){this.ri(n)}notifyBundleLoaded(){this.oi()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Bs),this.removeItem(this.js),this.started=!1)}getItem(n){const r=this.storage.getItem(n);return Me("SharedClientState","READ",n,r),r}setItem(n,r){Me("SharedClientState","SET",n,r),this.storage.setItem(n,r)}removeItem(n){Me("SharedClientState","REMOVE",n),this.storage.removeItem(n)}Us(n){var r=this;const s=n;if(s.storageArea===this.storage){if(Me("SharedClientState","EVENT",s.key,s.newValue),s.key===this.js)return void Vn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,be.Z)(function*(){if(r.started){if(null!==s.key)if(r.Ws.test(s.key)){if(null==s.newValue){const c=r.ai(s.key);return r.ci(c,null)}{const c=r.ui(s.key,s.newValue);if(c)return r.ci(c.clientId,c)}}else if(r.Gs.test(s.key)){if(null!==s.newValue){const c=r.hi(s.key,s.newValue);if(c)return r.li(c)}}else if(r.zs.test(s.key)){if(null!==s.newValue){const c=r.fi(s.key,s.newValue);if(c)return r.di(c)}}else if(s.key===r.Hs){if(null!==s.newValue){const c=r.Xs(s.newValue);if(c)return r.Zs(c)}}else if(s.key===r.Qs){const c=function(d){let m=Je.T;if(null!=d)try{const E=JSON.parse(d);ut("number"==typeof E),m=E}catch(E){Vn("SharedClientState","Failed to read sequence number from WebStorage",E)}return m}(s.newValue);c!==Je.T&&r.sequenceNumberHandler(c)}else if(s.key===r.Js)return r.syncEngine.wi()}else r.Ks.push(s)}))}}get si(){return this.qs.get(this.Ls)}Ys(){this.setItem(this.js,this.si.Os())}ei(n,r,s){const c=new r_(this.currentUser,n,r,s),d=hb(this.persistenceKey,this.currentUser,n);this.setItem(d,c.Os())}ni(n){const r=hb(this.persistenceKey,this.currentUser,n);this.removeItem(r)}ri(n){this.storage.setItem(this.Hs,JSON.stringify({clientId:this.Ls,onlineState:n}))}ii(n,r,s){const c=np(this.persistenceKey,n),d=new Yr(n,r,s);this.setItem(c,d.Os())}oi(){this.setItem(this.Js,"value-not-used")}ai(n){const r=this.Ws.exec(n);return r?r[1]:null}ui(n,r){const s=this.ai(n);return i_.$s(s,r)}hi(n,r){const s=this.Gs.exec(n),c=Number(s[1]);return r_.$s(new Hn(void 0!==s[2]?s[2]:null),c,r)}fi(n,r){const s=this.zs.exec(n),c=Number(s[1]);return Yr.$s(c,r)}Xs(n){return gT.$s(n)}li(n){var r=this;return(0,be.Z)(function*(){if(n.user.uid===r.currentUser.uid)return r.syncEngine._i(n.batchId,n.state,n.error);Me("SharedClientState",`Ignoring mutation for non-active user ${n.user.uid}`)})()}di(n){return this.syncEngine.mi(n.targetId,n.state,n.error)}ci(n,r){const s=r?this.qs.insert(n,r):this.qs.remove(n),c=this.ti(this.qs),d=this.ti(s),m=[],E=[];return d.forEach(I=>{c.has(I)||m.push(I)}),c.forEach(I=>{d.has(I)||E.push(I)}),this.syncEngine.gi(m,E).then(()=>{this.qs=s})}Zs(n){this.qs.get(n.clientId)&&this.onlineStateHandler(n.onlineState)}ti(n){let r=Uf();return n.forEach((s,c)=>{r=r.unionWith(c.activeTargetIds)}),r}}class _T{constructor(){this.yi=new fb,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(n){}updateMutationState(n,r,s){}addLocalQueryTarget(n){return this.yi.Fs(n),this.pi[n]||"not-current"}updateQueryState(n,r,s){this.pi[n]=r}removeLocalQueryTarget(n){this.yi.Ms(n)}isLocalQueryTarget(n){return this.yi.activeTargetIds.has(n)}clearQueryState(n){delete this.pi[n]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(n){return this.yi.activeTargetIds.has(n)}start(){return this.yi=new fb,Promise.resolve()}handleUserChange(n,r,s){}setOnlineState(n){}shutdown(){}writeSequenceNumber(n){}notifyBundleLoaded(){}}class MR{Ei(n){}shutdown(){}}class yT{constructor(){this.Ti=()=>this.Ii(),this.Ai=()=>this.Ri(),this.bi=[],this.Pi()}Ei(n){this.bi.push(n)}shutdown(){window.removeEventListener("online",this.Ti),window.removeEventListener("offline",this.Ai)}Pi(){window.addEventListener("online",this.Ti),window.addEventListener("offline",this.Ai)}Ii(){Me("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const n of this.bi)n(0)}Ri(){Me("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const n of this.bi)n(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const kO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class OR{constructor(n){this.vi=n.vi,this.Vi=n.Vi}Si(n){this.Di=n}Ci(n){this.Ni=n}onMessage(n){this.xi=n}close(){this.Vi()}send(n){this.vi(n)}ki(){this.Di()}$i(n){this.Ni(n)}Oi(n){this.xi(n)}}class vT extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId,this.Fi=(n.ssl?"https":"http")+"://"+n.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(n,r,s,c){const d=this.Bi(n,r);Me("RestConnection","Sending: ",d,s);const m={};return this.Ui(m,c),this.qi(n,d,m,s).then(E=>(Me("RestConnection","Received: ",E),E),E=>{throw Fl("RestConnection",`${n} failed with error: `,E,"url: ",d,"request:",s),E})}Ki(n,r,s,c){return this.Li(n,r,s,c)}Ui(n,r){if(n["X-Goog-Api-Client"]="gl-js/ fire/"+kl,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r)for(const s in r.authHeaders)r.authHeaders.hasOwnProperty(s)&&(n[s]=r.authHeaders[s])}Bi(n,r){return`${this.Fi}/v1/${r}:${kO[n]}`}}{constructor(n){super(n),this.forceLongPolling=n.forceLongPolling,this.autoDetectLongPolling=n.autoDetectLongPolling,this.useFetchStreams=n.useFetchStreams}qi(n,r,s,c){return new Promise((d,m)=>{const E=new Px;E.listenOnce(xm.COMPLETE,()=>{try{switch(E.getLastErrorCode()){case CE.NO_ERROR:const S=E.getResponseJson();Me("Connection","XHR received:",JSON.stringify(S)),d(S);break;case CE.TIMEOUT:Me("Connection",'RPC "'+n+'" timed out'),m(new Se(de.DEADLINE_EXCEEDED,"Request time out"));break;case CE.HTTP_ERROR:const M=E.getStatus();if(Me("Connection",'RPC "'+n+'" failed with status:',M,"response text:",E.getResponseText()),M>0){const P=E.getResponseJson().error;if(P&&P.status&&P.message){const W=function(Q){const Ee=Q.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf(Ee)>=0?Ee:de.UNKNOWN}(P.status);m(new Se(W,P.message))}else m(new Se(de.UNKNOWN,"Server responded with status "+E.getStatus()))}else m(new Se(de.UNAVAILABLE,"Connection failed."));break;default:Ye()}}finally{Me("Connection",'RPC "'+n+'" completed.')}});const I=JSON.stringify(c);E.send(r,"POST",I,s,15)})}ji(n,r){const s=[this.Fi,"/","google.firestore.v1.Firestore","/",n,"/channel"],c=Mx(),d=Ox(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(m.xmlHttpFactory=new Nx({})),this.Ui(m.initMessageHeaders,r),(0,kt.uI)()||(0,kt.b$)()||(0,kt.d)()||(0,kt.w1)()||(0,kt.Mn)()||(0,kt.ru)()||(m.httpHeadersOverwriteParam="$httpHeaders");const E=s.join("");Me("Connection","Creating WebChannel: "+E,m);const I=c.createWebChannel(E,m);let S=!1,M=!1;const P=new OR({vi:Q=>{M?Me("Connection","Not sending because WebChannel is closed:",Q):(S||(Me("Connection","Opening WebChannel transport."),I.open(),S=!0),Me("Connection","WebChannel sending:",Q),I.send(Q))},Vi:()=>I.close()}),W=(Q,Ee,Ne)=>{Q.listen(Ee,Fe=>{try{Ne(Fe)}catch(xt){setTimeout(()=>{throw xt},0)}})};return W(I,IE.EventType.OPEN,()=>{M||Me("Connection","WebChannel transport opened.")}),W(I,IE.EventType.CLOSE,()=>{M||(M=!0,Me("Connection","WebChannel transport closed"),P.$i())}),W(I,IE.EventType.ERROR,Q=>{M||(M=!0,Fl("Connection","WebChannel transport errored:",Q),P.$i(new Se(de.UNAVAILABLE,"The operation could not be completed")))}),W(I,IE.EventType.MESSAGE,Q=>{var Ee;if(!M){const Ne=Q.data[0];ut(!!Ne);const Fe=Ne,xt=Fe.error||(null===(Ee=Fe[0])||void 0===Ee?void 0:Ee.error);if(xt){Me("Connection","WebChannel received error:",xt);const Mt=xt.status;let Et=function(ci){const ES=qn[ci];if(void 0!==ES)return AI(ES)}(Mt),qt=xt.message;void 0===Et&&(Et=de.INTERNAL,qt="Unknown error status: "+Mt+" with message "+xt.message),M=!0,P.$i(new Se(Et,qt)),I.close()}else Me("Connection","WebChannel received:",Ne),P.Oi(Ne)}}),W(d,Yu.STAT_EVENT,Q=>{Q.stat===DE.PROXY?Me("Connection","Detected buffering proxy"):Q.stat===DE.NOPROXY&&Me("Connection","Detected no buffering proxy")}),setTimeout(()=>{P.ki()},0),P}}function ET(){return"undefined"!=typeof window?window:null}function s_(){return"undefined"!=typeof document?document:null}function td(i){return new eR(i,!0)}class pb{constructor(n,r,s=1e3,c=1.5,d=6e4){this.Oe=n,this.timerId=r,this.Qi=s,this.Wi=c,this.Gi=d,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(n){this.cancel();const r=Math.floor(this.zi+this.Zi()),s=Math.max(0,Date.now()-this.Ji),c=Math.max(0,r-s);c>0&&Me("ExponentialBackoff",`Backing off for ${c} ms (base delay: ${this.zi} ms, delay with jitter: ${r} ms, last attempt: ${s} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,c,()=>(this.Ji=Date.now(),n())),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class NR{constructor(n,r,s,c,d,m){this.Oe=n,this.er=s,this.nr=c,this.credentialsProvider=d,this.listener=m,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new pb(n,r)}ar(){return 1===this.state||2===this.state||4===this.state}cr(){return 2===this.state}start(){3!==this.state?this.auth():this.ur()}stop(){var n=this;return(0,be.Z)(function*(){n.ar()&&(yield n.close(0))})()}hr(){this.state=0,this.rr.reset()}lr(){this.cr()&&null===this.ir&&(this.ir=this.Oe.enqueueAfterDelay(this.er,6e4,()=>this.dr()))}wr(n){this._r(),this.stream.send(n)}dr(){var n=this;return(0,be.Z)(function*(){if(n.cr())return n.close(0)})()}_r(){this.ir&&(this.ir.cancel(),this.ir=null)}close(n,r){var s=this;return(0,be.Z)(function*(){s._r(),s.rr.cancel(),s.sr++,3!==n?s.rr.reset():r&&r.code===de.RESOURCE_EXHAUSTED?(Vn(r.toString()),Vn("Using maximum backoff delay to prevent overloading the backend."),s.rr.Yi()):r&&r.code===de.UNAUTHENTICATED&&s.credentialsProvider.invalidateToken(),null!==s.stream&&(s.mr(),s.stream.close(),s.stream=null),s.state=n,yield s.listener.Ci(r)})()}mr(){}auth(){this.state=1;const n=this.gr(this.sr),r=this.sr;this.credentialsProvider.getToken().then(s=>{this.sr===r&&this.yr(s)},s=>{n(()=>{const c=new Se(de.UNKNOWN,"Fetching auth token failed: "+s.message);return this.pr(c)})})}yr(n){const r=this.gr(this.sr);this.stream=this.Er(n),this.stream.Si(()=>{r(()=>(this.state=2,this.listener.Si()))}),this.stream.Ci(s=>{r(()=>this.pr(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}ur(){var n=this;this.state=4,this.rr.Xi((0,be.Z)(function*(){n.state=0,n.start()}))}pr(n){return Me("PersistentStream",`close with error: ${n}`),this.stream=null,this.close(3,n)}gr(n){return r=>{this.Oe.enqueueAndForget(()=>this.sr===n?r():(Me("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class bT extends NR{constructor(n,r,s,c,d){super(n,"listen_stream_connection_backoff","listen_stream_idle",r,s,d),this.N=c}Er(n){return this.nr.ji("Listen",n)}onMessage(n){this.rr.reset();const r=function(i,n){let r;if("targetChange"in n){const s="NO_CHANGE"===(I=n.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===I?1:"REMOVE"===I?2:"CURRENT"===I?3:"RESET"===I?4:Ye(),c=n.targetChange.targetIds||[],d=function(I,S){return I.D?(ut(void 0===S||"string"==typeof S),Rn.fromBase64String(S||"")):(ut(void 0===S||S instanceof Uint8Array),Rn.fromUint8Array(S||new Uint8Array))}(i,n.targetChange.resumeToken),m=n.targetChange.cause,E=m&&function(I){const S=void 0===I.code?de.UNKNOWN:AI(I.code);return new Se(S,I.message||"")}(m);r=new UE(s,c,d,E||null)}else if("documentChange"in n){const s=n.documentChange,c=Yi(i,s.document.name),d=Bn(s.document.updateTime),m=new Mr({mapValue:{fields:s.document.fields}}),E=Mn.newFoundDocument(c,d,m);r=new Bf(s.targetIds||[],s.removedTargetIds||[],E.key,E)}else if("documentDelete"in n){const s=n.documentDelete,c=Yi(i,s.document),d=s.readTime?Bn(s.readTime):Ct.min(),m=Mn.newNoDocument(c,d);r=new Bf([],s.removedTargetIds||[],m.key,m)}else if("documentRemove"in n){const s=n.documentRemove,c=Yi(i,s.document);r=new Bf([],s.removedTargetIds||[],c,null)}else{if(!("filter"in n))return Ye();{const s=n.filter,d=new SI(s.count||0);r=new OI(s.targetId,d)}}var I;return r}(this.N,n),s=function(c){if(!("targetChange"in c))return Ct.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Ct.min():d.readTime?Bn(d.readTime):Ct.min()}(n);return this.listener.Tr(r,s)}Ir(n){const r={};r.database=ac(this.N),r.addTarget=function(c,d){let m;const E=d.target;return m=Hl(E)?{documents:$E(c,E)}:{query:GE(c,E)},m.targetId=d.targetId,d.resumeToken.approximateByteSize()>0?m.resumeToken=Ds(c,d.resumeToken):d.snapshotVersion.compareTo(Ct.min())>0&&(m.readTime=oc(c,d.snapshotVersion.toTimestamp())),m}(this.N,n);const s=function(i,n){const r=function(s,c){switch(c){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ye()}}(0,n.purpose);return null==r?null:{"goog-listen-tags":r}}(0,n);s&&(r.labels=s),this.wr(r)}Ar(n){const r={};r.database=ac(this.N),r.removeTarget=n,this.wr(r)}}class wT extends NR{constructor(n,r,s,c,d){super(n,"write_stream_connection_backoff","write_stream_idle",r,s,d),this.N=c,this.Rr=!1}get br(){return this.Rr}start(){this.Rr=!1,this.lastStreamToken=void 0,super.start()}mr(){this.Rr&&this.Pr([])}Er(n){return this.nr.ji("Write",n)}onMessage(n){if(ut(!!n.streamToken),this.lastStreamToken=n.streamToken,this.Rr){this.rr.reset();const r=function(i,n){return i&&i.length>0?(ut(void 0!==n),i.map(r=>function(s,c){let d=Bn(s.updateTime?s.updateTime:c);return d.isEqual(Ct.min())&&(d=Bn(c)),new Cs(d,s.transformResults||[])}(r,n))):[]}(n.writeResults,n.commitTime),s=Bn(n.commitTime);return this.listener.vr(s,r)}return ut(!n.writeResults||0===n.writeResults.length),this.Rr=!0,this.listener.Vr()}Sr(){const n={};n.database=ac(this.N),this.wr(n)}Pr(n){const r={streamToken:this.lastStreamToken,writes:n.map(s=>Gf(this.N,s))};this.wr(r)}}class PR extends class{}{constructor(n,r,s){super(),this.credentials=n,this.nr=r,this.N=s,this.Dr=!1}Cr(){if(this.Dr)throw new Se(de.FAILED_PRECONDITION,"The client has already been terminated.")}Li(n,r,s){return this.Cr(),this.credentials.getToken().then(c=>this.nr.Li(n,r,s,c)).catch(c=>{throw"FirebaseError"===c.name?(c.code===de.UNAUTHENTICATED&&this.credentials.invalidateToken(),c):new Se(de.UNKNOWN,c.toString())})}Ki(n,r,s){return this.Cr(),this.credentials.getToken().then(c=>this.nr.Ki(n,r,s,c)).catch(c=>{throw"FirebaseError"===c.name?(c.code===de.UNAUTHENTICATED&&this.credentials.invalidateToken(),c):new Se(de.UNKNOWN,c.toString())})}terminate(){this.Dr=!0}}class kR{constructor(n,r){this.asyncQueue=n,this.onlineStateHandler=r,this.state="Unknown",this.Nr=0,this.kr=null,this.$r=!0}Or(){0===this.Nr&&(this.Fr("Unknown"),this.kr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.kr=null,this.Mr("Backend didn't respond within 10 seconds."),this.Fr("Offline"),Promise.resolve())))}Lr(n){"Online"===this.state?this.Fr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr(`Connection failed 1 times. Most recent error: ${n.toString()}`),this.Fr("Offline")))}set(n){this.Br(),this.Nr=0,"Online"===n&&(this.$r=!1),this.Fr(n)}Fr(n){n!==this.state&&(this.state=n,this.onlineStateHandler(n))}Mr(n){const r=`Could not reach Cloud Firestore backend. ${n}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.$r?(Vn(r),this.$r=!1):Me("OnlineStateTracker",r)}Br(){null!==this.kr&&(this.kr.cancel(),this.kr=null)}}class CT{constructor(n,r,s,c,d){var m=this;this.localStore=n,this.datastore=r,this.asyncQueue=s,this.remoteSyncer={},this.Ur=[],this.qr=new Map,this.Kr=new Set,this.jr=[],this.Qr=d,this.Qr.Ei(E=>{s.enqueueAndForget((0,be.Z)(function*(){var I;qa(m)&&(Me("RemoteStore","Restarting streams for network reachability change."),yield(I=(0,be.Z)(function*(S){const M=ke(S);M.Kr.add(4),yield pc(M),M.Wr.set("Unknown"),M.Kr.delete(4),yield Qo(M)}),function(S){return I.apply(this,arguments)})(m))}))}),this.Wr=new kR(s,c)}}function Qo(i){return rp.apply(this,arguments)}function rp(){return(rp=(0,be.Z)(function*(i){if(qa(i))for(const n of i.jr)yield n(!0)})).apply(this,arguments)}function pc(i){return gb.apply(this,arguments)}function gb(){return(gb=(0,be.Z)(function*(i){for(const n of i.jr)yield n(!1)})).apply(this,arguments)}function o_(i,n){const r=ke(i);r.qr.has(n.targetId)||(r.qr.set(n.targetId,n),c_(r)?u_(r):On(r).cr()&&DT(r,n))}function a_(i,n){const r=ke(i),s=On(r);r.qr.delete(n),s.cr()&&FR(r,n),0===r.qr.size&&(s.cr()?s.lr():qa(r)&&r.Wr.set("Unknown"))}function DT(i,n){i.Gr.Y(n.targetId),On(i).Ir(n)}function FR(i,n){i.Gr.Y(n),On(i).Ar(n)}function u_(i){i.Gr=new NI({getRemoteKeysForTarget:n=>i.remoteSyncer.getRemoteKeysForTarget(n),Et:n=>i.qr.get(n)||null}),On(i).start(),i.Wr.Or()}function c_(i){return qa(i)&&!On(i).ar()&&i.qr.size>0}function qa(i){return 0===ke(i).Kr.size}function IT(i){i.Gr=void 0}function LR(i){return mb.apply(this,arguments)}function mb(){return(mb=(0,be.Z)(function*(i){i.qr.forEach((n,r)=>{DT(i,n)})})).apply(this,arguments)}function TT(i,n){return ST.apply(this,arguments)}function ST(){return(ST=(0,be.Z)(function*(i,n){IT(i),c_(i)?(i.Wr.Lr(n),u_(i)):i.Wr.set("Unknown")})).apply(this,arguments)}function FO(i,n,r){return _b.apply(this,arguments)}function _b(){return(_b=(0,be.Z)(function*(i,n,r){if(i.Wr.set("Online"),n instanceof UE&&2===n.state&&n.cause)try{yield(s=(0,be.Z)(function*(c,d){const m=d.cause;for(const E of d.targetIds)c.qr.has(E)&&(yield c.remoteSyncer.rejectListen(E,m),c.qr.delete(E),c.Gr.removeTarget(E))}),function(c,d){return s.apply(this,arguments)})(i,n)}catch(s){Me("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),s),yield nd(i,s)}else if(n instanceof Bf?i.Gr.rt(n):n instanceof OI?i.Gr.ft(n):i.Gr.ct(n),!r.isEqual(Ct.min()))try{const s=yield TR(i.localStore);r.compareTo(s)>=0&&(yield function(c,d){const m=c.Gr._t(d);return m.targetChanges.forEach((E,I)=>{if(E.resumeToken.approximateByteSize()>0){const S=c.qr.get(I);S&&c.qr.set(I,S.withResumeToken(E.resumeToken,d))}}),m.targetMismatches.forEach(E=>{const I=c.qr.get(E);if(!I)return;c.qr.set(E,I.withResumeToken(Rn.EMPTY_BYTE_STRING,I.snapshotVersion)),FR(c,E);const S=new Ga(I.target,E,1,I.sequenceNumber);DT(c,S)}),c.remoteSyncer.applyRemoteEvent(m)}(i,r))}catch(s){Me("RemoteStore","Failed to raise snapshot:",s),yield nd(i,s)}var s})).apply(this,arguments)}function nd(i,n,r){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,be.Z)(function*(i,n,r){if(!$a(n))throw n;i.Kr.add(1),yield pc(i),i.Wr.set("Offline"),r||(r=()=>TR(i.localStore)),i.asyncQueue.enqueueRetryable((0,be.Z)(function*(){Me("RemoteStore","Retrying IndexedDB access"),yield r(),i.Kr.delete(1),yield Qo(i)}))})).apply(this,arguments)}function VR(i,n){return n().catch(r=>nd(i,r,n))}function gc(i){return l_.apply(this,arguments)}function l_(){return(l_=(0,be.Z)(function*(i){const n=ke(i),r=mc(n);let s=n.Ur.length>0?n.Ur[n.Ur.length-1].batchId:-1;for(;UR(n);)try{const c=yield PO(n.localStore,s);if(null===c){0===n.Ur.length&&r.lr();break}s=c.batchId,d_(n,c)}catch(c){yield nd(n,c)}AT(n)&&xT(n)})).apply(this,arguments)}function UR(i){return qa(i)&&i.Ur.length<10}function d_(i,n){i.Ur.push(n);const r=mc(i);r.cr()&&r.br&&r.Pr(n.mutations)}function AT(i){return qa(i)&&!mc(i).ar()&&i.Ur.length>0}function xT(i){mc(i).start()}function RT(i){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,be.Z)(function*(i){mc(i).Sr()})).apply(this,arguments)}function MT(i){return ip.apply(this,arguments)}function ip(){return(ip=(0,be.Z)(function*(i){const n=mc(i);for(const r of i.Ur)n.Pr(r.mutations)})).apply(this,arguments)}function yb(i,n,r){return vb.apply(this,arguments)}function vb(){return(vb=(0,be.Z)(function*(i,n,r){const s=i.Ur.shift(),c=Zm.from(s,n,r);yield VR(i,()=>i.remoteSyncer.applySuccessfulWrite(c)),yield gc(i)})).apply(this,arguments)}function h_(i,n){return Eb.apply(this,arguments)}function Eb(){return(Eb=(0,be.Z)(function*(i,n){var r;n&&mc(i).br&&(yield(r=(0,be.Z)(function*(s,c){if(LE(d=c.code)&&d!==de.ABORTED){const m=s.Ur.shift();mc(s).hr(),yield VR(s,()=>s.remoteSyncer.rejectFailedWrite(m.batchId,c)),yield gc(s)}var d}),function(s,c){return r.apply(this,arguments)})(i,n)),AT(i)&&xT(i)})).apply(this,arguments)}function sp(i,n){return f_.apply(this,arguments)}function f_(){return(f_=(0,be.Z)(function*(i,n){const r=ke(i);n?(r.Kr.delete(2),yield Qo(r)):n||(r.Kr.add(2),yield pc(r),r.Wr.set("Unknown"))})).apply(this,arguments)}function On(i){return i.zr||(i.zr=function(n,r,s){const c=ke(n);return c.Cr(),new bT(r,c.nr,c.credentials,c.N,s)}(i.datastore,i.asyncQueue,{Si:LR.bind(null,i),Ci:TT.bind(null,i),Tr:FO.bind(null,i)}),i.jr.push(function(){var n=(0,be.Z)(function*(r){r?(i.zr.hr(),c_(i)?u_(i):i.Wr.set("Unknown")):(yield i.zr.stop(),IT(i))});return function(r){return n.apply(this,arguments)}}())),i.zr}function mc(i){return i.Hr||(i.Hr=function(n,r,s){const c=ke(n);return c.Cr(),new wT(r,c.nr,c.credentials,c.N,s)}(i.datastore,i.asyncQueue,{Si:RT.bind(null,i),Ci:h_.bind(null,i),Vr:MT.bind(null,i),vr:yb.bind(null,i)}),i.jr.push(function(){var n=(0,be.Z)(function*(r){r?(i.Hr.hr(),yield gc(i)):(yield i.Hr.stop(),i.Ur.length>0&&(Me("RemoteStore",`Stopping write stream with ${i.Ur.length} pending writes`),i.Ur=[]))});return function(r){return n.apply(this,arguments)}}())),i.Hr}class bb{constructor(n,r,s,c,d){this.asyncQueue=n,this.timerId=r,this.targetTimeMs=s,this.op=c,this.removalCallback=d,this.deferred=new yr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(m=>{})}static createAndSchedule(n,r,s,c,d){const m=Date.now()+s,E=new bb(n,r,m,c,d);return E.start(s),E}start(n){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),n)}skipDelay(){return this.handleDelayElapsed()}cancel(n){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Se(de.CANCELLED,"Operation cancelled"+(n?": "+n:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(n=>this.deferred.resolve(n))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function rd(i,n){if(Vn("AsyncQueue",`${n}: ${i}`),$a(i))return new Se(de.UNAVAILABLE,`${n}: ${i}`);throw i}class op{constructor(n){this.comparator=n?(r,s)=>n(r,s)||Ke.comparator(r.key,s.key):(r,s)=>Ke.comparator(r.key,s.key),this.keyedMap=VE(),this.sortedSet=new Un(this.comparator)}static emptySet(n){return new op(n.comparator)}has(n){return null!=this.keyedMap.get(n)}get(n){return this.keyedMap.get(n)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(n){const r=this.keyedMap.get(n);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(n){this.sortedSet.inorderTraversal((r,s)=>(n(r),!1))}add(n){const r=this.delete(n.key);return r.copy(r.keyedMap.insert(n.key,n),r.sortedSet.insert(n,null))}delete(n){const r=this.get(n);return r?this.copy(this.keyedMap.remove(n),this.sortedSet.remove(r)):this}isEqual(n){if(!(n instanceof op)||this.size!==n.size)return!1;const r=this.sortedSet.getIterator(),s=n.sortedSet.getIterator();for(;r.hasNext();){const c=r.getNext().key,d=s.getNext().key;if(!c.isEqual(d))return!1}return!0}toString(){const n=[];return this.forEach(r=>{n.push(r.toString())}),0===n.length?"DocumentSet ()":"DocumentSet (\n  "+n.join("  \n")+"\n)"}copy(n,r){const s=new op;return s.comparator=this.comparator,s.keyedMap=n,s.sortedSet=r,s}}class ap{constructor(){this.Jr=new Un(Ke.comparator)}track(n){const r=n.doc.key,s=this.Jr.get(r);s?0!==n.type&&3===s.type?this.Jr=this.Jr.insert(r,n):3===n.type&&1!==s.type?this.Jr=this.Jr.insert(r,{type:s.type,doc:n.doc}):2===n.type&&2===s.type?this.Jr=this.Jr.insert(r,{type:2,doc:n.doc}):2===n.type&&0===s.type?this.Jr=this.Jr.insert(r,{type:0,doc:n.doc}):1===n.type&&0===s.type?this.Jr=this.Jr.remove(r):1===n.type&&2===s.type?this.Jr=this.Jr.insert(r,{type:1,doc:s.doc}):0===n.type&&1===s.type?this.Jr=this.Jr.insert(r,{type:2,doc:n.doc}):Ye():this.Jr=this.Jr.insert(r,n)}Yr(){const n=[];return this.Jr.inorderTraversal((r,s)=>{n.push(s)}),n}}class id{constructor(n,r,s,c,d,m,E,I){this.query=n,this.docs=r,this.oldDocs=s,this.docChanges=c,this.mutatedKeys=d,this.fromCache=m,this.syncStateChanged=E,this.excludesMetadataChanges=I}static fromInitialDocuments(n,r,s,c){const d=[];return r.forEach(m=>{d.push({type:0,doc:m})}),new id(n,r,op.emptySet(r),d,s,c,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(n){if(!(this.fromCache===n.fromCache&&this.syncStateChanged===n.syncStateChanged&&this.mutatedKeys.isEqual(n.mutatedKeys)&&kf(this.query,n.query)&&this.docs.isEqual(n.docs)&&this.oldDocs.isEqual(n.oldDocs)))return!1;const r=this.docChanges,s=n.docChanges;if(r.length!==s.length)return!1;for(let c=0;c<r.length;c++)if(r[c].type!==s[c].type||!r[c].doc.isEqual(s[c].doc))return!1;return!0}}class LO{constructor(){this.Xr=void 0,this.listeners=[]}}class VO{constructor(){this.queries=new Xl(n=>gI(n),kf),this.onlineState="Unknown",this.Zr=new Set}}function OT(i,n){return wb.apply(this,arguments)}function wb(){return(wb=(0,be.Z)(function*(i,n){const r=ke(i),s=n.query;let c=!1,d=r.queries.get(s);if(d||(c=!0,d=new LO),c)try{d.Xr=yield r.onListen(s)}catch(m){const E=rd(m,`Initialization of query '${OE(n.query)}' failed`);return void n.onError(E)}r.queries.set(s,d),d.listeners.push(n),n.eo(r.onlineState),d.Xr&&n.no(d.Xr)&&NT(r)})).apply(this,arguments)}function Cb(i,n){return Db.apply(this,arguments)}function Db(){return(Db=(0,be.Z)(function*(i,n){const r=ke(i),s=n.query;let c=!1;const d=r.queries.get(s);if(d){const m=d.listeners.indexOf(n);m>=0&&(d.listeners.splice(m,1),c=0===d.listeners.length)}if(c)return r.queries.delete(s),r.onUnlisten(s)})).apply(this,arguments)}function BR(i,n){const r=ke(i);let s=!1;for(const c of n){const m=r.queries.get(c.query);if(m){for(const E of m.listeners)E.no(c)&&(s=!0);m.Xr=c}}s&&NT(r)}function jR(i,n,r){const s=ke(i),c=s.queries.get(n);if(c)for(const d of c.listeners)d.onError(r);s.queries.delete(n)}function NT(i){i.Zr.forEach(n=>{n.next()})}class Ib{constructor(n,r,s){this.query=n,this.so=r,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=s||{}}no(n){if(!this.options.includeMetadataChanges){const s=[];for(const c of n.docChanges)3!==c.type&&s.push(c);n=new id(n.query,n.docs,n.oldDocs,s,n.mutatedKeys,n.fromCache,n.syncStateChanged,!0)}let r=!1;return this.io?this.oo(n)&&(this.so.next(n),r=!0):this.ao(n,this.onlineState)&&(this.co(n),r=!0),this.ro=n,r}onError(n){this.so.error(n)}eo(n){this.onlineState=n;let r=!1;return this.ro&&!this.io&&this.ao(this.ro,n)&&(this.co(this.ro),r=!0),r}ao(n,r){return!n.fromCache||!(this.options.uo&&"Offline"!==r||n.docs.isEmpty()&&"Offline"!==r)}oo(n){return n.docChanges.length>0||!!(n.syncStateChanged||this.ro&&this.ro.hasPendingWrites!==n.hasPendingWrites)&&!0===this.options.includeMetadataChanges}co(n){n=id.fromInitialDocuments(n.query,n.docs,n.mutatedKeys,n.fromCache),this.io=!0,this.so.next(n)}}class HR{constructor(n,r){this.payload=n,this.byteLength=r}ho(){return"metadata"in this.payload}}class PT{constructor(n){this.N=n}zn(n){return Yi(this.N,n)}Hn(n){return n.metadata.exists?VI(this.N,n.document,!1):Mn.newNoDocument(this.zn(n.metadata.name),this.Jn(n.metadata.readTime))}Jn(n){return Bn(n)}}class UO{constructor(n,r,s){this.lo=n,this.localStore=r,this.N=s,this.queries=[],this.documents=[],this.progress=$R(n)}fo(n){this.progress.bytesLoaded+=n.byteLength;let r=this.progress.documentsLoaded;return n.payload.namedQuery?this.queries.push(n.payload.namedQuery):n.payload.documentMetadata?(this.documents.push({metadata:n.payload.documentMetadata}),n.payload.documentMetadata.exists||++r):n.payload.document&&(this.documents[this.documents.length-1].document=n.payload.document,++r),r!==this.progress.documentsLoaded?(this.progress.documentsLoaded=r,Object.assign({},this.progress)):null}wo(n){const r=new Map,s=new PT(this.N);for(const c of n)if(c.metadata.queries){const d=s.zn(c.metadata.name);for(const m of c.metadata.queries){const E=(r.get(m)||Gt()).add(d);r.set(m,E)}}return r}complete(){var n=this;return(0,be.Z)(function*(){const r=yield function(i,n,r,s){return ub.apply(this,arguments)}(n.localStore,new PT(n.N),n.documents,n.lo.id),s=n.wo(n.documents);for(const c of n.queries)yield cb(n.localStore,c,s.get(c.name));return n.progress.taskState="Success",new t_(Object.assign({},n.progress),r)})()}}function $R(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class kT{constructor(n){this.key=n}}class FT{constructor(n){this.key=n}}class LT{constructor(n,r){this.query=n,this._o=r,this.mo=null,this.current=!1,this.yo=Gt(),this.mutatedKeys=Gt(),this.po=NE(n),this.Eo=new op(this.po)}get To(){return this._o}Io(n,r){const s=r?r.Ao:new ap,c=r?r.Eo:this.Eo;let d=r?r.mutatedKeys:this.mutatedKeys,m=c,E=!1;const I=Va(this.query)&&c.size===this.query.limit?c.last():null,S=Fm(this.query)&&c.size===this.query.limit?c.first():null;if(n.inorderTraversal((M,P)=>{const W=c.get(M),Q=Ff(this.query,P)?P:null,Ee=!!W&&this.mutatedKeys.has(W.key),Ne=!!Q&&(Q.hasLocalMutations||this.mutatedKeys.has(Q.key)&&Q.hasCommittedMutations);let Fe=!1;W&&Q?W.data.isEqual(Q.data)?Ee!==Ne&&(s.track({type:3,doc:Q}),Fe=!0):this.Ro(W,Q)||(s.track({type:2,doc:Q}),Fe=!0,(I&&this.po(Q,I)>0||S&&this.po(Q,S)<0)&&(E=!0)):!W&&Q?(s.track({type:0,doc:Q}),Fe=!0):W&&!Q&&(s.track({type:1,doc:W}),Fe=!0,(I||S)&&(E=!0)),Fe&&(Q?(m=m.add(Q),d=Ne?d.add(M):d.delete(M)):(m=m.delete(M),d=d.delete(M)))}),Va(this.query)||Fm(this.query))for(;m.size>this.query.limit;){const M=Va(this.query)?m.last():m.first();m=m.delete(M.key),d=d.delete(M.key),s.track({type:1,doc:M})}return{Eo:m,Ao:s,Ln:E,mutatedKeys:d}}Ro(n,r){return n.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(n,r,s){const c=this.Eo;this.Eo=n.Eo,this.mutatedKeys=n.mutatedKeys;const d=n.Ao.Yr();d.sort((S,M)=>function(P,W){const Q=Ee=>{switch(Ee){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ye()}};return Q(P)-Q(W)}(S.type,M.type)||this.po(S.doc,M.doc)),this.bo(s);const m=r?this.Po():[],E=0===this.yo.size&&this.current?1:0,I=E!==this.mo;return this.mo=E,0!==d.length||I?{snapshot:new id(this.query,n.Eo,c,d,n.mutatedKeys,0===E,I,!1),vo:m}:{vo:m}}eo(n){return this.current&&"Offline"===n?(this.current=!1,this.applyChanges({Eo:this.Eo,Ao:new ap,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{vo:[]}}Vo(n){return!this._o.has(n)&&!!this.Eo.has(n)&&!this.Eo.get(n).hasLocalMutations}bo(n){n&&(n.addedDocuments.forEach(r=>this._o=this._o.add(r)),n.modifiedDocuments.forEach(r=>{}),n.removedDocuments.forEach(r=>this._o=this._o.delete(r)),this.current=n.current)}Po(){if(!this.current)return[];const n=this.yo;this.yo=Gt(),this.Eo.forEach(s=>{this.Vo(s.key)&&(this.yo=this.yo.add(s.key))});const r=[];return n.forEach(s=>{this.yo.has(s)||r.push(new FT(s))}),this.yo.forEach(s=>{n.has(s)||r.push(new kT(s))}),r}So(n){this._o=n.Gn,this.yo=Gt();const r=this.Io(n.documents);return this.applyChanges(r,!0)}Do(){return id.fromInitialDocuments(this.query,this.Eo,this.mutatedKeys,0===this.mo)}}class GR{constructor(n,r,s){this.query=n,this.targetId=r,this.view=s}}class qR{constructor(n){this.key=n,this.Co=!1}}class Is{constructor(n,r,s,c,d,m){this.localStore=n,this.remoteStore=r,this.eventManager=s,this.sharedClientState=c,this.currentUser=d,this.maxConcurrentLimboResolutions=m,this.No={},this.xo=new Xl(E=>gI(E),kf),this.ko=new Map,this.$o=new Set,this.Oo=new Un(Ke.comparator),this.Fo=new Map,this.Mo=new ep,this.Lo={},this.Bo=new Map,this.Uo=lc.ie(),this.onlineState="Unknown",this.qo=void 0}get isPrimaryClient(){return!0===this.qo}}function zR(i,n){return Tb.apply(this,arguments)}function Tb(){return(Tb=(0,be.Z)(function*(i,n){const r=ud(i);let s,c;const d=r.xo.get(n);if(d)s=d.targetId,r.sharedClientState.addLocalQueryTarget(s),c=d.view.Do();else{const m=yield Xf(r.localStore,xi(n)),E=r.sharedClientState.addLocalQueryTarget(m.targetId);s=m.targetId,c=yield Sb(r,n,s,"current"===E),r.isPrimaryClient&&o_(r.remoteStore,m)}return c})).apply(this,arguments)}function Sb(i,n,r,s){return Ab.apply(this,arguments)}function Ab(){return(Ab=(0,be.Z)(function*(i,n,r,s){i.Ko=(M,P,W)=>{return(Q=(0,be.Z)(function*(Ee,Ne,Fe,xt){let Mt=Ne.view.Io(Fe);Mt.Ln&&(Mt=yield n_(Ee.localStore,Ne.query,!1).then(({documents:ci})=>Ne.view.Io(ci,Mt)));const Et=xt&&xt.targetChanges.get(Ne.targetId),qt=Ne.view.applyChanges(Mt,Ee.isPrimaryClient,Et);return Ni(Ee,Ne.targetId,qt.vo),qt.snapshot}),function(Ee,Ne,Fe,xt){return Q.apply(this,arguments)})(i,M,P,W);var Q};const c=yield n_(i.localStore,n,!0),d=new LT(n,c.Gn),m=d.Io(c.documents),E=Zl.createSynthesizedTargetChangeForCurrentChange(r,s&&"Offline"!==i.onlineState),I=d.applyChanges(m,i.isPrimaryClient,E);Ni(i,r,I.vo);const S=new GR(n,r,d);return i.xo.set(n,S),i.ko.has(r)?i.ko.get(r).push(n):i.ko.set(r,[n]),I.snapshot})).apply(this,arguments)}function BO(i,n){return xb.apply(this,arguments)}function xb(){return(xb=(0,be.Z)(function*(i,n){const r=ke(i),s=r.xo.get(n),c=r.ko.get(s.targetId);if(c.length>1)return r.ko.set(s.targetId,c.filter(d=>!kf(d,n))),void r.xo.delete(n);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||(yield ed(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),a_(r.remoteStore,s.targetId),od(r,s.targetId)}).catch(Ql))):(od(r,s.targetId),yield ed(r.localStore,s.targetId,!0))})).apply(this,arguments)}function Rb(){return(Rb=(0,be.Z)(function*(i,n,r){const s=E_(i);try{const c=yield function(d,m){const E=ke(d),I=Xn.now(),S=m.reduce((P,W)=>P.add(W.key),Gt());let M;return E.persistence.runTransaction("Locally write mutations","readwrite",P=>E.Qn.Pn(P,S).next(W=>{M=W;const Q=[];for(const Ee of m){const Ne=Kx(Ee,M.get(Ee.key));null!=Ne&&Q.push(new Ba(Ee.key,Ne,aI(Ne.value.mapValue),Pn.exists(!0)))}return E.In.addMutationBatch(P,I,Q,m)})).then(P=>(P.applyToLocalDocumentSet(M),{batchId:P.batchId,changes:M}))}(s.localStore,n);s.sharedClientState.addPendingMutation(c.batchId),function(d,m,E){let I=d.Lo[d.currentUser.toKey()];I||(I=new Un(vt)),I=I.insert(m,E),d.Lo[d.currentUser.toKey()]=I}(s,c.batchId,r),yield Xo(s,c.changes),yield gc(s.remoteStore)}catch(c){const d=rd(c,"Failed to persist write");r.reject(d)}})).apply(this,arguments)}function sd(i,n){return p_.apply(this,arguments)}function p_(){return(p_=(0,be.Z)(function*(i,n){const r=ke(i);try{const s=yield uT(r.localStore,n);n.targetChanges.forEach((c,d)=>{const m=r.Fo.get(d);m&&(ut(c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size<=1),c.addedDocuments.size>0?m.Co=!0:c.modifiedDocuments.size>0?ut(m.Co):c.removedDocuments.size>0&&(ut(m.Co),m.Co=!1))}),yield Xo(r,s,n)}catch(s){yield Ql(s)}})).apply(this,arguments)}function WR(i,n,r){const s=ke(i);if(s.isPrimaryClient&&0===r||!s.isPrimaryClient&&1===r){const c=[];s.xo.forEach((d,m)=>{const E=m.view.eo(n);E.snapshot&&c.push(E.snapshot)}),function(d,m){const E=ke(d);E.onlineState=m;let I=!1;E.queries.forEach((S,M)=>{for(const P of M.listeners)P.eo(m)&&(I=!0)}),I&&NT(E)}(s.eventManager,n),c.length&&s.No.Tr(c),s.onlineState=n,s.isPrimaryClient&&s.sharedClientState.setOnlineState(n)}}function KR(i,n,r){return VT.apply(this,arguments)}function VT(){return(VT=(0,be.Z)(function*(i,n,r){const s=ke(i);s.sharedClientState.updateQueryState(n,"rejected",r);const c=s.Fo.get(n),d=c&&c.key;if(d){let m=new Un(Ke.comparator);m=m.insert(d,Mn.newNoDocument(d,Ct.min()));const E=Gt().add(d),I=new zl(Ct.min(),new Map,new kn(vt),m,E);yield sd(s,I),s.Oo=s.Oo.remove(d),s.Fo.delete(n),g_(s)}else yield ed(s.localStore,n,!1).then(()=>od(s,n,r)).catch(Ql)})).apply(this,arguments)}function jO(i,n){return UT.apply(this,arguments)}function UT(){return(UT=(0,be.Z)(function*(i,n){const r=ke(i),s=n.batch.batchId;try{const c=yield IR(r.localStore,n);Pb(r,s,null),BT(r,s),r.sharedClientState.updateMutationState(s,"acknowledged"),yield Xo(r,c)}catch(c){yield Ql(c)}})).apply(this,arguments)}function Mb(i,n,r){return Ob.apply(this,arguments)}function Ob(){return(Ob=(0,be.Z)(function*(i,n,r){const s=ke(i);try{const c=yield function(d,m){const E=ke(d);return E.persistence.runTransaction("Reject batch","readwrite-primary",I=>{let S;return E.In.lookupMutationBatch(I,m).next(M=>(ut(null!==M),S=M.keys(),E.In.removeMutationBatch(I,M))).next(()=>E.In.performConsistencyCheck(I)).next(()=>E.Qn.Pn(I,S))})}(s.localStore,n);Pb(s,n,r),BT(s,n),s.sharedClientState.updateMutationState(n,"rejected",r),yield Xo(s,c)}catch(c){yield Ql(c)}})).apply(this,arguments)}function Nb(){return(Nb=(0,be.Z)(function*(i,n){const r=ke(i);qa(r.remoteStore)||Me("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(d){const m=ke(d);return m.persistence.runTransaction("Get highest unacknowledged batch id","readonly",E=>m.In.getHighestUnacknowledgedBatchId(E))}(r.localStore);if(-1===s)return void n.resolve();const c=r.Bo.get(s)||[];c.push(n),r.Bo.set(s,c)}catch(s){const c=rd(s,"Initialization of waitForPendingWrites() operation failed");n.reject(c)}})).apply(this,arguments)}function BT(i,n){(i.Bo.get(n)||[]).forEach(r=>{r.resolve()}),i.Bo.delete(n)}function Pb(i,n,r){const s=ke(i);let c=s.Lo[s.currentUser.toKey()];if(c){const d=c.get(n);d&&(r?d.reject(r):d.resolve(),c=c.remove(n)),s.Lo[s.currentUser.toKey()]=c}}function od(i,n,r=null){i.sharedClientState.removeLocalQueryTarget(n);for(const s of i.ko.get(n))i.xo.delete(s),r&&i.No.jo(s,r);i.ko.delete(n),i.isPrimaryClient&&i.Mo.cs(n).forEach(s=>{i.Mo.containsKey(s)||jT(i,s)})}function jT(i,n){i.$o.delete(n.path.canonicalString());const r=i.Oo.get(n);null!==r&&(a_(i.remoteStore,r),i.Oo=i.Oo.remove(n),i.Fo.delete(r),g_(i))}function Ni(i,n,r){for(const s of r)s instanceof kT?(i.Mo.addReference(s.key,n),HO(i,s)):s instanceof FT?(Me("SyncEngine","Document no longer in limbo: "+s.key),i.Mo.removeReference(s.key,n),i.Mo.containsKey(s.key)||jT(i,s.key)):Ye()}function HO(i,n){const r=n.key,s=r.path.canonicalString();i.Oo.get(r)||i.$o.has(s)||(Me("SyncEngine","New document in limbo: "+r),i.$o.add(s),g_(i))}function g_(i){for(;i.$o.size>0&&i.Oo.size<i.maxConcurrentLimboResolutions;){const n=i.$o.values().next().value;i.$o.delete(n);const r=new Ke(Dt.fromString(n)),s=i.Uo.next();i.Fo.set(s,new qR(r)),i.Oo=i.Oo.insert(r,s),o_(i.remoteStore,new Ga(xi($l(r.path)),s,2,Je.T))}}function Xo(i,n,r){return m_.apply(this,arguments)}function m_(){return(m_=(0,be.Z)(function*(i,n,r){const s=ke(i),c=[],d=[],m=[];var E;s.xo.isEmpty()||(s.xo.forEach((E,I)=>{m.push(s.Ko(I,n,r).then(S=>{if(S){s.isPrimaryClient&&s.sharedClientState.updateQueryState(I.targetId,S.fromCache?"not-current":"current"),c.push(S);const M=sT.kn(I.targetId,S);d.push(M)}}))}),yield Promise.all(m),s.No.Tr(c),yield(E=(0,be.Z)(function*(I,S){const M=ke(I);try{yield M.persistence.runTransaction("notifyLocalViewChanges","readwrite",P=>Te.forEach(S,W=>Te.forEach(W.Nn,Q=>M.persistence.referenceDelegate.addReference(P,W.targetId,Q)).next(()=>Te.forEach(W.xn,Q=>M.persistence.referenceDelegate.removeReference(P,W.targetId,Q)))))}catch(P){if(!$a(P))throw P;Me("LocalStore","Failed to update sequence numbers: "+P)}for(const P of S){const W=P.targetId;if(!P.fromCache){const Q=M.Un.get(W),Ne=Q.withLastLimboFreeSnapshotVersion(Q.snapshotVersion);M.Un=M.Un.insert(W,Ne)}}}),function(I,S){return E.apply(this,arguments)})(s.localStore,d))})).apply(this,arguments)}function HT(i,n){return __.apply(this,arguments)}function __(){return(__=(0,be.Z)(function*(i,n){const r=ke(i);if(!r.currentUser.isEqual(n)){Me("SyncEngine","User change. New user:",n.toKey());const s=yield DR(r.localStore,n);r.currentUser=n,(c=r).Bo.forEach(m=>{m.forEach(E=>{E.reject(new Se(de.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),c.Bo.clear(),r.sharedClientState.handleUserChange(n,s.removedBatchIds,s.addedBatchIds),yield Xo(r,s.Wn)}var c})).apply(this,arguments)}function kb(i,n){const r=ke(i),s=r.Fo.get(n);if(s&&s.Co)return Gt().add(s.key);{let c=Gt();const d=r.ko.get(n);if(!d)return c;for(const m of d){const E=r.xo.get(m);c=c.unionWith(E.view.To)}return c}}function Fb(i,n){return up.apply(this,arguments)}function up(){return(up=(0,be.Z)(function*(i,n){const r=ke(i),s=yield n_(r.localStore,n.query,!0),c=n.view.So(s);return r.isPrimaryClient&&Ni(r,n.targetId,c.vo),c})).apply(this,arguments)}function y_(i){return ad.apply(this,arguments)}function ad(){return(ad=(0,be.Z)(function*(i){const n=ke(i);return dT(n.localStore).then(r=>Xo(n,r))})).apply(this,arguments)}function $T(i,n,r,s){return v_.apply(this,arguments)}function v_(){return(v_=(0,be.Z)(function*(i,n,r,s){const c=ke(i),d=yield function(m,E){const I=ke(m),S=ke(I.In);return I.persistence.runTransaction("Lookup mutation documents","readonly",M=>S.Xt(M,E).next(P=>P?I.Qn.Pn(M,P):Te.resolve(null)))}(c.localStore,n);var E;null!==d?("pending"===r?yield gc(c.remoteStore):"acknowledged"===r||"rejected"===r?(Pb(c,n,s||null),BT(c,n),E=n,ke(ke(c.localStore).In).te(E)):Ye(),yield Xo(c,d)):Me("SyncEngine","Cannot apply mutation batch with id: "+n)})).apply(this,arguments)}function Lb(){return(Lb=(0,be.Z)(function*(i,n){const r=ke(i);if(ud(r),E_(r),!0===n&&!0!==r.qo){const s=r.sharedClientState.getAllActiveQueryTargets(),c=yield Vb(r,s.toArray());r.qo=!0,yield sp(r.remoteStore,!0);for(const d of c)o_(r.remoteStore,d)}else if(!1===n&&!1!==r.qo){const s=[];let c=Promise.resolve();r.ko.forEach((d,m)=>{r.sharedClientState.isLocalQueryTarget(m)?s.push(m):c=c.then(()=>(od(r,m),ed(r.localStore,m,!0))),a_(r.remoteStore,m)}),yield c,yield Vb(r,s),function(d){const m=ke(d);m.Fo.forEach((E,I)=>{a_(m.remoteStore,I)}),m.Mo.us(),m.Fo=new Map,m.Oo=new Un(Ke.comparator)}(r),r.qo=!1,yield sp(r.remoteStore,!1)}})).apply(this,arguments)}function Vb(i,n,r){return Ub.apply(this,arguments)}function Ub(){return(Ub=(0,be.Z)(function*(i,n,r){const s=ke(i),c=[],d=[];for(const m of n){let E;const I=s.ko.get(m);if(I&&0!==I.length){E=yield Xf(s.localStore,xi(I[0]));for(const S of I){const M=s.xo.get(S),P=yield Fb(s,M);P.snapshot&&d.push(P.snapshot)}}else{const S=yield lT(s.localStore,m);E=yield Xf(s.localStore,S),yield Sb(s,GT(S),m,!1)}c.push(E)}return s.No.Tr(d),c})).apply(this,arguments)}function GT(i){return fI(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function JR(i){const n=ke(i);return ke(ke(n.localStore).persistence).pn()}function Bb(i,n,r,s){return jb.apply(this,arguments)}function jb(){return(jb=(0,be.Z)(function*(i,n,r,s){const c=ke(i);if(c.qo)Me("SyncEngine","Ignoring unexpected query state notification.");else if(c.ko.has(n))switch(r){case"current":case"not-current":{const d=yield dT(c.localStore),m=zl.createSynthesizedRemoteEventForCurrentChange(n,"current"===r);yield Xo(c,d,m);break}case"rejected":yield ed(c.localStore,n,!0),od(c,n,s);break;default:Ye()}})).apply(this,arguments)}function Qr(i,n,r){return _c.apply(this,arguments)}function _c(){return(_c=(0,be.Z)(function*(i,n,r){const s=ud(i);if(s.qo){for(const c of n){if(s.ko.has(c)){Me("SyncEngine","Adding an already active target "+c);continue}const d=yield lT(s.localStore,c),m=yield Xf(s.localStore,d);yield Sb(s,GT(d),m.targetId,!1),o_(s.remoteStore,m)}for(const c of r)s.ko.has(c)&&(yield ed(s.localStore,c,!1).then(()=>{a_(s.remoteStore,c),od(s,c)}).catch(Ql))}})).apply(this,arguments)}function ud(i){const n=ke(i);return n.remoteStore.remoteSyncer.applyRemoteEvent=sd.bind(null,n),n.remoteStore.remoteSyncer.getRemoteKeysForTarget=kb.bind(null,n),n.remoteStore.remoteSyncer.rejectListen=KR.bind(null,n),n.No.Tr=BR.bind(null,n.eventManager),n.No.jo=jR.bind(null,n.eventManager),n}function E_(i){const n=ke(i);return n.remoteStore.remoteSyncer.applySuccessfulWrite=jO.bind(null,n),n.remoteStore.remoteSyncer.rejectFailedWrite=Mb.bind(null,n),n}class w_{constructor(){this.synchronizeTabs=!1}initialize(n){var r=this;return(0,be.Z)(function*(){r.N=td(n.databaseInfo.databaseId),r.sharedClientState=r.Wo(n),r.persistence=r.Go(n),yield r.persistence.start(),r.gcScheduler=r.zo(n),r.localStore=r.Ho(n)})()}zo(n){return null}Ho(n){return oT(this.persistence,new CR,n.initialUser,this.N)}Go(n){return new xR(tp.Ns,this.N)}Wo(n){return new _T}terminate(){var n=this;return(0,be.Z)(function*(){n.gcScheduler&&n.gcScheduler.stop(),yield n.sharedClientState.shutdown(),yield n.persistence.shutdown()})()}}class Hb extends w_{constructor(n,r,s){super(),this.Jo=n,this.cacheSizeBytes=r,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(n){var r=()=>super.initialize,s=this;return(0,be.Z)(function*(){yield r().call(s,n),yield function(i){return ab.apply(this,arguments)}(s.localStore),yield s.Jo.initialize(s,n),yield E_(s.Jo.syncEngine),yield gc(s.Jo.remoteStore),yield s.persistence.nn(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(s.localStore),Promise.resolve()))})()}Ho(n){return oT(this.persistence,new CR,n.initialUser,this.N)}zo(n){return new nb(this.persistence.referenceDelegate.garbageCollector,n.asyncQueue)}Go(n){const r=rT(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?Mi.withCacheSize(this.cacheSizeBytes):Mi.DEFAULT;return new nT(this.synchronizeTabs,r,n.clientId,s,n.asyncQueue,ET(),s_(),this.N,this.sharedClientState,!!this.forceOwnership)}Wo(n){return new _T}}class C_ extends Hb{constructor(n,r){super(n,r,!1),this.Jo=n,this.cacheSizeBytes=r,this.synchronizeTabs=!0}initialize(n){var r=()=>super.initialize,s=this;return(0,be.Z)(function*(){yield r().call(s,n);const c=s.Jo.syncEngine;s.sharedClientState instanceof mT&&(s.sharedClientState.syncEngine={_i:$T.bind(null,c),mi:Bb.bind(null,c),gi:Qr.bind(null,c),pn:JR.bind(null,c),wi:y_.bind(null,c)},yield s.sharedClientState.start()),yield s.persistence.nn(function(){var d=(0,be.Z)(function*(m){yield function(i,n){return Lb.apply(this,arguments)}(s.Jo.syncEngine,m),s.gcScheduler&&(m&&!s.gcScheduler.started?s.gcScheduler.start(s.localStore):m||s.gcScheduler.stop())});return function(m){return d.apply(this,arguments)}}())})()}Wo(n){const r=ET();if(!mT.bt(r))throw new Se(de.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=rT(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new mT(r,n.asyncQueue,s,n.clientId,n.initialUser)}}class $b{initialize(n,r){var s=this;return(0,be.Z)(function*(){s.localStore||(s.localStore=n.localStore,s.sharedClientState=n.sharedClientState,s.datastore=s.createDatastore(r),s.remoteStore=s.createRemoteStore(r),s.eventManager=s.createEventManager(r),s.syncEngine=s.createSyncEngine(r,!n.synchronizeTabs),s.sharedClientState.onlineStateHandler=c=>WR(s.syncEngine,c,1),s.remoteStore.remoteSyncer.handleCredentialChange=HT.bind(null,s.syncEngine),yield sp(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(n){return new VO}createDatastore(n){const r=td(n.databaseInfo.databaseId),s=new vT(n.databaseInfo);return new PR(n.credentials,s,r)}createRemoteStore(n){return r=this.localStore,s=this.datastore,c=n.asyncQueue,d=E=>WR(this.syncEngine,E,0),m=yT.bt()?new yT:new MR,new CT(r,s,c,d,m);var r,s,c,d,m}createSyncEngine(n,r){return function(s,c,d,m,E,I,S){const M=new Is(s,c,d,m,E,I);return S&&(M.qo=!0),M}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return(n=(0,be.Z)(function*(r){const s=ke(r);Me("RemoteStore","RemoteStore shutting down."),s.Kr.add(5),yield pc(s),s.Qr.shutdown(),s.Wr.set("Unknown")}),function(r){return n.apply(this,arguments)})(this.remoteStore);var n}}function qT(i,n=10240){let r=0;return{read:()=>(0,be.Z)(function*(){if(r<i.byteLength){const s={value:i.slice(r,r+n),done:!1};return r+=n,s}return{done:!0}})(),cancel:()=>(0,be.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class D_{constructor(n){this.observer=n,this.muted=!1}next(n){this.observer.next&&this.Yo(this.observer.next,n)}error(n){this.observer.error?this.Yo(this.observer.error,n):console.error("Uncaught Error in snapshot listener:",n)}Xo(){this.muted=!0}Yo(n,r){this.muted||setTimeout(()=>{this.muted||n(r)},0)}}class XR{constructor(n,r){this.Zo=n,this.N=r,this.metadata=new yr,this.buffer=new Uint8Array,this.ta=new TextDecoder("utf-8"),this.ea().then(s=>{s&&s.ho()?this.metadata.resolve(s.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==s?void 0:s.payload)}`))},s=>this.metadata.reject(s))}close(){return this.Zo.cancel()}getMetadata(){var n=this;return(0,be.Z)(function*(){return n.metadata.promise})()}Qo(){var n=this;return(0,be.Z)(function*(){return yield n.getMetadata(),n.ea()})()}ea(){var n=this;return(0,be.Z)(function*(){const r=yield n.na();if(null===r)return null;const s=n.ta.decode(r),c=Number(s);isNaN(c)&&n.sa(`length string (${s}) is not valid number`);const d=yield n.ia(c);return new HR(JSON.parse(d),r.length+c)})()}ra(){return this.buffer.findIndex(n=>n==="{".charCodeAt(0))}na(){var n=this;return(0,be.Z)(function*(){for(;n.ra()<0&&!(yield n.oa()););if(0===n.buffer.length)return null;const r=n.ra();r<0&&n.sa("Reached the end of bundle when a length string is expected.");const s=n.buffer.slice(0,r);return n.buffer=n.buffer.slice(r),s})()}ia(n){var r=this;return(0,be.Z)(function*(){for(;r.buffer.length<n;)(yield r.oa())&&r.sa("Reached the end of bundle when more is expected.");const s=r.ta.decode(r.buffer.slice(0,n));return r.buffer=r.buffer.slice(n),s})()}sa(n){throw this.Zo.cancel(),new Error(`Invalid bundle format: ${n}`)}oa(){var n=this;return(0,be.Z)(function*(){const r=yield n.Zo.read();if(!r.done){const s=new Uint8Array(n.buffer.length+r.value.length);s.set(n.buffer),s.set(r.value,n.buffer.length),n.buffer=s}return r.done})()}}class zT{constructor(n){this.datastore=n,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(n){var r=this;return(0,be.Z)(function*(){if(r.ensureCommitNotCalled(),r.mutations.length>0)throw new Se(de.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const s=yield(c=(0,be.Z)(function*(d,m){const E=ke(d),I=ac(E.N)+"/documents",S={documents:m.map(Q=>jm(E.N,Q))},M=yield E.Ki("BatchGetDocuments",I,S),P=new Map;M.forEach(Q=>{const Ee=function(i,n){return"found"in n?function(r,s){ut(!!s.found);const c=Yi(r,s.found.name),d=Bn(s.found.updateTime),m=new Mr({mapValue:{fields:s.found.fields}});return Mn.newFoundDocument(c,d,m)}(i,n):"missing"in n?function(r,s){ut(!!s.missing),ut(!!s.readTime);const c=Yi(r,s.missing),d=Bn(s.readTime);return Mn.newNoDocument(c,d)}(i,n):Ye()}(E.N,Q);P.set(Ee.key.toString(),Ee)});const W=[];return m.forEach(Q=>{const Ee=P.get(Q.toString());ut(!!Ee),W.push(Ee)}),W}),function(d,m){return c.apply(this,arguments)})(r.datastore,n);var c;return s.forEach(c=>r.recordVersion(c)),s})()}set(n,r){this.write(r.toMutation(n,this.precondition(n))),this.writtenDocs.add(n.toString())}update(n,r){try{this.write(r.toMutation(n,this.preconditionForUpdate(n)))}catch(s){this.lastWriteError=s}this.writtenDocs.add(n.toString())}delete(n){this.write(new no(n,this.precondition(n))),this.writtenDocs.add(n.toString())}commit(){var n=this;return(0,be.Z)(function*(){if(n.ensureCommitNotCalled(),n.lastWriteError)throw n.lastWriteError;const r=n.readVersions;var s;n.mutations.forEach(s=>{r.delete(s.key.toString())}),r.forEach((s,c)=>{const d=Ke.fromPath(c);n.mutations.push(new TI(d,n.precondition(d)))}),yield(s=(0,be.Z)(function*(c,d){const m=ke(c),E=ac(m.N)+"/documents",I={writes:d.map(S=>Gf(m.N,S))};yield m.Li("Commit",E,I)}),function(c,d){return s.apply(this,arguments)})(n.datastore,n.mutations),n.committed=!0})()}recordVersion(n){let r;if(n.isFoundDocument())r=n.version;else{if(!n.isNoDocument())throw Ye();r=Ct.min()}const s=this.readVersions.get(n.key.toString());if(s){if(!r.isEqual(s))throw new Se(de.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(n.key.toString(),r)}precondition(n){const r=this.readVersions.get(n.toString());return!this.writtenDocs.has(n.toString())&&r?Pn.updateTime(r):Pn.none()}preconditionForUpdate(n){const r=this.readVersions.get(n.toString());if(!this.writtenDocs.has(n.toString())&&r){if(r.isEqual(Ct.min()))throw new Se(de.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Pn.updateTime(r)}return Pn.exists(!0)}write(n){this.ensureCommitNotCalled(),this.mutations.push(n)}ensureCommitNotCalled(){}}class eM{constructor(n,r,s,c){this.asyncQueue=n,this.datastore=r,this.updateFunction=s,this.deferred=c,this.aa=5,this.rr=new pb(this.asyncQueue,"transaction_retry")}run(){this.aa-=1,this.ca()}ca(){var n=this;this.rr.Xi((0,be.Z)(function*(){const r=new zT(n.datastore),s=n.ua(r);s&&s.then(c=>{n.asyncQueue.enqueueAndForget(()=>r.commit().then(()=>{n.deferred.resolve(c)}).catch(d=>{n.ha(d)}))}).catch(c=>{n.ha(c)})}))}ua(n){try{const r=this.updateFunction(n);return!Zo(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}ha(n){this.aa>0&&this.la(n)?(this.aa-=1,this.asyncQueue.enqueueAndForget(()=>(this.ca(),Promise.resolve()))):this.deferred.reject(n)}la(n){if("FirebaseError"===n.name){const r=n.code;return"aborted"===r||"failed-precondition"===r||!LE(r)}return!1}}class tM{constructor(n,r,s){var c=this;this.credentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Hn.UNAUTHENTICATED,this.clientId=Mm.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(r,function(){var d=(0,be.Z)(function*(m){Me("FirestoreClient","Received user=",m.uid),yield c.credentialListener(m),c.user=m});return function(m){return d.apply(this,arguments)}}())}getConfiguration(){var n=this;return(0,be.Z)(function*(){return{asyncQueue:n.asyncQueue,databaseInfo:n.databaseInfo,clientId:n.clientId,credentials:n.credentials,initialUser:n.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(n){this.credentialListener=n}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Se(de.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var n=this;this.asyncQueue.enterRestrictedMode();const r=new yr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,be.Z)(function*(){try{n.onlineComponents&&(yield n.onlineComponents.terminate()),n.offlineComponents&&(yield n.offlineComponents.terminate()),n.credentials.shutdown(),r.resolve()}catch(s){const c=rd(s,"Failed to shutdown persistence");r.reject(c)}})),r.promise}}function ZT(i,n){return so.apply(this,arguments)}function so(){return(so=(0,be.Z)(function*(i,n){i.asyncQueue.verifyOperationInProgress(),Me("FirestoreClient","Initializing OfflineComponentProvider");const r=yield i.getConfiguration();yield n.initialize(r);let s=r.initialUser;i.setCredentialChangeListener(function(){var c=(0,be.Z)(function*(d){s.isEqual(d)||(yield DR(n.localStore,d),s=d)});return function(d){return c.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener(()=>i.terminate()),i.offlineComponents=n})).apply(this,arguments)}function cd(i,n){return cp.apply(this,arguments)}function cp(){return(cp=(0,be.Z)(function*(i,n){i.asyncQueue.verifyOperationInProgress();const r=yield Gb(i);Me("FirestoreClient","Initializing OnlineComponentProvider");const s=yield i.getConfiguration();yield n.initialize(r,s),i.setCredentialChangeListener(c=>{return(d=(0,be.Z)(function*(m,E){const I=ke(m);I.asyncQueue.verifyOperationInProgress(),Me("RemoteStore","RemoteStore received new credentials");const S=qa(I);I.Kr.add(3),yield pc(I),S&&I.Wr.set("Unknown"),yield I.remoteSyncer.handleCredentialChange(E),I.Kr.delete(3),yield Qo(I)}),function(m,E){return d.apply(this,arguments)})(n.remoteStore,c);var d}),i.onlineComponents=n})).apply(this,arguments)}function Gb(i){return qb.apply(this,arguments)}function qb(){return(qb=(0,be.Z)(function*(i){return i.offlineComponents||(Me("FirestoreClient","Using default OfflineComponentProvider"),yield ZT(i,new w_)),i.offlineComponents})).apply(this,arguments)}function I_(i){return lp.apply(this,arguments)}function lp(){return(lp=(0,be.Z)(function*(i){return i.onlineComponents||(Me("FirestoreClient","Using default OnlineComponentProvider"),yield cd(i,new $b)),i.onlineComponents})).apply(this,arguments)}function WT(i){return Gb(i).then(n=>n.persistence)}function T_(i){return Gb(i).then(n=>n.localStore)}function zb(i){return I_(i).then(n=>n.remoteStore)}function Zb(i){return I_(i).then(n=>n.syncEngine)}function ld(i){return Wb.apply(this,arguments)}function Wb(){return(Wb=(0,be.Z)(function*(i){const n=yield I_(i),r=n.eventManager;return r.onListen=zR.bind(null,n.syncEngine),r.onUnlisten=BO.bind(null,n.syncEngine),r})).apply(this,arguments)}function hp(i,n,r={}){const s=new yr;return i.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function(c,d,m,E,I){const S=new D_({next:P=>{d.enqueueAndForget(()=>Cb(c,M));const W=P.docs.has(m);!W&&P.fromCache?I.reject(new Se(de.UNAVAILABLE,"Failed to get document because the client is offline.")):W&&P.fromCache&&E&&"server"===E.source?I.reject(new Se(de.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):I.resolve(P)},error:P=>I.reject(P)}),M=new Ib($l(m.path),S,{includeMetadataChanges:!0,uo:!0});return OT(c,M)}(yield ld(i),i.asyncQueue,n,r,s)})),s.promise}function KT(i,n,r={}){const s=new yr;return i.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function(c,d,m,E,I){const S=new D_({next:P=>{d.enqueueAndForget(()=>Cb(c,M)),P.fromCache&&"server"===E.source?I.reject(new Se(de.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):I.resolve(P)},error:P=>I.reject(P)}),M=new Ib(m,S,{includeMetadataChanges:!0,uo:!0});return OT(c,M)}(yield ld(i),i.asyncQueue,n,r,s)})),s.promise}class JT{constructor(n,r,s,c,d,m,E,I){this.databaseId=n,this.appId=r,this.persistenceKey=s,this.host=c,this.ssl=d,this.forceLongPolling=m,this.autoDetectLongPolling=E,this.useFetchStreams=I}}class yc{constructor(n,r){this.projectId=n,this.database=r||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(n){return n instanceof yc&&n.projectId===this.projectId&&n.database===this.database}}const S_=new Map;function Kb(i,n,r){if(!r)throw new Se(de.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${n}.`)}function XT(i,n,r,s){if(!0===n&&!0===s)throw new Se(de.INVALID_ARGUMENT,`${i} and ${r} cannot be used together.`)}function Yb(i){if(!Ke.isDocumentKey(i))throw new Se(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function za(i){if(Ke.isDocumentKey(i))throw new Se(de.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function fd(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const n=(r=i).constructor?r.constructor.name:null;return n?`a custom ${n} object`:"an object"}}var r;return"function"==typeof i?"a function":Ye()}function Lt(i,n){if("_delegate"in i&&(i=i._delegate),!(i instanceof n)){if(n.name===i.constructor.name)throw new Se(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=fd(i);throw new Se(de.INVALID_ARGUMENT,`Expected type '${n.name}', but it was: ${r}`)}}return i}function eS(i,n){if(n<=0)throw new Se(de.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${n}.`)}class iM{constructor(n){var r;if(void 0===n.host){if(void 0!==n.ssl)throw new Se(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=n.host,this.ssl=null===(r=n.ssl)||void 0===r||r;if(this.credentials=n.credentials,this.ignoreUndefinedProperties=!!n.ignoreUndefinedProperties,void 0===n.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==n.cacheSizeBytes&&n.cacheSizeBytes<1048576)throw new Se(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=n.cacheSizeBytes}this.experimentalForceLongPolling=!!n.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!n.experimentalAutoDetectLongPolling,this.useFetchStreams=!!n.useFetchStreams,XT("experimentalForceLongPolling",n.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",n.experimentalAutoDetectLongPolling)}isEqual(n){return this.host===n.host&&this.ssl===n.ssl&&this.credentials===n.credentials&&this.cacheSizeBytes===n.cacheSizeBytes&&this.experimentalForceLongPolling===n.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===n.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===n.ignoreUndefinedProperties&&this.useFetchStreams===n.useFetchStreams}}class A_{constructor(n,r){this._credentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new iM({}),this._settingsFrozen=!1,n instanceof yc?this._databaseId=n:(this._app=n,this._databaseId=function(s){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new Se(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yc(s.options.projectId)}(n))}get app(){if(!this._app)throw new Se(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(n){if(this._settingsFrozen)throw new Se(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new iM(n),void 0!==n.credentials&&(this._credentials=function(r){if(!r)return new $t;switch(r.type){case"gapi":const s=r.client;return ut(!("object"!=typeof s||null===s||!s.auth||!s.auth.getAuthHeaderValueForFirstParty)),new xO(s,r.sessionIndex||"0",r.iamToken||null);case"provider":return r.client;default:throw new Se(de.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(n.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=S_.get(n);r&&(Me("ComponentProvider","Removing Datastore"),S_.delete(n),r.terminate())}(this),Promise.resolve()}}class wn{constructor(n,r,s){this.converter=r,this._key=s,this.type="document",this.firestore=n}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new oo(this.firestore,this.converter,this._key.path.popLast())}withConverter(n){return new wn(this.firestore,n,this._key)}}class Or{constructor(n,r,s){this.converter=r,this._query=s,this.type="query",this.firestore=n}withConverter(n){return new Or(this.firestore,n,this._query)}}class oo extends Or{constructor(n,r,s){super(n,r,$l(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const n=this._path.popLast();return n.isEmpty()?null:new wn(this.firestore,null,new Ke(n))}withConverter(n){return new oo(this.firestore,n,this._path)}}function sM(i,n,...r){if(i=(0,kt.m9)(i),Kb("collection","path",n),i instanceof A_){const s=Dt.fromString(n,...r);return za(s),new oo(i,null,s)}{if(!(i instanceof wn||i instanceof oo))throw new Se(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Dt.fromString(n,...r));return za(s),new oo(i.firestore,null,s)}}function Qb(i,n,...r){if(i=(0,kt.m9)(i),1===arguments.length&&(n=Mm.I()),Kb("doc","path",n),i instanceof A_){const s=Dt.fromString(n,...r);return Yb(s),new wn(i,null,new Ke(s))}{if(!(i instanceof wn||i instanceof oo))throw new Se(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Dt.fromString(n,...r));return Yb(s),new wn(i.firestore,i instanceof oo?i.converter:null,new Ke(s))}}function oM(i,n){return i=(0,kt.m9)(i),n=(0,kt.m9)(n),(i instanceof wn||i instanceof oo)&&(n instanceof wn||n instanceof oo)&&i.firestore===n.firestore&&i.path===n.path&&i.converter===n.converter}function tS(i,n){return i=(0,kt.m9)(i),n=(0,kt.m9)(n),i instanceof Or&&n instanceof Or&&i.firestore===n.firestore&&kf(i._query,n._query)&&i.converter===n.converter}class qO{constructor(){this.fa=Promise.resolve(),this.da=[],this.wa=!1,this._a=[],this.ma=null,this.ga=!1,this.ya=!1,this.pa=[],this.rr=new pb(this,"async_queue_retry"),this.Ea=()=>{const r=s_();r&&Me("AsyncQueue","Visibility state changed to "+r.visibilityState),this.rr.tr()};const n=s_();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Ea)}get isShuttingDown(){return this.wa}enqueueAndForget(n){this.enqueue(n)}enqueueAndForgetEvenWhileRestricted(n){this.Ta(),this.Ia(n)}enterRestrictedMode(n){if(!this.wa){this.wa=!0,this.ya=n||!1;const r=s_();r&&"function"==typeof r.removeEventListener&&r.removeEventListener("visibilitychange",this.Ea)}}enqueue(n){if(this.Ta(),this.wa)return new Promise(()=>{});const r=new yr;return this.Ia(()=>this.wa&&this.ya?Promise.resolve():(n().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(n){this.enqueueAndForget(()=>(this.da.push(n),this.Aa()))}Aa(){var n=this;return(0,be.Z)(function*(){if(0!==n.da.length){try{yield n.da[0](),n.da.shift(),n.rr.reset()}catch(r){if(!$a(r))throw r;Me("AsyncQueue","Operation failed with retryable error: "+r)}n.da.length>0&&n.rr.Xi(()=>n.Aa())}})()}Ia(n){const r=this.fa.then(()=>(this.ga=!0,n().catch(s=>{throw this.ma=s,this.ga=!1,Vn("INTERNAL UNHANDLED ERROR: ",function(c){let d=c.message||"";return c.stack&&(d=c.stack.includes(c.message)?c.stack:c.message+"\n"+c.stack),d}(s)),s}).then(s=>(this.ga=!1,s))));return this.fa=r,r}enqueueAfterDelay(n,r,s){this.Ta(),this.pa.indexOf(n)>-1&&(r=0);const c=bb.createAndSchedule(this,n,r,s,d=>this.Ra(d));return this._a.push(c),c}Ta(){this.ma&&Ye()}verifyOperationInProgress(){}ba(){var n=this;return(0,be.Z)(function*(){let r;do{r=n.fa,yield r}while(r!==n.fa)})()}Pa(n){for(const r of this._a)if(r.timerId===n)return!0;return!1}va(n){return this.ba().then(()=>{this._a.sort((r,s)=>r.targetTimeMs-s.targetTimeMs);for(const r of this._a)if(r.skipDelay(),"all"!==n&&r.timerId===n)break;return this.ba()})}Va(n){this.pa.push(n)}Ra(n){const r=this._a.indexOf(n);this._a.splice(r,1)}}function nS(i){return function(n,r){if("object"!=typeof n||null===n)return!1;const s=n;for(const c of["next","error","complete"])if(c in s&&"function"==typeof s[c])return!0;return!1}(i)}class zO{constructor(){this._progressObserver={},this._taskCompletionResolver=new yr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(n,r,s){this._progressObserver={next:n,error:r,complete:s}}catch(n){return this._taskCompletionResolver.promise.catch(n)}then(n,r){return this._taskCompletionResolver.promise.then(n,r)}_completeWith(n){this._updateProgress(n),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(n)}_failWith(n){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(n),this._taskCompletionResolver.reject(n)}_updateProgress(n){this._lastProgress=n,this._progressObserver.next&&this._progressObserver.next(n)}}class o extends A_{constructor(n,r){super(n,r),this.type="firestore",this._queue=new qO,this._persistenceKey="name"in n?n.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||h(this),this._firestoreClient.terminate()}}function l(i){return i._firestoreClient||h(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function h(i){var n;const r=i._freezeSettings(),s=(d=(null===(n=i._app)||void 0===n?void 0:n.options.appId)||"",new JT(i._databaseId,d,i._persistenceKey,(E=r).host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,E.useFetchStreams));var d,E;i._firestoreClient=new tM(i._credentials,i._queue,s)}function b(i,n,r){const s=new yr;return i.asyncQueue.enqueue((0,be.Z)(function*(){try{yield ZT(i,r),yield cd(i,n),s.resolve()}catch(c){if(!("FirebaseError"===(d=c).name?d.code===de.FAILED_PRECONDITION||d.code===de.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&d instanceof DOMException)||22===d.code||20===d.code||11===d.code))throw c;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+c),s.reject(c)}var d})).then(()=>s.promise)}function ae(i){if(i._initialized||i._terminated)throw new Se(de.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class J{constructor(...n){for(let r=0;r<n.length;++r)if(0===n[r].length)throw new Se(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vr(n)}isEqual(n){return this._internalPath.isEqual(n._internalPath)}}class me{constructor(n){this._byteString=n}static fromBase64String(n){try{return new me(Rn.fromBase64String(n))}catch(r){throw new Se(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(n){return new me(Rn.fromUint8Array(n))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(n){return this._byteString.isEqual(n._byteString)}}class $e{constructor(n){this._methodName=n}}class rt{constructor(n,r){if(!isFinite(n)||n<-90||n>90)throw new Se(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+n);if(!isFinite(r)||r<-180||r>180)throw new Se(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=n,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(n){return this._lat===n._lat&&this._long===n._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(n){return vt(this._lat,n._lat)||vt(this._long,n._long)}}const At=/^__.*__$/;class tr{constructor(n,r,s){this.data=n,this.fieldMask=r,this.fieldTransforms=s}toMutation(n,r){return null!==this.fieldMask?new Ba(n,this.data,this.fieldMask,r,this.fieldTransforms):new ql(n,this.data,r,this.fieldTransforms)}}class Pi{constructor(n,r,s){this.data=n,this.fieldMask=r,this.fieldTransforms=s}toMutation(n,r){return new Ba(n,this.data,this.fieldMask,r,this.fieldTransforms)}}function pd(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ye()}}class ta{constructor(n,r,s,c,d,m){this.settings=n,this.databaseId=r,this.N=s,this.ignoreUndefinedProperties=c,void 0===d&&this.Sa(),this.fieldTransforms=d||[],this.fieldMask=m||[]}get path(){return this.settings.path}get Da(){return this.settings.Da}Ca(n){return new ta(Object.assign(Object.assign({},this.settings),n),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Na(n){var r;const s=null===(r=this.path)||void 0===r?void 0:r.child(n),c=this.Ca({path:s,xa:!1});return c.ka(n),c}$a(n){var r;const s=null===(r=this.path)||void 0===r?void 0:r.child(n),c=this.Ca({path:s,xa:!1});return c.Sa(),c}Oa(n){return this.Ca({path:void 0,xa:!0})}Fa(n){return rS(n,this.settings.methodName,this.settings.Ma||!1,this.path,this.settings.La)}contains(n){return void 0!==this.fieldMask.find(r=>n.isPrefixOf(r))||void 0!==this.fieldTransforms.find(r=>n.isPrefixOf(r.field))}Sa(){if(this.path)for(let n=0;n<this.path.length;n++)this.ka(this.path.get(n))}ka(n){if(0===n.length)throw this.Fa("Document fields must not be empty");if(pd(this.Da)&&At.test(n))throw this.Fa('Document fields cannot begin and end with "__"')}}class gd{constructor(n,r,s){this.databaseId=n,this.ignoreUndefinedProperties=r,this.N=s||td(n)}Ba(n,r,s,c=!1){return new ta({Da:n,methodName:r,La:s,path:vr.emptyPath(),xa:!1,Ma:c},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function Ji(i){const n=i._freezeSettings(),r=td(i._databaseId);return new gd(i._databaseId,!!n.ignoreUndefinedProperties,r)}function md(i,n,r,s,c,d={}){const m=i.Ba(d.merge||d.mergeFields?2:0,n,r,c);cM("Data must be an object, but it was:",m,s);const E=KO(s,m);let I,S;if(d.merge)I=new Ju(m.fieldMask),S=m.fieldTransforms;else if(d.mergeFields){const M=[];for(const P of d.mergeFields){const W=lM(n,P,r);if(!m.contains(W))throw new Se(de.INVALID_ARGUMENT,`Field '${W}' is specified in your field mask but missing from your input data.`);QO(M,W)||M.push(W)}I=new Ju(M),S=m.fieldTransforms.filter(P=>I.covers(P.field))}else I=null,S=m.fieldTransforms;return new tr(new Mr(E),I,S)}class vc extends $e{_toFieldTransform(n){if(2!==n.Da)throw n.Fa(1===n.Da?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return n.fieldMask.push(n.path),null}isEqual(n){return n instanceof vc}}function x_(i,n,r){return new ta({Da:3,La:n.settings.La,methodName:i._methodName,xa:r},n.databaseId,n.N,n.ignoreUndefinedProperties)}class fp extends $e{_toFieldTransform(n){return new Gn(n.path,new Gl)}isEqual(n){return n instanceof fp}}class Jb extends $e{constructor(n,r){super(n),this.Ua=r}_toFieldTransform(n){const r=x_(this,n,!0),s=this.Ua.map(d=>pp(d,r)),c=new rc(s);return new Gn(n.path,c)}isEqual(n){return this===n}}class j1 extends $e{constructor(n,r){super(n),this.Ua=r}_toFieldTransform(n){const r=x_(this,n,!0),s=this.Ua.map(d=>pp(d,r)),c=new ic(s);return new Gn(n.path,c)}isEqual(n){return this===n}}class H1 extends $e{constructor(n,r){super(n),this.qa=r}_toFieldTransform(n){const r=new Ua(n.N,Zx(n.N,this.qa));return new Gn(n.path,r)}isEqual(n){return this===n}}function aM(i,n,r,s){const c=i.Ba(1,n,r);cM("Data must be an object, but it was:",c,s);const d=[],m=Mr.empty();Qu(s,(I,S)=>{const M=dM(n,I,r);S=(0,kt.m9)(S);const P=c.$a(M);if(S instanceof vc)d.push(M);else{const W=pp(S,P);null!=W&&(d.push(M),m.set(M,W))}});const E=new Ju(d);return new Pi(m,E,c.fieldTransforms)}function uM(i,n,r,s,c,d){const m=i.Ba(1,n,r),E=[lM(n,s,r)],I=[c];if(d.length%2!=0)throw new Se(de.INVALID_ARGUMENT,`Function ${n}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let W=0;W<d.length;W+=2)E.push(lM(n,d[W])),I.push(d[W+1]);const S=[],M=Mr.empty();for(let W=E.length-1;W>=0;--W)if(!QO(S,E[W])){const Q=E[W];let Ee=I[W];Ee=(0,kt.m9)(Ee);const Ne=m.$a(Q);if(Ee instanceof vc)S.push(Q);else{const Fe=pp(Ee,Ne);null!=Fe&&(S.push(Q),M.set(Q,Fe))}}const P=new Ju(S);return new Pi(M,P,m.fieldTransforms)}function WO(i,n,r,s=!1){return pp(r,i.Ba(s?4:3,n))}function pp(i,n){if(YO(i=(0,kt.m9)(i)))return cM("Unsupported field value:",n,i),KO(i,n);if(i instanceof $e)return function(r,s){if(!pd(s.Da))throw s.Fa(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Fa(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(s);c&&s.fieldTransforms.push(c)}(i,n),null;if(void 0===i&&n.ignoreUndefinedProperties)return null;if(n.path&&n.fieldMask.push(n.path),i instanceof Array){if(n.settings.xa&&4!==n.Da)throw n.Fa("Nested arrays are not supported");return function(r,s){const c=[];let d=0;for(const m of r){let E=pp(m,s.Oa(d));null==E&&(E={nullValue:"NULL_VALUE"}),c.push(E),d++}return{arrayValue:{values:c}}}(i,n)}return function(r,s){if(null===(r=(0,kt.m9)(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return Zx(s.N,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const c=Xn.fromDate(r);return{timestampValue:oc(s.N,c)}}if(r instanceof Xn){const c=new Xn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:oc(s.N,c)}}if(r instanceof rt)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof me)return{bytesValue:Ds(s.N,r._byteString)};if(r instanceof wn){const c=s.databaseId,d=r.firestore._databaseId;if(!d.isEqual(c))throw s.Fa(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:jE(r.firestore._databaseId||s.databaseId,r._key.path)}}throw s.Fa(`Unsupported field value: ${fd(r)}`)}(i,n)}function KO(i,n){const r={};return Ai(i)?n.path&&n.path.length>0&&n.fieldMask.push(n.path):Qu(i,(s,c)=>{const d=pp(c,n.Na(s));null!=d&&(r[s]=d)}),{mapValue:{fields:r}}}function YO(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof Xn||i instanceof rt||i instanceof me||i instanceof wn||i instanceof $e)}function cM(i,n,r){if(!YO(r)||"object"!=typeof(s=r)||null===s||Object.getPrototypeOf(s)!==Object.prototype&&null!==Object.getPrototypeOf(s)){const s=fd(r);throw n.Fa("an object"===s?i+" a custom object":i+" "+s)}var s}function lM(i,n,r){if((n=(0,kt.m9)(n))instanceof J)return n._internalPath;if("string"==typeof n)return dM(i,n);throw rS("Field path arguments must be of type string or FieldPath.",i,!1,void 0,r)}const $1=new RegExp("[~\\*/\\[\\]]");function dM(i,n,r){if(n.search($1)>=0)throw rS(`Invalid field path (${n}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,r);try{return new J(...n.split("."))._internalPath}catch(s){throw rS(`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,r)}}function rS(i,n,r,s,c){const d=s&&!s.isEmpty(),m=void 0!==c;let E=`Function ${n}() called with invalid data`;r&&(E+=" (via `toFirestore()`)"),E+=". ";let I="";return(d||m)&&(I+=" (found",d&&(I+=` in field ${s}`),m&&(I+=` in document ${c}`),I+=")"),new Se(de.INVALID_ARGUMENT,E+i+I)}function QO(i,n){return i.some(r=>r.isEqual(n))}class Xb{constructor(n,r,s,c,d){this._firestore=n,this._userDataWriter=r,this._key=s,this._document=c,this._converter=d}get id(){return this._key.path.lastSegment()}get ref(){return new wn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const n=new G1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(n)}return this._userDataWriter.convertValue(this._document.data.value)}}get(n){if(this._document){const r=this._document.data.field(iS("DocumentSnapshot.get",n));if(null!==r)return this._userDataWriter.convertValue(r)}}}class G1 extends Xb{data(){return super.data()}}function iS(i,n){return"string"==typeof n?dM(i,n):n instanceof J?n._internalPath:n._delegate._internalPath}class gp{constructor(n,r){this.hasPendingWrites=n,this.fromCache=r}isEqual(n){return this.hasPendingWrites===n.hasPendingWrites&&this.fromCache===n.fromCache}}class Ec extends Xb{constructor(n,r,s,c,d,m){super(n,r,s,c,m),this._firestore=n,this._firestoreImpl=n,this.metadata=d}exists(){return super.exists()}data(n={}){if(this._document){if(this._converter){const r=new ew(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}}get(n,r={}){if(this._document){const s=this._document.data.field(iS("DocumentSnapshot.get",n));if(null!==s)return this._userDataWriter.convertValue(s,r.serverTimestamps)}}}class ew extends Ec{data(n={}){return super.data(n)}}class _d{constructor(n,r,s,c){this._firestore=n,this._userDataWriter=r,this._snapshot=c,this.metadata=new gp(c.hasPendingWrites,c.fromCache),this.query=s}get docs(){const n=[];return this.forEach(r=>n.push(r)),n}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(n,r){this._snapshot.docs.forEach(s=>{n.call(r,new ew(this._firestore,this._userDataWriter,s.key,s,new gp(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(n={}){const r=!!n.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Se(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(s,c){if(s._snapshot.oldDocs.isEmpty()){let d=0;return s._snapshot.docChanges.map(m=>({type:"added",doc:new ew(s._firestore,s._userDataWriter,m.doc.key,m.doc,new gp(s._snapshot.mutatedKeys.has(m.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:d++}))}{let d=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(m=>c||3!==m.type).map(m=>{const E=new ew(s._firestore,s._userDataWriter,m.doc.key,m.doc,new gp(s._snapshot.mutatedKeys.has(m.doc.key),s._snapshot.fromCache),s.query.converter);let I=-1,S=-1;return 0!==m.type&&(I=d.indexOf(m.doc.key),d=d.delete(m.doc.key)),1!==m.type&&(d=d.add(m.doc),S=d.indexOf(m.doc.key)),{type:q1(m.type),doc:E,oldIndex:I,newIndex:S}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function q1(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ye()}}function JO(i,n){return i instanceof Ec&&n instanceof Ec?i._firestore===n._firestore&&i._key.isEqual(n._key)&&(null===i._document?null===n._document:i._document.isEqual(n._document))&&i._converter===n._converter:i instanceof _d&&n instanceof _d&&i._firestore===n._firestore&&tS(i.query,n.query)&&i.metadata.isEqual(n.metadata)&&i._snapshot.isEqual(n._snapshot)}function XO(i){if(Fm(i)&&0===i.explicitOrderBy.length)throw new Se(de.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class tw{}function yd(i,...n){for(const r of n)i=r._apply(i);return i}class z1 extends tw{constructor(n,r,s){super(),this.Ka=n,this.ja=r,this.Qa=s,this.type="where"}_apply(n){const r=Ji(n.firestore),s=function(c,d,m,E,I,S,M){let P;if(I.isKeyField()){if("array-contains"===S||"array-contains-any"===S)throw new Se(de.INVALID_ARGUMENT,`Invalid Query. You can't perform '${S}' queries on FieldPath.documentId().`);if("in"===S||"not-in"===S){sN(M,S);const Q=[];for(const Ee of M)Q.push(iN(E,c,Ee));P={arrayValue:{values:Q}}}else P=iN(E,c,M)}else"in"!==S&&"not-in"!==S&&"array-contains-any"!==S||sN(M,S),P=WO(m,"where",M,"in"===S||"not-in"===S);const W=zr.create(I,S,P);return function(Q,Ee){if(Ee.v()){const Fe=Lm(Q);if(null!==Fe&&!Fe.isEqual(Ee.field))throw new Se(de.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Fe.toString()}' and '${Ee.field.toString()}'`);const xt=ME(Q);null!==xt&&oN(0,Ee.field,xt)}const Ne=function(Fe,xt){for(const Mt of Fe.filters)if(xt.indexOf(Mt.op)>=0)return Mt.op;return null}(Q,function(Fe){switch(Fe){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Ee.op));if(null!==Ne)throw new Se(de.INVALID_ARGUMENT,Ne===Ee.op?`Invalid query. You cannot use more than one '${Ee.op.toString()}' filter.`:`Invalid query. You cannot use '${Ee.op.toString()}' filters with '${Ne.toString()}' filters.`)}(c,W),W}(n._query,0,r,n.firestore._databaseId,this.Ka,this.ja,this.Qa);return new Or(n.firestore,n.converter,function(c,d){const m=c.filters.concat([d]);return new Wo(c.path,c.collectionGroup,c.explicitOrderBy.slice(),m,c.limit,c.limitType,c.startAt,c.endAt)}(n._query,s))}}class W1 extends tw{constructor(n,r){super(),this.Ka=n,this.Wa=r,this.type="orderBy"}_apply(n){const r=function(s,c,d){if(null!==s.startAt)throw new Se(de.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==s.endAt)throw new Se(de.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const m=new Nf(c,d);return function(E,I){if(null===ME(E)){const S=Lm(E);null!==S&&oN(0,S,I.field)}}(s,m),m}(n._query,this.Ka,this.Wa);return new Or(n.firestore,n.converter,function(s,c){const d=s.explicitOrderBy.concat([c]);return new Wo(s.path,s.collectionGroup,d,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(n._query,r))}}class eN extends tw{constructor(n,r,s){super(),this.type=n,this.Ga=r,this.za=s}_apply(n){return new Or(n.firestore,n.converter,pI(n._query,this.Ga,this.za))}}class tN extends tw{constructor(n,r,s){super(),this.type=n,this.Ha=r,this.Ja=s}_apply(n){const r=rN(n,this.type,this.Ha,this.Ja);return new Or(n.firestore,n.converter,(c=r,new Wo((s=n._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,c,s.endAt)));var s,c}}class nN extends tw{constructor(n,r,s){super(),this.type=n,this.Ha=r,this.Ja=s}_apply(n){const r=rN(n,this.type,this.Ha,this.Ja);return new Or(n.firestore,n.converter,(c=r,new Wo((s=n._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,c)));var s,c}}function rN(i,n,r,s){if(r[0]=(0,kt.m9)(r[0]),r[0]instanceof Xb)return function(c,d,m,E,I){if(!E)throw new Se(de.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${m}().`);const S=[];for(const M of Pf(c))if(M.field.isKeyField())S.push(jl(d,E.key));else{const P=E.data.field(M.field);if(Om(P))throw new Se(de.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+M.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===P){const W=M.field.canonicalString();throw new Se(de.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${W}' (used as the orderBy) does not exist.`)}S.push(P)}return new tc(S,I)}(i._query,i.firestore._databaseId,n,r[0]._document,s);{const c=Ji(i.firestore);return function(d,m,E,I,S,M){const P=d.explicitOrderBy;if(S.length>P.length)throw new Se(de.INVALID_ARGUMENT,`Too many arguments provided to ${I}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const W=[];for(let Q=0;Q<S.length;Q++){const Ee=S[Q];if(P[Q].field.isKeyField()){if("string"!=typeof Ee)throw new Se(de.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${I}(), but got a ${typeof Ee}`);if(!nc(d)&&-1!==Ee.indexOf("/"))throw new Se(de.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${I}() must be a plain document ID, but '${Ee}' contains a slash.`);const Ne=d.path.child(Dt.fromString(Ee));if(!Ke.isDocumentKey(Ne))throw new Se(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${I}() must result in a valid document path, but '${Ne}' is not because it contains an odd number of segments.`);const Fe=new Ke(Ne);W.push(jl(m,Fe))}else{const Ne=WO(E,I,Ee);W.push(Ne)}}return new tc(W,M)}(i._query,i.firestore._databaseId,c,n,r,s)}}function iN(i,n,r){if("string"==typeof(r=(0,kt.m9)(r))){if(""===r)throw new Se(de.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!nc(n)&&-1!==r.indexOf("/"))throw new Se(de.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const s=n.path.child(Dt.fromString(r));if(!Ke.isDocumentKey(s))throw new Se(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return jl(i,new Ke(s))}if(r instanceof wn)return jl(i,r._key);throw new Se(de.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${fd(r)}.`)}function sN(i,n){if(!Array.isArray(i)||0===i.length)throw new Se(de.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${n.toString()}' filters.`);if(i.length>10)throw new Se(de.INVALID_ARGUMENT,`Invalid Query. '${n.toString()}' filters support a maximum of 10 elements in the value array.`)}function oN(i,n,r){if(!r.isEqual(n))throw new Se(de.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${n.toString()}' and so you must also use '${n.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${r.toString()}' instead.`)}class hM{convertValue(n,r="none"){switch(to(n)){case 0:return null;case 1:return n.booleanValue;case 2:return sn(n.integerValue||n.doubleValue);case 3:return this.convertTimestamp(n.timestampValue);case 4:return this.convertServerTimestamp(n,r);case 5:return n.stringValue;case 6:return this.convertBytes(Ul(n.bytesValue));case 7:return this.convertReference(n.referenceValue);case 8:return this.convertGeoPoint(n.geoPointValue);case 9:return this.convertArray(n.arrayValue,r);case 10:return this.convertObject(n.mapValue,r);default:throw Ye()}}convertObject(n,r){const s={};return Qu(n.fields,(c,d)=>{s[c]=this.convertValue(d,r)}),s}convertGeoPoint(n){return new rt(sn(n.latitude),sn(n.longitude))}convertArray(n,r){return(n.values||[]).map(s=>this.convertValue(s,r))}convertServerTimestamp(n,r){switch(r){case"previous":const s=Nm(n);return null==s?null:this.convertValue(s,r);case"estimate":return this.convertTimestamp(zo(n));default:return null}}convertTimestamp(n){const r=Fa(n);return new Xn(r.seconds,r.nanos)}convertDocumentKey(n,r){const s=Dt.fromString(n);ut(uR(s));const c=new yc(s.get(1),s.get(3)),d=new Ke(s.popFirst(5));return c.isEqual(r)||Vn(`Document ${d} contains a document reference within a different database (${c.projectId}/${c.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),d}}function sS(i,n,r){let s;return s=i?r&&(r.merge||r.mergeFields)?i.toFirestore(n,r):i.toFirestore(n):n,s}class nP extends hM{constructor(n){super(),this.firestore=n}convertBytes(n){return new me(n)}convertReference(n){const r=this.convertDocumentKey(n,this.firestore._databaseId);return new wn(this.firestore,null,r)}}class aN{constructor(n,r){this._firestore=n,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=Ji(n)}set(n,r,s){this._verifyNotCommitted();const c=vd(n,this._firestore),d=sS(c.converter,r,s),m=md(this._dataReader,"WriteBatch.set",c._key,d,null!==c.converter,s);return this._mutations.push(m.toMutation(c._key,Pn.none())),this}update(n,r,s,...c){this._verifyNotCommitted();const d=vd(n,this._firestore);let m;return m="string"==typeof(r=(0,kt.m9)(r))||r instanceof J?uM(this._dataReader,"WriteBatch.update",d._key,r,s,c):aM(this._dataReader,"WriteBatch.update",d._key,r),this._mutations.push(m.toMutation(d._key,Pn.exists(!0))),this}delete(n){this._verifyNotCommitted();const r=vd(n,this._firestore);return this._mutations=this._mutations.concat(new no(r._key,Pn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Se(de.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function vd(i,n){if((i=(0,kt.m9)(i)).firestore!==n)throw new Se(de.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class mp extends hM{constructor(n){super(),this.firestore=n}convertBytes(n){return new me(n)}convertReference(n){const r=this.convertDocumentKey(n,this.firestore._databaseId);return new wn(this.firestore,null,r)}}function uN(i,n,r){i=Lt(i,wn);const s=Lt(i.firestore,o),c=sS(i.converter,n,r);return R_(s,[md(Ji(s),"setDoc",i._key,c,null!==i.converter,r).toMutation(i._key,Pn.none())])}function cN(i,n,r,...s){i=Lt(i,wn);const c=Lt(i.firestore,o),d=Ji(c);let m;return m="string"==typeof(n=(0,kt.m9)(n))||n instanceof J?uM(d,"updateDoc",i._key,n,r,s):aM(d,"updateDoc",i._key,n),R_(c,[m.toMutation(i._key,Pn.exists(!0))])}function lN(i,...n){var r,s,c;i=(0,kt.m9)(i);let d={includeMetadataChanges:!1},m=0;"object"!=typeof n[m]||nS(n[m])||(d=n[m],m++);const E={includeMetadataChanges:d.includeMetadataChanges};if(nS(n[m])){const P=n[m];n[m]=null===(r=P.next)||void 0===r?void 0:r.bind(P),n[m+1]=null===(s=P.error)||void 0===s?void 0:s.bind(P),n[m+2]=null===(c=P.complete)||void 0===c?void 0:c.bind(P)}let I,S,M;if(i instanceof wn)S=Lt(i.firestore,o),M=$l(i._key.path),I={next:P=>{n[m]&&n[m](fM(S,i,P))},error:n[m+1],complete:n[m+2]};else{const P=Lt(i,Or);S=Lt(P.firestore,o),M=P._query;const W=new mp(S);I={next:Q=>{n[m]&&n[m](new _d(S,W,P,Q))},error:n[m+1],complete:n[m+2]},XO(i._query)}return function(P,W,Q,Ee){const Ne=new D_(Ee),Fe=new Ib(W,Ne,Q);return P.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return OT(yield ld(P),Fe)})),()=>{Ne.Xo(),P.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return Cb(yield ld(P),Fe)}))}}(l(S),M,E,I)}function R_(i,n){return function(r,s){const c=new yr;return r.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function(i,n,r){return Rb.apply(this,arguments)}(yield Zb(r),s,c)})),c.promise}(l(i),n)}function fM(i,n,r){const s=r.docs.get(n._key),c=new mp(i);return new Ec(i,c,n._key,s,new gp(r.hasPendingWrites,r.fromCache),n.converter)}class hP extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=Ji(n)}get(n){const r=vd(n,this._firestore),s=new nP(this._firestore);return this._transaction.lookup([r._key]).then(c=>{if(!c||1!==c.length)return Ye();const d=c[0];if(d.isFoundDocument())return new Xb(this._firestore,s,d.key,d,r.converter);if(d.isNoDocument())return new Xb(this._firestore,s,r._key,null,r.converter);throw Ye()})}set(n,r,s){const c=vd(n,this._firestore),d=sS(c.converter,r,s),m=md(this._dataReader,"Transaction.set",c._key,d,null!==c.converter,s);return this._transaction.set(c._key,m),this}update(n,r,s,...c){const d=vd(n,this._firestore);let m;return m="string"==typeof(r=(0,kt.m9)(r))||r instanceof J?uM(this._dataReader,"Transaction.update",d._key,r,s,c):aM(this._dataReader,"Transaction.update",d._key,r),this._transaction.update(d._key,m),this}delete(n){const r=vd(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(n,r){super(n,r),this._firestore=n}get(n){const r=vd(n,this._firestore),s=new mp(this._firestore);return super.get(n).then(c=>new Ec(this._firestore,s,r._key,c._document,new gp(!1,!1),r.converter))}}function pM(i,n){if(void 0===n)return{merge:!1};if(void 0!==n.mergeFields&&void 0!==n.merge)throw new Se("invalid-argument",`Invalid options passed to function ${i}(): You cannot specify both "merge" and "mergeFields".`);return n}function dN(){if("undefined"==typeof Uint8Array)throw new Se("unimplemented","Uint8Arrays are not available in this environment.")}function hN(){if("undefined"==typeof atob)throw new Se("unimplemented","Blobs are unavailable in Firestore in this environment.")}(function(i){kl=i})(Pv.SDK_VERSION),(0,Pv._registerComponent)(new kv.wA("firestore",(i,{options:n})=>{const r=i.getProvider("app").getImmediate(),s=new o(r,new Vl(i.getProvider("auth-internal")));return n=Object.assign({useFetchStreams:!0},n),s._setSettings(n),s},"PUBLIC")),(0,Pv.registerVersion)("@firebase/firestore","3.1.0",void 0);class nw{constructor(n){this._delegate=n}static fromBase64String(n){return hN(),new nw(me.fromBase64String(n))}static fromUint8Array(n){return dN(),new nw(me.fromUint8Array(n))}toBase64(){return hN(),this._delegate.toBase64()}toUint8Array(){return dN(),this._delegate.toUint8Array()}isEqual(n){return this._delegate.isEqual(n._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function gM(i){return function(i,n){if("object"!=typeof i||null===i)return!1;const r=i;for(const s of["next","error","complete"])if(s in r&&"function"==typeof r[s])return!0;return!1}(i)}class CP{enableIndexedDbPersistence(n,r){return function(i,n){ae(i=Lt(i,o));const r=l(i),s=i._freezeSettings(),c=new $b;return b(r,c,new Hb(c,s.cacheSizeBytes,null==n?void 0:n.forceOwnership))}(n._delegate,{forceOwnership:r})}enableMultiTabIndexedDbPersistence(n){return function(i){ae(i=Lt(i,o));const n=l(i),r=i._freezeSettings(),s=new $b;return b(n,s,new C_(s,r.cacheSizeBytes))}(n._delegate)}clearIndexedDbPersistence(n){return function(i){if(i._initialized&&!i._terminated)throw new Se(de.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const n=new yr;return i._queue.enqueueAndForgetEvenWhileRestricted((0,be.Z)(function*(){try{yield(r=(0,be.Z)(function*(s){if(!Qi.bt())return Promise.resolve();const c=s+"main";yield Qi.delete(c)}),function(s){return r.apply(this,arguments)})(rT(i._databaseId,i._persistenceKey)),n.resolve()}catch(r){n.reject(r)}var r})),n.promise}(n._delegate)}}class fN{constructor(n,r,s){this._delegate=r,this._persistenceProvider=s,this.INTERNAL={delete:()=>this.terminate()},n instanceof yc||(this._appCompat=n)}get _databaseId(){return this._delegate._databaseId}settings(n){const r=this._delegate._getSettings();!n.merge&&r.host!==n.host&&Fl("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),n.merge&&delete(n=Object.assign(Object.assign({},r),n)).merge,this._delegate._setSettings(n)}useEmulator(n,r,s={}){!function(i,n,r,s={}){var c;const d=(i=Lt(i,A_))._getSettings();if("firestore.googleapis.com"!==d.host&&d.host!==n&&Fl("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},d),{host:`${n}:${r}`,ssl:!1})),s.mockUserToken){let m,E;if("string"==typeof s.mockUserToken)m=s.mockUserToken,E=Hn.MOCK_USER;else{m=(0,kt.Sg)(s.mockUserToken,null===(c=i._app)||void 0===c?void 0:c.options.projectId);const I=s.mockUserToken.sub||s.mockUserToken.user_id;if(!I)throw new Se(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Hn(I)}i._credentials=new ka(new Ll(m,E))}}(this._delegate,n,r,s)}enableNetwork(){return function(i){return function(i){return i.asyncQueue.enqueue((0,be.Z)(function*(){const n=yield WT(i),r=yield zb(i);return n.setNetworkEnabled(!0),function(s){const c=ke(s);return c.Kr.delete(0),Qo(c)}(r)}))}(l(i=Lt(i,o)))}(this._delegate)}disableNetwork(){return function(i){return function(i){return i.asyncQueue.enqueue((0,be.Z)(function*(){const n=yield WT(i),r=yield zb(i);return n.setNetworkEnabled(!1),(s=(0,be.Z)(function*(c){const d=ke(c);d.Kr.add(0),yield pc(d),d.Wr.set("Offline")}),function(c){return s.apply(this,arguments)})(r);var s}))}(l(i=Lt(i,o)))}(this._delegate)}enablePersistence(n){let r=!1,s=!1;return n&&(r=!!n.synchronizeTabs,s=!!n.experimentalForceOwningTab,XT("synchronizeTabs",r,"experimentalForceOwningTab",s)),r?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,s)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(i){return function(n){const r=new yr;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function(i,n){return Nb.apply(this,arguments)}(yield Zb(n),r)})),r.promise}(l(i=Lt(i,o)))}(this._delegate)}onSnapshotsInSync(n){return function(i,n){return function(i,n){const r=new D_(n);return i.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return s=yield ld(i),c=r,ke(s).Zr.add(c),void c.next();var s,c})),()=>{r.Xo(),i.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return s=yield ld(i),c=r,void ke(s).Zr.delete(c);var s,c}))}}(l(i=Lt(i,o)),nS(n)?n:{next:n})}(this._delegate,n)}get app(){if(!this._appCompat)throw new Se("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(n){try{return new M_(this,sM(this._delegate,n))}catch(r){throw ki(r,"collection()","Firestore.collection()")}}doc(n){try{return new ao(this,Qb(this._delegate,n))}catch(r){throw ki(r,"doc()","Firestore.doc()")}}collectionGroup(n){try{return new Fi(this,function(i,n){if(i=Lt(i,A_),Kb("collectionGroup","collection id",n),n.indexOf("/")>=0)throw new Se(de.INVALID_ARGUMENT,`Invalid collection ID '${n}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Or(i,null,(r=n,new Wo(Dt.emptyPath(),r)));var r}(this._delegate,n))}catch(r){throw ki(r,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(n){return function(i,n){return function(i,n){const r=new yr;return i.asyncQueue.enqueueAndForget((0,be.Z)(function*(){const s=yield(c=i,I_(c).then(d=>d.datastore));var c;new eM(i.asyncQueue,s,n,r).run()})),r.promise}(l(i),r=>n(new hP(i,r)))}(this._delegate,r=>n(new pN(this,r)))}batch(){return l(this._delegate),new gN(new aN(this._delegate,n=>R_(this._delegate,n)))}loadBundle(n){return function(i,n){const r=l(i=Lt(i,o)),s=new zO;return function(i,n,r,s){const c=function(d,m){let E;return E="string"==typeof d?(new TextEncoder).encode(d):d,I=function(I,S){if(I instanceof Uint8Array)return qT(I,S);if(I instanceof ArrayBuffer)return qT(new Uint8Array(I),S);if(I instanceof ReadableStream)return I.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(E),new XR(I,m);var I}(r,td(n));i.asyncQueue.enqueueAndForget((0,be.Z)(function*(){!function(i,n,r){const s=ke(i);var c;(c=(0,be.Z)(function*(d,m,E){try{const I=yield m.getMetadata();if(yield function(W,Q){const Ee=ke(W),Ne=Bn(Q.createTime);return Ee.persistence.runTransaction("hasNewerBundle","readonly",Fe=>Ee.Je.getBundleMetadata(Fe,Q.id)).then(Fe=>!!Fe&&Fe.createTime.compareTo(Ne)>=0)}(d.localStore,I))return yield m.close(),void E._completeWith((W=I,{taskState:"Success",documentsLoaded:W.totalDocuments,bytesLoaded:W.totalBytes,totalDocuments:W.totalDocuments,totalBytes:W.totalBytes}));E._updateProgress($R(I));const S=new UO(I,d.localStore,m.N);let M=yield m.Qo();for(;M;){const W=yield S.fo(M);W&&E._updateProgress(W),M=yield m.Qo()}const P=yield S.complete();yield Xo(d,P.Tn,void 0),yield function(W,Q){const Ee=ke(W);return Ee.persistence.runTransaction("Save bundle","readwrite",Ne=>Ee.Je.saveBundleMetadata(Ne,Q))}(d.localStore,I),E._completeWith(P.progress)}catch(I){Fl("SyncEngine",`Loading bundle failed with ${I}`),E._failWith(I)}var W}),function(d,m,E){return c.apply(this,arguments)})(s,n,r).then(()=>{s.sharedClientState.notifyBundleLoaded()})}(yield Zb(i),c,s)}))}(r,i._databaseId,n,s),s}(this._delegate,n)}namedQuery(n){return function(i,n){return function(i,n){return i.asyncQueue.enqueue((0,be.Z)(function*(){return function(r,s){const c=ke(r);return c.persistence.runTransaction("Get named query","readonly",d=>c.Je.getNamedQuery(d,s))}(yield T_(i),n)}))}(l(i=Lt(i,o)),n).then(r=>r?new Or(i,null,r.query):null)}(this._delegate,n).then(r=>r?new Fi(this,r):null)}}class oS extends hM{constructor(n){super(),this.firestore=n}convertBytes(n){return new nw(new me(n))}convertReference(n){const r=this.convertDocumentKey(n,this.firestore._databaseId);return ao.forKey(r,this.firestore,null)}}class pN{constructor(n,r){this._firestore=n,this._delegate=r,this._userDataWriter=new oS(n)}get(n){const r=yp(n);return this._delegate.get(r).then(s=>new rw(this._firestore,new Ec(this._firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,r.converter)))}set(n,r,s){const c=yp(n);return s?(pM("Transaction.set",s),this._delegate.set(c,r,s)):this._delegate.set(c,r),this}update(n,r,s,...c){const d=yp(n);return 2===arguments.length?this._delegate.update(d,r):this._delegate.update(d,r,s,...c),this}delete(n){const r=yp(n);return this._delegate.delete(r),this}}class gN{constructor(n){this._delegate=n}set(n,r,s){const c=yp(n);return s?(pM("WriteBatch.set",s),this._delegate.set(c,r,s)):this._delegate.set(c,r),this}update(n,r,s,...c){const d=yp(n);return 2===arguments.length?this._delegate.update(d,r):this._delegate.update(d,r,s,...c),this}delete(n){const r=yp(n);return this._delegate.delete(r),this}commit(){return this._delegate.commit()}}class _p{constructor(n,r,s){this._firestore=n,this._userDataWriter=r,this._delegate=s}fromFirestore(n,r){const s=new ew(this._firestore._delegate,this._userDataWriter,n._key,n._document,n.metadata,null);return this._delegate.fromFirestore(new iw(this._firestore,s),null!=r?r:{})}toFirestore(n,r){return r?this._delegate.toFirestore(n,r):this._delegate.toFirestore(n)}static getInstance(n,r){const s=_p.INSTANCES;let c=s.get(n);c||(c=new WeakMap,s.set(n,c));let d=c.get(r);return d||(d=new _p(n,new oS(n),r),c.set(r,d)),d}}_p.INSTANCES=new WeakMap;class ao{constructor(n,r){this.firestore=n,this._delegate=r,this._userDataWriter=new oS(n)}static forPath(n,r,s){if(n.length%2!=0)throw new Se("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${n.canonicalString()} has ${n.length}`);return new ao(r,new wn(r._delegate,s,new Ke(n)))}static forKey(n,r,s){return new ao(r,new wn(r._delegate,s,n))}get id(){return this._delegate.id}get parent(){return new M_(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(n){try{return new M_(this.firestore,sM(this._delegate,n))}catch(r){throw ki(r,"collection()","DocumentReference.collection()")}}isEqual(n){return(n=(0,kt.m9)(n))instanceof wn&&oM(this._delegate,n)}set(n,r){r=pM("DocumentReference.set",r);try{return r?uN(this._delegate,n,r):uN(this._delegate,n)}catch(s){throw ki(s,"setDoc()","DocumentReference.set()")}}update(n,r,...s){try{return 1===arguments.length?cN(this._delegate,n):cN(this._delegate,n,r,...s)}catch(c){throw ki(c,"updateDoc()","DocumentReference.update()")}}delete(){return function(i){return R_(Lt(i.firestore,o),[new no(i._key,Pn.none())])}(this._delegate)}onSnapshot(...n){const r=mN(n),s=_N(n,c=>new rw(this.firestore,new Ec(this.firestore._delegate,this._userDataWriter,c._key,c._document,c.metadata,this._delegate.converter)));return lN(this._delegate,r,s)}get(n){let r;return r="cache"===(null==n?void 0:n.source)?function(i){i=Lt(i,wn);const n=Lt(i.firestore,o),r=l(n),s=new mp(n);return function(i,n){const r=new yr;return i.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return(s=(0,be.Z)(function*(c,d,m){try{const E=yield function(I,S){const M=ke(I);return M.persistence.runTransaction("read document","readonly",P=>M.Qn.An(P,S))}(c,d);E.isFoundDocument()?m.resolve(E):E.isNoDocument()?m.resolve(null):m.reject(new Se(de.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(E){const I=rd(E,`Failed to get document '${d} from cache`);m.reject(I)}}),function(c,d,m){return s.apply(this,arguments)})(yield T_(i),n,r);var s})),r.promise}(r,i._key).then(c=>new Ec(n,s,i._key,c,new gp(null!==c&&c.hasLocalMutations,!0),i.converter))}(this._delegate):"server"===(null==n?void 0:n.source)?function(i){i=Lt(i,wn);const n=Lt(i.firestore,o);return hp(l(n),i._key,{source:"server"}).then(r=>fM(n,i,r))}(this._delegate):function(i){i=Lt(i,wn);const n=Lt(i.firestore,o);return hp(l(n),i._key).then(r=>fM(n,i,r))}(this._delegate),r.then(s=>new rw(this.firestore,new Ec(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)))}withConverter(n){return new ao(this.firestore,this._delegate.withConverter(n?_p.getInstance(this.firestore,n):null))}}function ki(i,n,r){return i.message=i.message.replace(n,r),i}function mN(i){for(const n of i)if("object"==typeof n&&!gM(n))return n;return{}}function _N(i,n){var r,s;let c;return c=gM(i[0])?i[0]:gM(i[1])?i[1]:"function"==typeof i[0]?{next:i[0],error:i[1],complete:i[2]}:{next:i[1],error:i[2],complete:i[3]},{next:d=>{c.next&&c.next(n(d))},error:null===(r=c.error)||void 0===r?void 0:r.bind(c),complete:null===(s=c.complete)||void 0===s?void 0:s.bind(c)}}class rw{constructor(n,r){this._firestore=n,this._delegate=r}get ref(){return new ao(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(n){return this._delegate.data(n)}get(n,r){return this._delegate.get(n,r)}isEqual(n){return JO(this._delegate,n._delegate)}}class iw extends rw{data(n){const r=this._delegate.data(n);return function(i,n){i||Ye()}(void 0!==r),r}}class Fi{constructor(n,r){this.firestore=n,this._delegate=r,this._userDataWriter=new oS(n)}where(n,r,s){try{return new Fi(this.firestore,yd(this._delegate,function(i,n,r){const s=n,c=iS("where",i);return new z1(c,s,r)}(n,r,s)))}catch(c){throw ki(c,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(n,r){try{return new Fi(this.firestore,yd(this._delegate,function(i,n="asc"){const r=n,s=iS("orderBy",i);return new W1(s,r)}(n,r)))}catch(s){throw ki(s,/(orderBy|where)\(\)/,"Query.$1()")}}limit(n){try{return new Fi(this.firestore,yd(this._delegate,function(i){return eS("limit",i),new eN("limit",i,"F")}(n)))}catch(r){throw ki(r,"limit()","Query.limit()")}}limitToLast(n){try{return new Fi(this.firestore,yd(this._delegate,function(i){return eS("limitToLast",i),new eN("limitToLast",i,"L")}(n)))}catch(r){throw ki(r,"limitToLast()","Query.limitToLast()")}}startAt(...n){try{return new Fi(this.firestore,yd(this._delegate,function(...i){return new tN("startAt",i,!0)}(...n)))}catch(r){throw ki(r,"startAt()","Query.startAt()")}}startAfter(...n){try{return new Fi(this.firestore,yd(this._delegate,function(...i){return new tN("startAfter",i,!1)}(...n)))}catch(r){throw ki(r,"startAfter()","Query.startAfter()")}}endBefore(...n){try{return new Fi(this.firestore,yd(this._delegate,function(...i){return new nN("endBefore",i,!0)}(...n)))}catch(r){throw ki(r,"endBefore()","Query.endBefore()")}}endAt(...n){try{return new Fi(this.firestore,yd(this._delegate,function(...i){return new nN("endAt",i,!1)}(...n)))}catch(r){throw ki(r,"endAt()","Query.endAt()")}}isEqual(n){return tS(this._delegate,n._delegate)}get(n){let r;return r="cache"===(null==n?void 0:n.source)?function(i){i=Lt(i,Or);const n=Lt(i.firestore,o),r=l(n),s=new mp(n);return function(i,n){const r=new yr;return i.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return(s=(0,be.Z)(function*(c,d,m){try{const E=yield n_(c,d,!0),I=new LT(d,E.Gn),S=I.Io(E.documents),M=I.applyChanges(S,!1);m.resolve(M.snapshot)}catch(E){const I=rd(E,`Failed to execute query '${d} against cache`);m.reject(I)}}),function(c,d,m){return s.apply(this,arguments)})(yield T_(i),n,r);var s})),r.promise}(r,i._query).then(c=>new _d(n,s,i,c))}(this._delegate):"server"===(null==n?void 0:n.source)?function(i){i=Lt(i,Or);const n=Lt(i.firestore,o),r=l(n),s=new mp(n);return KT(r,i._query,{source:"server"}).then(c=>new _d(n,s,i,c))}(this._delegate):function(i){i=Lt(i,Or);const n=Lt(i.firestore,o),r=l(n),s=new mp(n);return XO(i._query),KT(r,i._query).then(c=>new _d(n,s,i,c))}(this._delegate),r.then(s=>new mM(this.firestore,new _d(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)))}onSnapshot(...n){const r=mN(n),s=_N(n,c=>new mM(this.firestore,new _d(this.firestore._delegate,this._userDataWriter,this._delegate,c._snapshot)));return lN(this._delegate,r,s)}withConverter(n){return new Fi(this.firestore,this._delegate.withConverter(n?_p.getInstance(this.firestore,n):null))}}class IP{constructor(n,r){this._firestore=n,this._delegate=r}get type(){return this._delegate.type}get doc(){return new iw(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class mM{constructor(n,r){this._firestore=n,this._delegate=r}get query(){return new Fi(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(n=>new iw(this._firestore,n))}docChanges(n){return this._delegate.docChanges(n).map(r=>new IP(this._firestore,r))}forEach(n,r){this._delegate.forEach(s=>{n.call(r,new iw(this._firestore,s))})}isEqual(n){return JO(this._delegate,n._delegate)}}class M_ extends Fi{constructor(n,r){super(n,r),this.firestore=n,this._delegate=r}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const n=this._delegate.parent;return n?new ao(this.firestore,n):null}doc(n){try{return new ao(this.firestore,void 0===n?Qb(this._delegate):Qb(this._delegate,n))}catch(r){throw ki(r,"doc()","CollectionReference.doc()")}}add(n){return function(i,n){const r=Lt(i.firestore,o),s=Qb(i),c=sS(i.converter,n);return R_(r,[md(Ji(i.firestore),"addDoc",s._key,c,null!==i.converter,{}).toMutation(s._key,Pn.exists(!1))]).then(()=>s)}(this._delegate,n).then(r=>new ao(this.firestore,r))}isEqual(n){return oM(this._delegate,n._delegate)}withConverter(n){return new M_(this.firestore,this._delegate.withConverter(n?_p.getInstance(this.firestore,n):null))}}function yp(i){return Lt(i,wn)}class _M{constructor(...n){this._delegate=new J(...n)}static documentId(){return new _M(vr.keyField().canonicalString())}isEqual(n){return(n=(0,kt.m9)(n))instanceof J&&this._delegate._internalPath.isEqual(n._internalPath)}}class vp{constructor(n){this._delegate=n}static serverTimestamp(){const n=new fp("serverTimestamp");return n._methodName="FieldValue.serverTimestamp",new vp(n)}static delete(){const n=new vc("deleteField");return n._methodName="FieldValue.delete",new vp(n)}static arrayUnion(...n){const r=function(...i){return new Jb("arrayUnion",i)}(...n);return r._methodName="FieldValue.arrayUnion",new vp(r)}static arrayRemove(...n){const r=function(...i){return new j1("arrayRemove",i)}(...n);return r._methodName="FieldValue.arrayRemove",new vp(r)}static increment(n){const r=function(i){return new H1("increment",i)}(n);return r._methodName="FieldValue.increment",new vp(r)}isEqual(n){return this._delegate.isEqual(n._delegate)}}const TP={Firestore:fN,GeoPoint:rt,Timestamp:Xn,Blob:nw,Transaction:pN,WriteBatch:gN,DocumentReference:ao,DocumentSnapshot:rw,Query:Fi,QueryDocumentSnapshot:iw,QuerySnapshot:mM,CollectionReference:M_,FieldPath:_M,FieldValue:vp,setLogLevel:function(i){!function(i){Pa.setLogLevel(i)}(i)},CACHE_SIZE_UNLIMITED:-1};function yN(i,n){return n?Dn(()=>i,n):Dn(()=>i)}!function(i){(function(i,n){i.INTERNAL.registerComponent(new kv.wA("firestore-compat",r=>((n,r)=>new fN(n,r,new CP))(r.getProvider("app-compat").getImmediate(),r.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},TP)))})(i),i.registerVersion("@firebase/firestore-compat","0.1.3")}(bl.Z);var yM=L(9673),xP=L(7841);const vN=new f.OlP("angularfire2.auth.use-emulator"),EN=new f.OlP("angularfire2.auth.settings"),bN=new f.OlP("angularfire2.auth.tenant-id"),wN=new f.OlP("angularfire2.auth.langugage-code"),CN=new f.OlP("angularfire2.auth.use-device-language"),DN=new f.OlP("angularfire.auth.persistence"),IN=(i,n,r,s,c,d,m,E)=>(0,fr.cc)(`${i.name}.auth`,"AngularFireAuth",i.name,()=>{const I=n.runOutsideAngular(()=>i.auth());if(r&&I.useEmulator(...r),s&&(I.tenantId=s),I.languageCode=c,d&&I.useDeviceLanguage(),m)for(const[S,M]of Object.entries(m))I.settings[S]=M;return E&&I.setPersistence(E),I},[r,s,c,d,m,E]);let TN=(()=>{class i{constructor(r,s,c,d,m,E,I,S,M,P,W){const Q=new ft.xQ,Ee=(0,Xe.of)(void 0).pipe((0,So.QV)(m.outsideAngular),Dn(()=>d.runOutsideAngular(()=>Promise.resolve().then(L.bind(L,670)))),(0,_t.U)(()=>(0,Ys.on)(r,d,s)),(0,_t.U)(Ne=>IN(Ne,d,E,S,M,P,I,W)),Kn({bufferSize:1,refCount:!1}));if(Xa(c))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Xe.of)(null);else{Ee.pipe(Pu()).subscribe();const Fe=Ee.pipe(Dn(Et=>Et.getRedirectResult().then(qt=>qt,()=>null)),fr.iC,Kn({bufferSize:1,refCount:!1})),xt=Ee.pipe(Dn(Et=>new Cn.y(qt=>({unsubscribe:d.runOutsideAngular(()=>Et.onAuthStateChanged(ci=>qt.next(ci),ci=>qt.error(ci),()=>qt.complete()))})))),Mt=Ee.pipe(Dn(Et=>new Cn.y(qt=>({unsubscribe:d.runOutsideAngular(()=>Et.onIdTokenChanged(ci=>qt.next(ci),ci=>qt.error(ci),()=>qt.complete()))}))));this.authState=Fe.pipe(yN(xt),(0,yM.R)(m.outsideAngular),(0,So.QV)(m.insideAngular)),this.user=Fe.pipe(yN(Mt),(0,yM.R)(m.outsideAngular),(0,So.QV)(m.insideAngular)),this.idToken=this.user.pipe(Dn(Et=>Et?(0,Ot.D)(Et.getIdToken()):(0,Xe.of)(null))),this.idTokenResult=this.user.pipe(Dn(Et=>Et?(0,Ot.D)(Et.getIdTokenResult()):(0,Xe.of)(null))),this.credential=(0,wh.T)(Fe,Q,this.authState.pipe(_i(Et=>!Et))).pipe((0,_t.U)(Et=>(null==Et?void 0:Et.user)?Et:null),(0,yM.R)(m.outsideAngular),(0,So.QV)(m.insideAngular))}return(0,Ys.pX)(this,Ee,d,{spy:{apply:(Ne,Fe,xt)=>{(Ne.startsWith("signIn")||Ne.startsWith("createUser"))&&xt.then(Mt=>Q.next(Mt))}}})}}return i.\u0275fac=function(r){return new(r||i)(f.LFG(Ys.Dh),f.LFG(Ys.xv,8),f.LFG(f.Lbi),f.LFG(f.R0b),f.LFG(fr.HU),f.LFG(vN,8),f.LFG(EN,8),f.LFG(bN,8),f.LFG(wN,8),f.LFG(CN,8),f.LFG(DN,8))},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})();function SN(i,n){return function(i,n=ma.z){return new Cn.y(r=>{let s;return null!=n?n.schedule(()=>{s=i.onSnapshot({includeMetadataChanges:!0},r)}):s=i.onSnapshot({includeMetadataChanges:!0},r),()=>{null!=s&&s()}})}(i,n)}function vM(i,n){return SN(i,n).pipe((0,_t.U)(r=>({payload:r,type:"query"})))}function aS(i,n){return vM(i,n).pipe(Tr(void 0),qc(),(0,_t.U)(([r,s])=>{const c=s.payload.docChanges(),d=c.map(m=>({type:m.type,payload:m}));return r&&JSON.stringify(r.payload.metadata)!==JSON.stringify(s.payload.metadata)&&s.payload.docs.forEach((m,E)=>{const I=c.find(M=>M.doc.ref.isEqual(m.ref)),S=null==r?void 0:r.payload.docs.find(M=>M.ref.isEqual(m.ref));I&&JSON.stringify(I.doc.metadata)===JSON.stringify(m.metadata)||!I&&S&&JSON.stringify(S.metadata)===JSON.stringify(m.metadata)||d.push({type:"modified",payload:{oldIndex:E,newIndex:E,type:"modified",doc:m}})}),d}))}function AN(i,n,r){return aS(i,r).pipe(ul((s,c)=>function(i,n,r){return n.forEach(s=>{r.indexOf(s.type)>-1&&(i=function(i,n){switch(n.type){case"added":if(!i[n.newIndex]||!i[n.newIndex].doc.ref.isEqual(n.doc.ref))return EM(i,n.newIndex,0,n);break;case"modified":if(null==i[n.oldIndex]||i[n.oldIndex].doc.ref.isEqual(n.doc.ref)){if(n.oldIndex!==n.newIndex){const r=i.slice();return r.splice(n.oldIndex,1),r.splice(n.newIndex,0,n),r}return EM(i,n.newIndex,1,n)}break;case"removed":if(i[n.oldIndex]&&i[n.oldIndex].doc.ref.isEqual(n.doc.ref))return EM(i,n.oldIndex,1)}return i}(i,s))}),i}(s,c.map(d=>d.payload),n),[]),function(i,n){return r=>r.lift(new q_(i,n))}(),(0,_t.U)(s=>s.map(c=>({type:c.type,payload:c}))))}function EM(i,n,r,...s){const c=i.slice();return c.splice(n,r,...s),c}function xN(i){return(!i||0===i.length)&&(i=["added","removed","modified"]),i}class RN{constructor(n,r,s){this.ref=n,this.query=r,this.afs=s}stateChanges(n){let r=aS(this.query,this.afs.schedulers.outsideAngular);return n&&n.length>0&&(r=r.pipe((0,_t.U)(s=>s.filter(c=>n.indexOf(c.type)>-1)))),r.pipe(Tr(void 0),qc(),_i(([s,c])=>c.length>0||!s),(0,_t.U)(([s,c])=>c),fr.iC)}auditTrail(n){return this.stateChanges(n).pipe(ul((r,s)=>[...r,...s],[]))}snapshotChanges(n){const r=xN(n);return AN(this.query,r,this.afs.schedulers.outsideAngular).pipe(fr.iC)}valueChanges(n={}){return vM(this.query,this.afs.schedulers.outsideAngular).pipe((0,_t.U)(r=>r.payload.docs.map(s=>n.idField?Object.assign(Object.assign({},s.data()),{[n.idField]:s.id}):s.data())),fr.iC)}get(n){return(0,Ot.D)(this.query.get(n)).pipe(fr.iC)}add(n){return this.ref.add(n)}doc(n){return new MN(this.ref.doc(n),this.afs)}}class MN{constructor(n,r){this.ref=n,this.afs=r}set(n,r){return this.ref.set(n,r)}update(n){return this.ref.update(n)}delete(){return this.ref.delete()}collection(n,r){const s=this.ref.collection(n),{ref:c,query:d}=PN(s,r);return new RN(c,d,this.afs)}snapshotChanges(){return function(i,n){return SN(i,n).pipe(Tr(void 0),qc(),(0,_t.U)(([r,s])=>s.exists?(null==r?void 0:r.exists)?{payload:s,type:"modified"}:{payload:s,type:"added"}:{payload:s,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(fr.iC)}valueChanges(n={}){return this.snapshotChanges().pipe((0,_t.U)(({payload:r})=>n.idField?Object.assign(Object.assign({},r.data()),{[n.idField]:r.id}):r.data()))}get(n){return(0,Ot.D)(this.ref.get(n)).pipe(fr.iC)}}class kP{constructor(n,r){this.query=n,this.afs=r}stateChanges(n){return n&&0!==n.length?aS(this.query,this.afs.schedulers.outsideAngular).pipe((0,_t.U)(r=>r.filter(s=>n.indexOf(s.type)>-1)),_i(r=>r.length>0),fr.iC):aS(this.query,this.afs.schedulers.outsideAngular).pipe(fr.iC)}auditTrail(n){return this.stateChanges(n).pipe(ul((r,s)=>[...r,...s],[]))}snapshotChanges(n){const r=xN(n);return AN(this.query,r,this.afs.schedulers.outsideAngular).pipe(fr.iC)}valueChanges(n={}){return vM(this.query,this.afs.schedulers.outsideAngular).pipe((0,_t.U)(s=>s.payload.docs.map(c=>n.idField?Object.assign({[n.idField]:c.id},c.data()):c.data())),fr.iC)}get(n){return(0,Ot.D)(this.query.get(n)).pipe(fr.iC)}}const ON=new f.OlP("angularfire2.enableFirestorePersistence"),NN=new f.OlP("angularfire2.firestore.persistenceSettings"),FP=new f.OlP("angularfire2.firestore.settings"),LP=new f.OlP("angularfire2.firestore.use-emulator");function PN(i,n=(r=>r)){return{query:n(i),ref:i}}let kN=(()=>{class i{constructor(r,s,c,d,m,E,I,S,M,P,W,Q,Ee,Ne,Fe,xt){this.schedulers=I;const Mt=(0,Ys.on)(r,E,s),Et=M;P&&IN(Mt,E,W,Ee,Ne,Fe,Q,xt),[this.firestore,this.persistenceEnabled$]=(0,fr.cc)(`${Mt.name}.firestore`,"AngularFirestore",Mt.name,()=>{const qt=E.runOutsideAngular(()=>Mt.firestore());if(d&&qt.settings(d),Et&&qt.useEmulator(...Et),c&&!Xa(m)){const ci=()=>{try{return(0,Ot.D)(qt.enablePersistence(S||void 0).then(()=>!0,()=>!1))}catch(ES){return"undefined"!=typeof console&&console.warn(ES),(0,Xe.of)(!1)}};return[qt,E.runOutsideAngular(ci)]}return[qt,(0,Xe.of)(!1)]},[d,Et,c])}collection(r,s){let c;c="string"==typeof r?this.firestore.collection(r):r;const{ref:d,query:m}=PN(c,s),E=this.schedulers.ngZone.run(()=>d);return new RN(E,m,this)}collectionGroup(r,s){const c=s||(m=>m),d=this.firestore.collectionGroup(r);return new kP(c(d),this)}doc(r){let s;s="string"==typeof r?this.firestore.doc(r):r;const c=this.schedulers.ngZone.run(()=>s);return new MN(c,this)}createId(){return this.firestore.collection("_").doc().id}}return i.\u0275fac=function(r){return new(r||i)(f.LFG(Ys.Dh),f.LFG(Ys.xv,8),f.LFG(ON,8),f.LFG(FP,8),f.LFG(f.Lbi),f.LFG(f.R0b),f.LFG(fr.HU),f.LFG(NN,8),f.LFG(LP,8),f.LFG(TN,8),f.LFG(vN,8),f.LFG(EN,8),f.LFG(bN,8),f.LFG(wN,8),f.LFG(CN,8),f.LFG(DN,8))},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})(),VP=(()=>{class i{constructor(){xP.Z.registerVersion("angularfire",fr.q4.full,"fst-compat")}static enablePersistence(r){return{ngModule:i,providers:[{provide:ON,useValue:!0},{provide:NN,useValue:r}]}}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=f.oAB({type:i}),i.\u0275inj=f.cJS({providers:[kN]}),i})(),sw=(()=>{class i{constructor(r){this.firestore=r}getTables(){return this.firestore.collection("mesas").snapshotChanges()}updateTable(r,s){return this.firestore.collection("mesas").doc(r).update(s)}getProducts(){return this.firestore.collection("productos").snapshotChanges()}getOrderKitchen(){return this.firestore.collection("pedido").snapshotChanges()}createOrder(r){return this.firestore.collection("pedido").add(r)}updateStatusOrder(r,s){return this.firestore.collection("pedido").doc(r).update(s)}updatePreparationTime(r,s){return this.firestore.collection("pedido").doc(r).update(s)}}return i.\u0275fac=function(r){return new(r||i)(f.LFG(kN))},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),uS=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=f.Xpm({type:i,selectors:[["app-home-header"]],decls:13,vars:0,consts:[[1,"navbar","navbar-expand-lg"],["href","#",1,"navbar-brand"],["src","../../../assets/logo.png","alt","Logo Header",1,"logo"],["type","button","data-toggle","collapse","data-target","#navbarText","aria-controls","navbarText","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"fas","fa-bars"],["id","navbarText",1,"collapse","navbar-collapse"],[1,"navbar-nav","mr-auto"],[1,"nav-item","active"],["href","#",1,"nav-link","fs-3"],[1,"nav-item"],["href","orders",1,"nav-link","fs-3"]],template:function(r,s){1&r&&(f.TgZ(0,"nav",0),f.TgZ(1,"a",1),f._UZ(2,"img",2),f.qZA(),f.TgZ(3,"button",3),f._UZ(4,"i",4),f.qZA(),f.TgZ(5,"div",5),f.TgZ(6,"ul",6),f.TgZ(7,"li",7),f.TgZ(8,"a",8),f._uU(9,"Home"),f.qZA(),f.qZA(),f.TgZ(10,"li",9),f.TgZ(11,"a",10),f._uU(12,"\xd3rdenes"),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA())},styles:[".navbar[_ngcontent-%COMP%]{height:15vh;background-color:var(--color-red);color:var(--color-white);font-family:var(--font-main);padding-top:0;padding-bottom:0}.navbar-brand[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0}.logo[_ngcontent-%COMP%]{height:15vh}.navbar-toggler[_ngcontent-%COMP%]:focus{box-shadow:none}.fa-bars[_ngcontent-%COMP%]{color:var(--color-orange);font-size:30px}.navbar-nav[_ngcontent-%COMP%]{align-items:center;background-color:var(--color-red)}a[_ngcontent-%COMP%]{color:#fff;font-family:var(--font-main);color:var(--color-orange);margin-right:1rem}.nav-link[_ngcontent-%COMP%]:hover{color:#bb6100}.nav-link[_ngcontent-%COMP%]:focus, .nav-link[_ngcontent-%COMP%]:hover{color:var(--color-white)}.navbar-expand-lg[_ngcontent-%COMP%]   .navbar-collapse[_ngcontent-%COMP%]{justify-content:flex-end}"]}),i})(),FN=(()=>{class i{constructor(){this.selectedTable=new Hr(""),this.sharedMessage=this.selectedTable.asObservable()}nextMessage(r){this.selectedTable.next(r)}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function UP(i,n){1&i&&f._UZ(0,"img",5)}function BP(i,n){if(1&i&&(f.TgZ(0,"p",6),f._uU(1),f.qZA()),2&i){const r=f.oxw();f.xp6(1),f.hij(" ",r.table.name,"")}}function jP(i,n){1&i&&f._UZ(0,"img",7)}function HP(i,n){if(1&i&&(f.TgZ(0,"p",8),f._uU(1),f.qZA()),2&i){const r=f.oxw();f.xp6(1),f.hij(" ",r.table.name,"")}}let $P=(()=>{class i{constructor(r,s){this.service=r,this.shareData=s}ngOnInit(){this.shareData.sharedMessage.subscribe(r=>this.selectedTable=r)}updateStatusTable(){this.service.updateTable(this.table.id,{status:this.table.status})}sendSelectedTable(){this.shareData.nextMessage(this.table)}}return i.\u0275fac=function(r){return new(r||i)(f.Y36(sw),f.Y36(FN))},i.\u0275cmp=f.Xpm({type:i,selectors:[["app-buttons-tables"]],inputs:{table:"table"},decls:5,vars:4,consts:[["type","button","routerLink","/menu",1,"btnTable",3,"click"],["src","../../../assets/mesa_on.png","alt","","class","imgTable mx-auto d-block mt-3",4,"ngIf"],["class","rounded-pill text-center mt-3 fs-3 btnTitle btns",4,"ngIf"],["src","../../../assets/mesa_off.png","alt","","class","imgTable mx-auto d-block mt-3",4,"ngIf"],["class","rounded-pill text-center mt-3 fs-3 btnTitle btns btnRed",4,"ngIf"],["src","../../../assets/mesa_on.png","alt","",1,"imgTable","mx-auto","d-block","mt-3"],[1,"rounded-pill","text-center","mt-3","fs-3","btnTitle","btns"],["src","../../../assets/mesa_off.png","alt","",1,"imgTable","mx-auto","d-block","mt-3"],[1,"rounded-pill","text-center","mt-3","fs-3","btnTitle","btns","btnRed"]],template:function(r,s){1&r&&(f.TgZ(0,"button",0),f.NdJ("click",function(){return s.table.status=!s.table.status,s.updateStatusTable(),s.sendSelectedTable()}),f.YNc(1,UP,1,0,"img",1),f.YNc(2,BP,2,1,"p",2),f.YNc(3,jP,1,0,"img",3),f.YNc(4,HP,2,1,"p",4),f.qZA()),2&r&&(f.xp6(1),f.Q6J("ngIf",!s.table.status),f.xp6(1),f.Q6J("ngIf",!s.table.status),f.xp6(1),f.Q6J("ngIf",s.table.status),f.xp6(1),f.Q6J("ngIf",s.table.status))},directives:[Aa,mo],styles:[".btnTable[_ngcontent-%COMP%]{background-color:#26221d}.imgTable[_ngcontent-%COMP%]{height:15vh}.btnTitle[_ngcontent-%COMP%]{color:var(--color-white);font-family:var(--font-main);background-color:#1ca10d;font-weight:500;font-size:24px}.btnRed[_ngcontent-%COMP%]{background-color:var(--color-red)}"]}),i})();function GP(i,n){if(1&i&&(f.TgZ(0,"div",7),f._UZ(1,"app-buttons-tables",8),f.qZA()),2&i){const r=n.$implicit;f.xp6(1),f.Q6J("table",r)}}function qP(i,n){if(1&i&&(f.TgZ(0,"div",7),f._UZ(1,"app-buttons-tables",8),f.qZA()),2&i){const r=n.$implicit;f.xp6(1),f.Q6J("table",r)}}let zP=(()=>{class i{constructor(r){this.service=r,this.tables=[]}ngOnInit(){this.getTables()}getTables(){this.service.getTables().subscribe(r=>{this.tables=[],r.forEach(s=>{this.tables.push(Object.assign({id:s.payload.doc.id},s.payload.doc.data()))})})}}return i.\u0275fac=function(r){return new(r||i)(f.Y36(sw))},i.\u0275cmp=f.Xpm({type:i,selectors:[["app-booking"]],decls:13,vars:9,consts:[[1,"container"],[1,"row"],["class","col text-center",4,"ngFor","ngForOf"],[1,"row","mt-5"],[1,"col"],["type","button","routerLink","/home",1,"btn","col-6","mx-auto","d-block","mt-3"],[1,"fas","fa-reply","fs-1"],[1,"col","text-center"],[3,"table"]],template:function(r,s){1&r&&(f._UZ(0,"app-home-header"),f.TgZ(1,"section",0),f.TgZ(2,"section",1),f.YNc(3,GP,2,1,"div",2),f.ALo(4,"slice"),f.qZA(),f.TgZ(5,"section",1),f.YNc(6,qP,2,1,"div",2),f.ALo(7,"slice"),f.qZA(),f.TgZ(8,"section",3),f.TgZ(9,"div",4),f.TgZ(10,"button",5),f._UZ(11,"i",6),f.qZA(),f.qZA(),f._UZ(12,"div",4),f.qZA(),f.qZA()),2&r&&(f.xp6(3),f.Q6J("ngForOf",f.Dn7(4,2,s.tables,0,3)),f.xp6(3),f.Q6J("ngForOf",f.xi3(7,6,s.tables,3)))},directives:[uS,ei,Aa,$P],pipes:[Sc],styles:[".container[_ngcontent-%COMP%]{margin-top:10vh;margin-bottom:5rem}.btnTable[_ngcontent-%COMP%]{background-color:#26221d}.imgTable[_ngcontent-%COMP%]{height:15vh}.btnBooking[_ngcontent-%COMP%]{color:var(--color-white);font-family:var(--font-main);background-color:var(--color-orange);font-weight:500;font-size:24px}.btns[_ngcontent-%COMP%]{width:100%!important}.fa-reply[_ngcontent-%COMP%]{color:var(--color-white)}.fa-reply[_ngcontent-%COMP%]:hover{color:#c2c2c2}.btn[_ngcontent-%COMP%]:focus{box-shadow:none}"]}),i})(),ZP=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=f.Xpm({type:i,selectors:[["app-home-body"]],decls:19,vars:0,consts:[[1,"container"],["src","../../../assets/home_logo.png","alt","Icono logo",1,"logo-home","rounded","mx-auto","d-block","mt-5"],[1,"mx-auto",2,"width","80%"],[1,"rounded-pill","text-center","mt-3","fs-1"],[1,"container","justify-content-center"],[1,"row","mt-2"],[1,"col","text-center"],["type","button","routerLink","/booking",1,"btnIcon"],["src","../../../assets/mesero.png","alt","Icono Mesero",1,"img-home","mx-auto","d-block","mt-4"],[1,"btnHome","btn","mx-auto","d-block","mt-3"],[1,"col","text-center","col-sm-5","offset-sm-2","col-md-6","offset-md-0"],["type","button","routerLink","/kitchen",1,"btnIcon"],["src","../../../assets/cocinero.png","alt","Icono Cocinero",1,"img-home","mx-auto","d-block","mt-4"],["type","button","routerLink","/orders",1,"btnHome","btn","col-4","mx-auto","d-block","mt-5","btnOrder"]],template:function(r,s){1&r&&(f.TgZ(0,"section",0),f._UZ(1,"img",1),f.TgZ(2,"section",2),f.TgZ(3,"p",3),f._uU(4,"Bienvenid@"),f.qZA(),f.qZA(),f.TgZ(5,"section",4),f.TgZ(6,"section",5),f.TgZ(7,"div",6),f.TgZ(8,"button",7),f._UZ(9,"img",8),f.TgZ(10,"p",9),f._uU(11,"Mesero"),f.qZA(),f.qZA(),f.qZA(),f.TgZ(12,"div",10),f.TgZ(13,"button",11),f._UZ(14,"img",12),f.TgZ(15,"p",9),f._uU(16,"Cocinero"),f.qZA(),f.qZA(),f.TgZ(17,"button",13),f._uU(18,"\xd3rdenes"),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA())},directives:[Aa],styles:[".container[_ngcontent-%COMP%]{margin-top:5vh;margin-bottom:5rem}.logo-home[_ngcontent-%COMP%]{height:30vh}p[_ngcontent-%COMP%]{color:var(--color-white);font-family:var(--font-main);background-color:var(--color-red);font-weight:500}.img-home[_ngcontent-%COMP%]{height:20vh}.btnIcon[_ngcontent-%COMP%]{background-color:#26221d}.btnHome[_ngcontent-%COMP%]{color:var(--color-white);font-family:var(--font-main);background-color:var(--color-orange);font-weight:500;font-size:24px}.btnOrder[_ngcontent-%COMP%]{background-color:var(--color-red)}.btn-check[_ngcontent-%COMP%]:focus + .btn[_ngcontent-%COMP%], .btn[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem #ffbf006b}"]}),i})();function WP(i,n){if(1&i&&(f.TgZ(0,"li",14),f.TgZ(1,"p",15),f._uU(2),f.qZA(),f.TgZ(3,"p",16),f._uU(4),f.ALo(5,"date"),f.qZA(),f.TgZ(6,"span",17),f._uU(7),f.qZA(),f.qZA()),2&i){const r=n.$implicit,s=f.oxw().$implicit;f.xp6(2),f.hij(" ",r.nombre," "),f.xp6(2),f.Oqu(f.xi3(5,3,s.fecha,"shortTime")),f.xp6(3),f.hij(" ",r.cantidad," ")}}function KP(i,n){if(1&i&&(f.TgZ(0,"ul",12),f.YNc(1,WP,8,6,"li",13),f.qZA()),2&i){const r=n.$implicit;f.xp6(1),f.Q6J("ngForOf",r.detalle)}}function YP(i,n){if(1&i&&(f.TgZ(0,"li",14),f.TgZ(1,"p",15),f._uU(2),f.qZA(),f.TgZ(3,"p",19),f._uU(4),f.qZA(),f.qZA()),2&i){const r=n.$implicit,s=f.oxw().$implicit;f.xp6(2),f.hij(" ",r.nombre," "),f.xp6(2),f.Oqu(s.tiempo)}}function QP(i,n){if(1&i&&(f.TgZ(0,"ul",18),f.YNc(1,YP,5,2,"li",13),f.qZA()),2&i){const r=n.$implicit;f.xp6(1),f.Q6J("ngForOf",r.detalle)}}const LN=function(i){return[i]};let JP=(()=>{class i{constructor(r){this.service=r,this.order=[],this.time=Date.now()}ngOnInit(){setInterval(()=>{this.time=new Date},1e3),this.getOrderKitchen()}getOrderKitchen(){this.service.getOrderKitchen().subscribe(r=>{this.order=[],r.forEach(s=>{this.order=[...this.order,Object.assign({id:s.payload.doc.id},s.payload.doc.data())]});for(let s=0;s<this.order.length;s++){this.orderStatus=this.order[s].status;for(let c=0;c<this.order[s].detalle.length;c++)this.orderName+=this.order[s].detalle[c].nombre,this.orderQuantity=this.order[s].detalle[c].cantidad}})}getOrderPending(){return this.order.filter(r=>0==r.status)}getOrderDone(){return this.order.filter(r=>1==r.status)}drop(r){if(r.previousContainer===r.container)MC(r.container.data,r.previousIndex,r.currentIndex);else{ko(r.previousContainer.data,r.container.data,r.previousIndex,r.currentIndex),this.orderId=r.container.data[r.currentIndex].id,this.orderDate=r.container.data[r.currentIndex].fecha;const s=()=>{const c=new Date;this.dateFb=Date.parse(this.orderDate),this.dateFbParsed=new Date(this.dateFb);const d=c.getTime()-this.dateFbParsed.getTime(),m=Math.floor(d%864e5/36e5),E=Math.round(d%864e5%36e5/6e4);return this.preparationTime=` ${m} hs  ${E} min `,this.preparationTime};this.getOrderDone(),0===this.orderStatus&&(this.service.updateStatusOrder(this.orderId,{status:1}),this.preparationOrder={tiempo:s()},this.service.updatePreparationTime(this.orderId,this.preparationOrder)),1===this.orderStatus&&this.service.updateStatusOrder(this.orderId,{status:0})}}}return i.\u0275fac=function(r){return new(r||i)(f.Y36(sw))},i.\u0275cmp=f.Xpm({type:i,selectors:[["app-kitchen"]],decls:22,vars:14,consts:[[1,"col-sm","mt-2"],[1,"text-end","fs-1","timer"],[1,"row","mx-auto","container"],[1,"col-lg"],[1,"col-lg","mt-2","title","mx-auto","d-block"],[1,"text-center","fs-1"],["cdkDropList","",1,"example-list",3,"cdkDropListData","cdkDropListConnectedTo","cdkDropListDropped"],["listOne","cdkDropList"],["class","list-group tablePending mt-2","cdkDrag","",4,"ngFor","ngForOf"],[1,"col-sm","mt-2","title","titleGreen","mx-auto","d-block"],["listTwo","cdkDropList"],["class","list-group tableReady mt-2","cdkDrag","",4,"ngFor","ngForOf"],["cdkDrag","",1,"list-group","tablePending","mt-2"],["class","list-group-item d-flex justify-content-between align-items-center mt-1 mb-1",4,"ngFor","ngForOf"],[1,"list-group-item","d-flex","justify-content-between","align-items-center","mt-1","mb-1"],[1,"w-50","fs-4"],[1,"w-25","text-end","fs-5"],[1,"border","border-secondary","rounded","text-center","fs-4","spanRed"],["cdkDrag","",1,"list-group","tableReady","mt-2"],[1,"w-50","text-end","fs-5"]],template:function(r,s){if(1&r&&(f._UZ(0,"app-home-header"),f.TgZ(1,"section",0),f.TgZ(2,"p",1),f._uU(3),f.ALo(4,"date"),f.qZA(),f.qZA(),f.TgZ(5,"section",2),f.TgZ(6,"section",3),f.TgZ(7,"div",4),f.TgZ(8,"p",5),f._uU(9,"Pendiente"),f.qZA(),f.qZA(),f.TgZ(10,"section"),f.TgZ(11,"div",6,7),f.NdJ("cdkDropListDropped",function(d){return s.drop(d)}),f.YNc(13,KP,2,1,"ul",8),f.qZA(),f.qZA(),f.qZA(),f.TgZ(14,"section",3),f.TgZ(15,"div",9),f.TgZ(16,"p",5),f._uU(17,"Listo"),f.qZA(),f.qZA(),f.TgZ(18,"section"),f.TgZ(19,"div",6,10),f.NdJ("cdkDropListDropped",function(d){return s.drop(d)}),f.YNc(21,QP,2,1,"ul",11),f.qZA(),f.qZA(),f.qZA(),f.qZA()),2&r){const c=f.MAs(12),d=f.MAs(20);f.xp6(3),f.Oqu(f.xi3(4,7,s.time,"h:mm:ss a")),f.xp6(8),f.Q6J("cdkDropListData",s.getOrderPending())("cdkDropListConnectedTo",f.VKq(10,LN,d)),f.xp6(2),f.Q6J("ngForOf",s.getOrderPending()),f.xp6(6),f.Q6J("cdkDropListData",s.getOrderDone())("cdkDropListConnectedTo",f.VKq(12,LN,c)),f.xp6(2),f.Q6J("ngForOf",s.getOrderDone())}},directives:[uS,$y,ei,eA],pipes:[Dp],styles:[".container[_ngcontent-%COMP%]{margin-top:3vh}.title[_ngcontent-%COMP%]{font-weight:500;padding:0;color:#df2218;font-family:var(--font-main)}.titleGreen[_ngcontent-%COMP%]{color:#1ca10d}p[_ngcontent-%COMP%]{margin:0 .5rem}span[_ngcontent-%COMP%]{width:10%}.spanRed[_ngcontent-%COMP%]{border:2px solid #8a02007c!important}.spanGreen[_ngcontent-%COMP%]{border:2px solid #1CA10D!important}li[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}.timer[_ngcontent-%COMP%]{color:var(--color-white);font-family:var(--font-main)}.btn[_ngcontent-%COMP%]{font-family:var(--font-main);color:var(--color-white);font-weight:500;margin:0;padding:0;width:80%!important}.btn[_ngcontent-%COMP%]:focus{box-shadow:none}.tablePending[_ngcontent-%COMP%]{background-color:#8a02007c;border:10px solid var(--color-red)!important;cursor:move}.tableReady[_ngcontent-%COMP%]{background-color:#106a068a;border:10px solid #1CA10D!important;cursor:move}.example-list[_ngcontent-%COMP%]{min-height:60px}"]}),i})(),bM=(()=>{class i{constructor(){this.itemsCart=[]}addToCart(r){r.cantidad=1,r.total=r.precio,this.itemsCart.push(r)}updateCart(r,s){for(let c=0;c<this.itemsCart.length;c++)if(this.itemsCart[c].id===r.id){switch(s){case"+":this.itemsCart[c].cantidad++,this.itemsCart[c].total=this.itemsCart[c].total+r.precio;break;case"-":this.itemsCart[c].cantidad--,this.itemsCart[c].total=this.itemsCart[c].total-r.precio}break}}deleteItem(r){const s=this.itemsCart.indexOf(r);-1!==s&&this.itemsCart.splice(s,1)}getTotal(){let r=0;return this.itemsCart.forEach(s=>{r+=s.total}),r}getItems(){return this.itemsCart}clearCart(){return this.itemsCart=[],this.itemsCart}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var XP=L(1555);function cS(i,n){return new Cn.y(r=>{const s=i.length;if(0===s)return void r.complete();const c=new Array(s);let d=0,m=0;for(let E=0;E<s;E++){const I=(0,Ot.D)(i[E]);let S=!1;r.add(I.subscribe({next:M=>{S||(S=!0,m++),c[E]=M},error:M=>r.error(M),complete:()=>{d++,(d===s||!S)&&(m===s&&r.next(n?n.reduce((M,P,W)=>(M[P]=c[W],M),{}):c),r.complete())}}))}})}let VN=(()=>{class i{constructor(r,s){this._renderer=r,this._elementRef=s,this.onChange=c=>{},this.onTouched=()=>{}}setProperty(r,s){this._renderer.setProperty(this._elementRef.nativeElement,r,s)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}}return i.\u0275fac=function(r){return new(r||i)(f.Y36(f.Qsj),f.Y36(f.SBq))},i.\u0275dir=f.lG2({type:i}),i})(),Ep=(()=>{class i extends VN{}return i.\u0275fac=function(){let n;return function(s){return(n||(n=f.n5z(i)))(s||i)}}(),i.\u0275dir=f.lG2({type:i,features:[f.qOj]}),i})();const Za=new f.OlP("NgValueAccessor"),nk={provide:Za,useExisting:(0,f.Gpc)(()=>lS),multi:!0},ik=new f.OlP("CompositionEventMode");let lS=(()=>{class i extends VN{constructor(r,s,c){super(r,s),this._compositionMode=c,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const i=B()?B().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}())}writeValue(r){this.setProperty("value",null==r?"":r)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}}return i.\u0275fac=function(r){return new(r||i)(f.Y36(f.Qsj),f.Y36(f.SBq),f.Y36(ik,8))},i.\u0275dir=f.lG2({type:i,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,s){1&r&&f.NdJ("input",function(d){return s._handleInput(d.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(d){return s._compositionEnd(d.target.value)})},features:[f._Bn([nk]),f.qOj]}),i})();const ui=new f.OlP("NgValidators"),bd=new f.OlP("NgAsyncValidators");function KN(i){return null!=i}function YN(i){const n=(0,f.QGY)(i)?(0,Ot.D)(i):i;return(0,f.CqO)(n),n}function QN(i){let n={};return i.forEach(r=>{n=null!=r?Object.assign(Object.assign({},n),r):n}),0===Object.keys(n).length?null:n}function JN(i,n){return n.map(r=>r(i))}function XN(i){return i.map(n=>function(i){return!i.validate}(n)?n:r=>n.validate(r))}function wM(i){return null!=i?function(i){if(!i)return null;const n=i.filter(KN);return 0==n.length?null:function(r){return QN(JN(r,n))}}(XN(i)):null}function CM(i){return null!=i?function(i){if(!i)return null;const n=i.filter(KN);return 0==n.length?null:function(r){return function(...i){if(1===i.length){const n=i[0];if((0,us.k)(n))return cS(n,null);if((0,XP.K)(n)&&Object.getPrototypeOf(n)===Object.prototype){const r=Object.keys(n);return cS(r.map(s=>n[s]),r)}}if("function"==typeof i[i.length-1]){const n=i.pop();return cS(i=1===i.length&&(0,us.k)(i[0])?i[0]:i,null).pipe((0,_t.U)(r=>n(...r)))}return cS(i,null)}(JN(r,n).map(YN)).pipe((0,_t.U)(QN))}}(XN(i)):null}function n1(i,n){return null===i?[n]:Array.isArray(i)?[...i,n]:[i,n]}function DM(i){return i?Array.isArray(i)?i:[i]:[]}function dS(i,n){return Array.isArray(i)?i.includes(n):i===n}function s1(i,n){const r=DM(n);return DM(i).forEach(c=>{dS(r,c)||r.push(c)}),r}function o1(i,n){return DM(n).filter(r=>!dS(i,r))}let a1=(()=>{class i{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(r){this._rawValidators=r||[],this._composedValidatorFn=wM(this._rawValidators)}_setAsyncValidators(r){this._rawAsyncValidators=r||[],this._composedAsyncValidatorFn=CM(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(r){this._onDestroyCallbacks.push(r)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(r=>r()),this._onDestroyCallbacks=[]}reset(r){this.control&&this.control.reset(r)}hasError(r,s){return!!this.control&&this.control.hasError(r,s)}getError(r,s){return this.control?this.control.getError(r,s):null}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275dir=f.lG2({type:i}),i})(),Li=(()=>{class i extends a1{get formDirective(){return null}get path(){return null}}return i.\u0275fac=function(){let n;return function(s){return(n||(n=f.n5z(i)))(s||i)}}(),i.\u0275dir=f.lG2({type:i,features:[f.qOj]}),i})();class Cd extends a1{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let c1=(()=>{class i extends class{constructor(n){this._cd=n}is(n){var r,s,c;return"submitted"===n?!!(null===(r=this._cd)||void 0===r?void 0:r.submitted):!!(null===(c=null===(s=this._cd)||void 0===s?void 0:s.control)||void 0===c?void 0:c[n])}}{constructor(r){super(r)}}return i.\u0275fac=function(r){return new(r||i)(f.Y36(Cd,2))},i.\u0275dir=f.lG2({type:i,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,s){2&r&&f.ekj("ng-untouched",s.is("untouched"))("ng-touched",s.is("touched"))("ng-pristine",s.is("pristine"))("ng-dirty",s.is("dirty"))("ng-valid",s.is("valid"))("ng-invalid",s.is("invalid"))("ng-pending",s.is("pending"))},features:[f.qOj]}),i})();function ow(i,n){(function(i,n){const r=function(i){return i._rawValidators}(i);null!==n.validator?i.setValidators(n1(r,n.validator)):"function"==typeof r&&i.setValidators([r]);const s=function(i){return i._rawAsyncValidators}(i);null!==n.asyncValidator?i.setAsyncValidators(n1(s,n.asyncValidator)):"function"==typeof s&&i.setAsyncValidators([s]);const c=()=>i.updateValueAndValidity();gS(n._rawValidators,c),gS(n._rawAsyncValidators,c)})(i,n),n.valueAccessor.writeValue(i.value),function(i,n){n.valueAccessor.registerOnChange(r=>{i._pendingValue=r,i._pendingChange=!0,i._pendingDirty=!0,"change"===i.updateOn&&l1(i,n)})}(i,n),function(i,n){const r=(s,c)=>{n.valueAccessor.writeValue(s),c&&n.viewToModelUpdate(s)};i.registerOnChange(r),n._registerOnDestroy(()=>{i._unregisterOnChange(r)})}(i,n),function(i,n){n.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,"blur"===i.updateOn&&i._pendingChange&&l1(i,n),"submit"!==i.updateOn&&i.markAsTouched()})}(i,n),function(i,n){if(n.valueAccessor.setDisabledState){const r=s=>{n.valueAccessor.setDisabledState(s)};i.registerOnDisabledChange(r),n._registerOnDestroy(()=>{i._unregisterOnDisabledChange(r)})}}(i,n)}function gS(i,n){i.forEach(r=>{r.registerOnValidatorChange&&r.registerOnValidatorChange(n)})}function l1(i,n){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function _S(i,n){const r=i.indexOf(n);r>-1&&i.splice(r,1)}const aw="VALID",yS="INVALID",O_="PENDING",uw="DISABLED";function RM(i){return(OM(i)?i.validators:i)||null}function f1(i){return Array.isArray(i)?wM(i):i||null}function MM(i,n){return(OM(n)?n.asyncValidators:i)||null}function p1(i){return Array.isArray(i)?CM(i):i||null}function OM(i){return null!=i&&!Array.isArray(i)&&"object"==typeof i}class NM{constructor(n,r){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=n,this._rawAsyncValidators=r,this._composedValidatorFn=f1(this._rawValidators),this._composedAsyncValidatorFn=p1(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===aw}get invalid(){return this.status===yS}get pending(){return this.status==O_}get disabled(){return this.status===uw}get enabled(){return this.status!==uw}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._rawValidators=n,this._composedValidatorFn=f1(n)}setAsyncValidators(n){this._rawAsyncValidators=n,this._composedAsyncValidatorFn=p1(n)}addValidators(n){this.setValidators(s1(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(s1(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(o1(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(o1(n,this._rawAsyncValidators))}hasValidator(n){return dS(this._rawValidators,n)}hasAsyncValidator(n){return dS(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(r=>{r.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=O_,!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){const r=this._parentMarkedDirty(n.onlySelf);this.status=uw,this.errors=null,this._forEachChild(s=>{s.disable(Object.assign(Object.assign({},n),{onlySelf:!0}))}),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},n),{skipPristineCheck:r})),this._onDisabledChange.forEach(s=>s(!0))}enable(n={}){const r=this._parentMarkedDirty(n.onlySelf);this.status=aw,this._forEachChild(s=>{s.enable(Object.assign(Object.assign({},n),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},n),{skipPristineCheck:r})),this._onDisabledChange.forEach(s=>s(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===aw||this.status===O_)&&this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(r=>r._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?uw:aw}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=O_,this._hasOwnPendingAsyncValidator=!0;const r=YN(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(s=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(s,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,r={}){this.errors=n,this._updateControlsErrors(!1!==r.emitEvent)}get(n){return function(i,n,r){if(null==n||(Array.isArray(n)||(n=n.split(".")),Array.isArray(n)&&0===n.length))return null;let s=i;return n.forEach(c=>{s=s instanceof PM?s.controls.hasOwnProperty(c)?s.controls[c]:null:s instanceof vk&&s.at(c)||null}),s}(this,n)}getError(n,r){const s=r?this.get(r):this;return s&&s.errors?s.errors[n]:null}hasError(n,r){return!!this.getError(n,r)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new f.vpe,this.statusChanges=new f.vpe}_calculateStatus(){return this._allControlsDisabled()?uw:this.errors?yS:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(O_)?O_:this._anyControlsHaveStatus(yS)?yS:aw}_anyControlsHaveStatus(n){return this._anyControls(r=>r.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_isBoxedValue(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){OM(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class vS extends NM{constructor(n=null,r,s){super(RM(r),MM(s,r)),this._onChange=[],this._applyFormState(n),this._setUpdateStrategy(r),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(n,r={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==r.emitModelToViewChange&&this._onChange.forEach(s=>s(this.value,!1!==r.emitViewToModelChange)),this.updateValueAndValidity(r)}patchValue(n,r={}){this.setValue(n,r)}reset(n=null,r={}){this._applyFormState(n),this.markAsPristine(r),this.markAsUntouched(r),this.setValue(this.value,r),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){_S(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){_S(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){this._isBoxedValue(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}}class PM extends NM{constructor(n,r,s){super(RM(r),MM(s,r)),this.controls=n,this._initObservables(),this._setUpdateStrategy(r),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,r){return this.controls[n]?this.controls[n]:(this.controls[n]=r,r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange),r)}addControl(n,r,s={}){this.registerControl(n,r),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}removeControl(n,r={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}setControl(n,r,s={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],r&&this.registerControl(n,r),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,r={}){this._checkAllValuesPresent(n),Object.keys(n).forEach(s=>{this._throwIfControlMissing(s),this.controls[s].setValue(n[s],{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r)}patchValue(n,r={}){null!=n&&(Object.keys(n).forEach(s=>{this.controls[s]&&this.controls[s].patchValue(n[s],{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r))}reset(n={},r={}){this._forEachChild((s,c)=>{s.reset(n[c],{onlySelf:!0,emitEvent:r.emitEvent})}),this._updatePristine(r),this._updateTouched(r),this.updateValueAndValidity(r)}getRawValue(){return this._reduceChildren({},(n,r,s)=>(n[s]=r instanceof vS?r.value:r.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(r,s)=>!!s._syncPendingControls()||r);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_throwIfControlMissing(n){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[n])throw new Error(`Cannot find form control with name: ${n}.`)}_forEachChild(n){Object.keys(this.controls).forEach(r=>{const s=this.controls[r];s&&n(s,r)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(const r of Object.keys(this.controls)){const s=this.controls[r];if(this.contains(r)&&n(s))return!0}return!1}_reduceValue(){return this._reduceChildren({},(n,r,s)=>((r.enabled||this.disabled)&&(n[s]=r.value),n))}_reduceChildren(n,r){let s=n;return this._forEachChild((c,d)=>{s=r(s,c,d)}),s}_allControlsDisabled(){for(const n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(n){this._forEachChild((r,s)=>{if(void 0===n[s])throw new Error(`Must supply a value for form control with name: '${s}'.`)})}}class vk extends NM{constructor(n,r,s){super(RM(r),MM(s,r)),this.controls=n,this._initObservables(),this._setUpdateStrategy(r),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(n){return this.controls[n]}push(n,r={}){this.controls.push(n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}insert(n,r,s={}){this.controls.splice(n,0,r),this._registerControl(r),this.updateValueAndValidity({emitEvent:s.emitEvent})}removeAt(n,r={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),this.updateValueAndValidity({emitEvent:r.emitEvent})}setControl(n,r,s={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),r&&(this.controls.splice(n,0,r),this._registerControl(r)),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(n,r={}){this._checkAllValuesPresent(n),n.forEach((s,c)=>{this._throwIfControlMissing(c),this.at(c).setValue(s,{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r)}patchValue(n,r={}){null!=n&&(n.forEach((s,c)=>{this.at(c)&&this.at(c).patchValue(s,{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r))}reset(n=[],r={}){this._forEachChild((s,c)=>{s.reset(n[c],{onlySelf:!0,emitEvent:r.emitEvent})}),this._updatePristine(r),this._updateTouched(r),this.updateValueAndValidity(r)}getRawValue(){return this.controls.map(n=>n instanceof vS?n.value:n.getRawValue())}clear(n={}){this.controls.length<1||(this._forEachChild(r=>r._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:n.emitEvent}))}_syncPendingControls(){let n=this.controls.reduce((r,s)=>!!s._syncPendingControls()||r,!1);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_throwIfControlMissing(n){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(n))throw new Error(`Cannot find form control at index ${n}`)}_forEachChild(n){this.controls.forEach((r,s)=>{n(r,s)})}_updateValue(){this.value=this.controls.filter(n=>n.enabled||this.disabled).map(n=>n.value)}_anyControls(n){return this.controls.some(r=>r.enabled&&n(r))}_setUpControls(){this._forEachChild(n=>this._registerControl(n))}_checkAllValuesPresent(n){this._forEachChild((r,s)=>{if(void 0===n[s])throw new Error(`Must supply a value for form control at index: ${s}.`)})}_allControlsDisabled(){for(const n of this.controls)if(n.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(n){n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)}}const wk={provide:Cd,useExisting:(0,f.Gpc)(()=>FM)},_1=(()=>Promise.resolve(null))();let FM=(()=>{class i extends Cd{constructor(r,s,c,d){super(),this.control=new vS,this._registered=!1,this.update=new f.vpe,this._parent=r,this._setValidators(s),this._setAsyncValidators(c),this.valueAccessor=function(i,n){if(!n)return null;let r,s,c;return Array.isArray(n),n.forEach(d=>{d.constructor===lS?r=d:function(i){return Object.getPrototypeOf(i.constructor)===Ep}(d)?s=d:c=d}),c||s||r||null}(0,d)}ngOnChanges(r){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in r&&this._updateDisabled(r),function(i,n){if(!i.hasOwnProperty("model"))return!1;const r=i.model;return!!r.isFirstChange()||!Object.is(n,r.currentValue)}(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(i,n){return[...n.path,i]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ow(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(r){_1.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1})})}_updateDisabled(r){const s=r.isDisabled.currentValue,c=""===s||s&&"false"!==s;_1.then(()=>{c&&!this.control.disabled?this.control.disable():!c&&this.control.disabled&&this.control.enable()})}}return i.\u0275fac=function(r){return new(r||i)(f.Y36(Li,9),f.Y36(ui,10),f.Y36(bd,10),f.Y36(Za,10))},i.\u0275dir=f.lG2({type:i,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[f._Bn([wk]),f.qOj,f.TTD]}),i})(),v1=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=f.oAB({type:i}),i.\u0275inj=f.cJS({}),i})(),F1=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=f.oAB({type:i}),i.\u0275inj=f.cJS({imports:[[v1]]}),i})(),Zk=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=f.oAB({type:i}),i.\u0275inj=f.cJS({imports:[F1]}),i})(),Wk=(()=>{class i{constructor(r){this.cartService=r,this.itemsCart=this.cartService.getItems()}ngOnInit(){}addToCart(r){0===this.itemsCart.length?this.cartService.addToCart(r):this.itemsCart.find(s=>s.id===r.id)?this.cartService.updateCart(r,"+"):this.cartService.addToCart(r)}}return i.\u0275fac=function(r){return new(r||i)(f.Y36(bM))},i.\u0275cmp=f.Xpm({type:i,selectors:[["app-template-products"]],inputs:{product:"product"},decls:8,vars:4,consts:[[1,"list-group-item","d-flex","justify-content-between","align-items-center","rounded","mt-1","mb-1"],[1,"col-sm","text-center","fs-4"],[1,"itemsIcons",3,"click"],[1,"fas","fa-plus-circle","fs-5"]],template:function(r,s){1&r&&(f.TgZ(0,"li",0),f.TgZ(1,"span",1),f._uU(2),f.qZA(),f.TgZ(3,"span",1),f._uU(4),f.ALo(5,"currency"),f.qZA(),f.TgZ(6,"button",2),f.NdJ("click",function(){return s.addToCart(s.product)}),f._UZ(7,"i",3),f.qZA(),f.qZA()),2&r&&(f.xp6(2),f.hij(" ",s.product.nombre," "),f.xp6(2),f.Oqu(f.lcZ(5,2,s.product.precio)))},pipes:[ns],styles:[".itemsIcons[_ngcontent-%COMP%]{background-color:transparent;border:1px solid transparent}"]}),i})(),Kk=(()=>{class i{constructor(r){this.cartService=r,this.quantity=1,this.i=1,this.total=0}ngOnInit(){}plus(){this.i&&(this.i++,this.cartService.updateCart(this.itemCart,"+"))}minus(){1!=this.itemCart.cantidad&&this.cartService.updateCart(this.itemCart,"-")}deleteItem(r){this.cartService.deleteItem(r)}}return i.\u0275fac=function(r){return new(r||i)(f.Y36(bM))},i.\u0275cmp=f.Xpm({type:i,selectors:[["app-counter-input"]],inputs:{itemCart:"itemCart"},decls:17,vars:5,consts:[[1,"list-group-item","mt-1","mb-1"],[1,"containerProduct"],[1,"text-center","w-10","fs-4"],[1,"itemsIcons","w-10",3,"click"],[1,"fas","fa-plus-circle","rotate","fs-5"],[1,"col-sm"],["type","button",1,"w-10","itemsIcons",3,"click"],[1,"fas","fa-minus-circle","fs-5"],["readonly","","type","text",1,"w-25","text-center","fs-4",3,"value"],[1,"fas","fa-plus-circle","fs-5"],[1,"fs-4"]],template:function(r,s){1&r&&(f.TgZ(0,"li",0),f.TgZ(1,"div",1),f.TgZ(2,"p",2),f._uU(3),f.qZA(),f.TgZ(4,"button",3),f.NdJ("click",function(){return s.deleteItem(s.itemCart)}),f._UZ(5,"i",4),f.qZA(),f.qZA(),f.TgZ(6,"div",1),f.TgZ(7,"div",5),f.TgZ(8,"button",6),f.NdJ("click",function(){return s.minus()}),f._UZ(9,"i",7),f.qZA(),f._UZ(10,"input",8),f.TgZ(11,"button",6),f.NdJ("click",function(){return s.plus()}),f._UZ(12,"i",9),f.qZA(),f.qZA(),f.TgZ(13,"div",5),f.TgZ(14,"span",10),f._uU(15),f.ALo(16,"currency"),f.qZA(),f.qZA(),f.qZA(),f.qZA()),2&r&&(f.xp6(3),f.hij(" ",s.itemCart.nombre," "),f.xp6(7),f.Q6J("value",s.itemCart.cantidad),f.xp6(5),f.Oqu(f.lcZ(16,3,s.itemCart.total)))},pipes:[ns],styles:[".itemsIcons[_ngcontent-%COMP%]{background-color:transparent;border:1px solid transparent}.rotate[_ngcontent-%COMP%]{transform:rotate(-45deg)}p[_ngcontent-%COMP%]{margin:0}.containerProduct[_ngcontent-%COMP%]{display:flex;justify-content:space-between}"]}),i})();function Yk(i,n){1&i&&f._UZ(0,"app-template-products",18),2&i&&f.Q6J("product",n.$implicit)}function Qk(i,n){1&i&&f._UZ(0,"app-counter-input",19),2&i&&f.Q6J("itemCart",n.$implicit)}function Xk(i,n){if(1&i&&(f.TgZ(0,"li",14),f.TgZ(1,"p",15),f._uU(2),f.qZA(),f.TgZ(3,"p",16),f._uU(4),f.qZA(),f.TgZ(5,"span",17),f._uU(6),f.qZA(),f.qZA()),2&i){const r=n.$implicit,s=f.oxw().$implicit;f.xp6(2),f.hij(" ",r.nombre," "),f.xp6(2),f.Oqu(s.mesa),f.xp6(2),f.hij(" ",r.cantidad," ")}}function eF(i,n){if(1&i&&(f.TgZ(0,"ul",12),f.YNc(1,Xk,7,3,"li",13),f.qZA()),2&i){const r=n.$implicit;f.xp6(1),f.Q6J("ngForOf",r.detalle)}}function tF(i,n){if(1&i&&(f.TgZ(0,"li",14),f.TgZ(1,"p",15),f._uU(2),f.qZA(),f.TgZ(3,"span",21),f._uU(4),f.qZA(),f.TgZ(5,"p",16),f._uU(6),f.ALo(7,"currency"),f.qZA(),f.qZA()),2&i){const r=n.$implicit;f.xp6(2),f.hij(" ",r.nombre," "),f.xp6(2),f.hij(" ",r.cantidad," "),f.xp6(2),f.Oqu(f.lcZ(7,3,r.total))}}function nF(i,n){if(1&i&&(f.TgZ(0,"ul",18),f.YNc(1,tF,8,5,"li",13),f.TgZ(2,"div",19),f.TgZ(3,"p",20),f._uU(4),f.qZA(),f.TgZ(5,"p",20),f._uU(6),f.ALo(7,"currency"),f.qZA(),f.qZA(),f.qZA()),2&i){const r=n.$implicit;f.xp6(1),f.Q6J("ngForOf",r.detalle),f.xp6(3),f.Oqu(r.mesa),f.xp6(2),f.hij("TOTAL: ",f.lcZ(7,3,r.total),"")}}const L1=function(i){return[i]},rF=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:ZP},{path:"booking",component:zP},{path:"menu",component:(()=>{class i{constructor(r,s,c){this.service=r,this.shareData=s,this.cartService=c,this.products=[],this.productsFilter=[],this.menuType="desayuno",this.itemsCart=this.cartService.getItems(),this.username=""}ngOnInit(){this.getProducts(),console.log(this.itemsCart),this.shareData.sharedMessage.subscribe(r=>this.selectedTable=r)}getTotal(){return this.cartService.getTotal()}getProducts(){this.service.getProducts().subscribe(r=>{this.products=[],r.forEach(s=>{this.products.push(Object.assign({id:s.payload.doc.id},s.payload.doc.data()))}),this.productsFilter=this.getBreakfastItem()})}getBreakfastItem(){return this.products.filter("desayuno"===this.menuType?r=>"desayuno"==r.tipo:r=>"menu"==r.tipo)}changeTypeMenu(r){this.menuType=r,this.productsFilter=this.getBreakfastItem()}makeOrder(){const s=(new Date).toString(),c={cliente:this.username,total:this.getTotal(),mesa:this.selectedTable.name,mesaID:this.selectedTable.id,status:0,fecha:s,detalle:this.itemsCart,tiempo:""};this.itemsCart=[],this.username="",this.selectedTable="",this.service.createOrder(c)}clearTable(){this.service.updateTable(this.selectedTable.id,{status:!1})}}return i.\u0275fac=function(r){return new(r||i)(f.Y36(sw),f.Y36(FN),f.Y36(bM))},i.\u0275cmp=f.Xpm({type:i,selectors:[["app-menu"]],decls:33,vars:7,consts:[[1,"container"],[1,"row","mx-auto"],[1,"col-sm","mt-2"],["type","button",1,"btnMenu","btnColor","btn","btn-lg","fs-2","col-6","mx-auto","d-block",3,"click"],[1,"text-center","fs-1"],[1,"col-sm"],[1,"list-group","tableMenu","mb-2","mt-2"],[3,"product",4,"ngFor","ngForOf"],[1,"list-group","tableOrder","mt-2"],[1,"text-center","fs-3","mb-0","btnMenu"],[3,"itemCart",4,"ngFor","ngForOf"],[1,"text-end","fs-3","mb-0"],[1,"row","mt-5","containerBotton"],[1,"col"],["type","button","routerLink","/booking",1,"btn","col-6","mx-auto","d-block","mt-3",3,"click"],[1,"fas","fa-reply","fs-1"],["type","text","placeholder","Cliente: _______________________",1,"form-control",3,"ngModel","ngModelChange"],["type","button","routerLink","/orders",1,"btnMenu","btn-lg","btn","col-6","mx-auto","d-block","mt-3",3,"click"],[3,"product"],[3,"itemCart"]],template:function(r,s){1&r&&(f._UZ(0,"app-home-header"),f.TgZ(1,"section",0),f.TgZ(2,"section",1),f.TgZ(3,"div",2),f.TgZ(4,"button",3),f.NdJ("click",function(){return s.changeTypeMenu("desayuno")}),f._uU(5,"Desayuno"),f.qZA(),f.qZA(),f.TgZ(6,"div",2),f.TgZ(7,"button",3),f.NdJ("click",function(){return s.changeTypeMenu("menu")}),f._uU(8,"Men\xfa"),f.qZA(),f.qZA(),f.TgZ(9,"div",2),f.TgZ(10,"p",4),f._uU(11),f.qZA(),f.qZA(),f.qZA(),f.TgZ(12,"section",1),f.TgZ(13,"section",5),f.TgZ(14,"ul",6),f.YNc(15,Yk,1,1,"app-template-products",7),f.qZA(),f.qZA(),f.TgZ(16,"section",5),f.TgZ(17,"ul",8),f.TgZ(18,"p",9),f._uU(19,"Pedido"),f.qZA(),f.YNc(20,Qk,1,1,"app-counter-input",10),f.qZA(),f.TgZ(21,"p",11),f._uU(22),f.ALo(23,"currency"),f.qZA(),f.qZA(),f.qZA(),f.TgZ(24,"section",12),f.TgZ(25,"div",13),f.TgZ(26,"button",14),f.NdJ("click",function(){return s.clearTable()}),f._UZ(27,"i",15),f.qZA(),f.qZA(),f.TgZ(28,"div",13),f.TgZ(29,"input",16),f.NdJ("ngModelChange",function(d){return s.username=d}),f.qZA(),f.qZA(),f.TgZ(30,"div",13),f.TgZ(31,"button",17),f.NdJ("click",function(){return s.makeOrder()}),f._uU(32,"Ordenar"),f.qZA(),f.qZA(),f.qZA(),f.qZA()),2&r&&(f.xp6(11),f.Oqu(s.selectedTable.name),f.xp6(4),f.Q6J("ngForOf",s.productsFilter),f.xp6(5),f.Q6J("ngForOf",s.itemsCart),f.xp6(2),f.hij("Total: ",f.lcZ(23,5,s.getTotal()),""),f.xp6(7),f.Q6J("ngModel",s.username))},directives:[uS,ei,Aa,lS,c1,FM,Wk,Kk],pipes:[ns],styles:[".container[_ngcontent-%COMP%]{margin-top:5vh;margin-bottom:5rem}p[_ngcontent-%COMP%]{color:var(--color-orange);font-family:var(--font-main);font-weight:500}.btnMenu[_ngcontent-%COMP%]{color:var(--color-white);font-family:var(--font-main);background-color:var(--color-orange);font-weight:500;font-size:24px}.btnColor[_ngcontent-%COMP%]{background-color:var(--color-red)!important;min-width:150px}.btn[_ngcontent-%COMP%]:focus{box-shadow:none}.tableMenu[_ngcontent-%COMP%]{background-color:#8a02007c;border:10px solid var(--color-red)!important}.tableOrder[_ngcontent-%COMP%]{background-color:#fe95257c;border:10px solid var(--color-orange)!important}li[_ngcontent-%COMP%]{background-color:#fff}.itemsIcons[_ngcontent-%COMP%]{background-color:transparent;border:1px solid transparent}.rotate[_ngcontent-%COMP%]{transform:rotate(-45deg)}.containerBotton[_ngcontent-%COMP%]{align-items:flex-end}.fa-reply[_ngcontent-%COMP%]{color:var(--color-white)}.fa-reply[_ngcontent-%COMP%]:hover{color:#c2c2c2}.form-control[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem #ed9421bf}"]}),i})()},{path:"kitchen",component:JP},{path:"orders",component:(()=>{class i{constructor(r){this.service=r,this.time=Date.now(),this.order=[]}ngOnInit(){setInterval(()=>{this.time=new Date},1e3),this.getOrderKitchen()}getOrderKitchen(){this.service.getOrderKitchen().subscribe(r=>{this.order=[],r.forEach(s=>{this.order=[...this.order,Object.assign({id:s.payload.doc.id},s.payload.doc.data())]});for(let s=0;s<this.order.length;s++){this.orderStatus=this.order[s].status;for(let c=0;c<this.order[s].detalle.length;c++)this.orderName+=this.order[s].detalle[c].nombre,this.orderQuantity=this.order[s].detalle[c].cantidad}})}getOrderPending(){return this.order.filter(r=>1==r.status)}getOrderDone(){return this.order.filter(r=>2==r.status)}drop(r){if(r.previousContainer===r.container)MC(r.container.data,r.previousIndex,r.currentIndex);else{ko(r.previousContainer.data,r.container.data,r.previousIndex,r.currentIndex),this.orderId=r.container.data[r.currentIndex].id,this.tableID=r.container.data[r.currentIndex].mesaID,this.getOrderDone();const s=()=>{this.service.updateTable(this.tableID,{status:!1})};1===this.orderStatus&&(this.service.updateStatusOrder(this.orderId,{status:2}),s()),2===this.orderStatus&&this.service.updateStatusOrder(this.orderId,{status:1})}}}return i.\u0275fac=function(r){return new(r||i)(f.Y36(sw))},i.\u0275cmp=f.Xpm({type:i,selectors:[["app-orders"]],decls:22,vars:14,consts:[[1,"col-sm","mt-2"],[1,"text-end","fs-1","timer"],[1,"row","mx-auto","container"],[1,"col-lg"],[1,"col-lg","mt-2","titleRed","mx-auto","d-block"],[1,"text-start","fs-1"],["cdkDropList","",1,"example-list",3,"cdkDropListData","cdkDropListConnectedTo","cdkDropListDropped"],["listOne","cdkDropList"],["class","list-group tablePending mt-2","cdkDrag","",4,"ngFor","ngForOf"],[1,"col-sm","mt-2","titleGreen","mx-auto","d-block"],["listTwo","cdkDropList"],["class","list-group tableDone mt-2","cdkDrag","",4,"ngFor","ngForOf"],["cdkDrag","",1,"list-group","tablePending","mt-2"],["class","list-group-item d-flex justify-content-between align-items-center mt-1 mb-1",4,"ngFor","ngForOf"],[1,"list-group-item","d-flex","justify-content-between","align-items-center","mt-1","mb-1"],[1,"w-50","fs-4"],[1,"w-25","text-end","fs-4"],[1,"border","border-secondary","rounded","text-center","fs-4","spanRed"],["cdkDrag","",1,"list-group","tableDone","mt-2"],[1,"d-flex","justify-content-between","align-items-center"],[1,"timer","fs-4"],[1,"border","border-secondary","rounded","text-center","fs-4","spanGreen"]],template:function(r,s){if(1&r&&(f._UZ(0,"app-home-header"),f.TgZ(1,"section",0),f.TgZ(2,"p",1),f._uU(3),f.ALo(4,"date"),f.qZA(),f.qZA(),f.TgZ(5,"section",2),f.TgZ(6,"section",3),f.TgZ(7,"div",4),f.TgZ(8,"p",5),f._uU(9,"Por servir"),f.qZA(),f.qZA(),f.TgZ(10,"section"),f.TgZ(11,"div",6,7),f.NdJ("cdkDropListDropped",function(d){return s.drop(d)}),f.YNc(13,eF,2,1,"ul",8),f.qZA(),f.qZA(),f.qZA(),f.TgZ(14,"section",3),f.TgZ(15,"div",9),f.TgZ(16,"p",5),f._uU(17,"Servido"),f.qZA(),f.qZA(),f.TgZ(18,"section"),f.TgZ(19,"div",6,10),f.NdJ("cdkDropListDropped",function(d){return s.drop(d)}),f.YNc(21,nF,8,5,"ul",11),f.qZA(),f.qZA(),f.qZA(),f.qZA()),2&r){const c=f.MAs(12),d=f.MAs(20);f.xp6(3),f.Oqu(f.xi3(4,7,s.time,"h:mm:ss a")),f.xp6(8),f.Q6J("cdkDropListData",s.getOrderPending())("cdkDropListConnectedTo",f.VKq(10,L1,d)),f.xp6(2),f.Q6J("ngForOf",s.getOrderPending()),f.xp6(6),f.Q6J("cdkDropListData",s.getOrderDone())("cdkDropListConnectedTo",f.VKq(12,L1,c)),f.xp6(2),f.Q6J("ngForOf",s.getOrderDone())}},directives:[uS,$y,ei,eA],pipes:[Dp,ns],styles:[".container[_ngcontent-%COMP%]{margin-top:3vh}.titleRed[_ngcontent-%COMP%]{color:#df2218;font-weight:500;padding:0}.titleGreen[_ngcontent-%COMP%]{color:#1ca10d;font-weight:500;padding:0}p[_ngcontent-%COMP%]{font-family:var(--font-main);margin:0 .5rem}.btn[_ngcontent-%COMP%]{font-family:var(--font-main);color:var(--color-white);font-weight:500;margin:0;padding:0;width:80%!important}.btn[_ngcontent-%COMP%]:focus{box-shadow:none}span[_ngcontent-%COMP%]{width:10%}.spanRed[_ngcontent-%COMP%]{border:2px solid #8a02007c!important}.spanGreen[_ngcontent-%COMP%]{border:2px solid #1CA10D!important}li[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}.timer[_ngcontent-%COMP%]{color:var(--color-white)}.tableDone[_ngcontent-%COMP%]{background-color:#106a068a;border:10px solid #1CA10D!important;cursor:move}.tablePending[_ngcontent-%COMP%]{background-color:#8a02007c;border:10px solid var(--color-red)!important;cursor:move}.example-list[_ngcontent-%COMP%]{min-height:60px}"]}),i})()},{path:"**",redirectTo:"home",pathMatch:"full"}];let iF=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=f.oAB({type:i}),i.\u0275inj=f.cJS({imports:[[Ov.forRoot(rF)],Ov]}),i})(),sF=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=f.Xpm({type:i,selectors:[["app-home-footer"]],decls:2,vars:0,consts:[[1,"text-center","mt-3","fs-5","fixed-bottom"]],template:function(r,s){1&r&&(f.TgZ(0,"footer",0),f._uU(1,"\xa9 2021 - Best footer ever!"),f.qZA())},styles:["footer[_ngcontent-%COMP%]{color:var(--color-white);font-family:var(--font-main);background-color:var(--color-red)}"]}),i})(),oF=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=f.Xpm({type:i,selectors:[["app-root"]],decls:2,vars:0,template:function(r,s){1&r&&(f._UZ(0,"router-outlet"),f._UZ(1,"app-home-footer"))},directives:[Kg,sF],styles:[""]}),i})();const V1_firebase={apiKey:"AIzaSyDGMGO4L3eG3APw09zkNBjetEEfVSePYpo",authDomain:"burger-queen-ffe43.firebaseapp.com",projectId:"burger-queen-ffe43",storageBucket:"burger-queen-ffe43.appspot.com",messagingSenderId:"109474495828",appId:"1:109474495828:web:3856386618300c16eb9cc1"};let aF=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=f.oAB({type:i,bootstrap:[oF]}),i.\u0275inj=f.cJS({providers:[],imports:[[pu,iF,Ys.hO.initializeApp(V1_firebase),VP,Zk,BC]]}),i})();(0,f.G48)(),$_().bootstrapModule(aF).catch(i=>console.error(i))},4762:(Ge,we,L)=>{"use strict";function ve(se,he){var ge={};for(var fe in se)Object.prototype.hasOwnProperty.call(se,fe)&&he.indexOf(fe)<0&&(ge[fe]=se[fe]);if(null!=se&&"function"==typeof Object.getOwnPropertySymbols){var pe=0;for(fe=Object.getOwnPropertySymbols(se);pe<fe.length;pe++)he.indexOf(fe[pe])<0&&Object.prototype.propertyIsEnumerable.call(se,fe[pe])&&(ge[fe[pe]]=se[fe[pe]])}return ge}function ue(se,he,ge,fe){return new(ge||(ge=Promise))(function(ee,Re){function Ze(mt){try{tt(fe.next(mt))}catch(Xt){Re(Xt)}}function wt(mt){try{tt(fe.throw(mt))}catch(Xt){Re(Xt)}}function tt(mt){mt.done?ee(mt.value):function(ee){return ee instanceof ge?ee:new ge(function(Re){Re(ee)})}(mt.value).then(Ze,wt)}tt((fe=fe.apply(se,he||[])).next())})}function $(se,he){var fe,pe,ee,Re,ge={label:0,sent:function(){if(1&ee[0])throw ee[1];return ee[1]},trys:[],ops:[]};return Re={next:Ze(0),throw:Ze(1),return:Ze(2)},"function"==typeof Symbol&&(Re[Symbol.iterator]=function(){return this}),Re;function Ze(tt){return function(mt){return function(tt){if(fe)throw new TypeError("Generator is already executing.");for(;ge;)try{if(fe=1,pe&&(ee=2&tt[0]?pe.return:tt[0]?pe.throw||((ee=pe.return)&&ee.call(pe),0):pe.next)&&!(ee=ee.call(pe,tt[1])).done)return ee;switch(pe=0,ee&&(tt=[2&tt[0],ee.value]),tt[0]){case 0:case 1:ee=tt;break;case 4:return ge.label++,{value:tt[1],done:!1};case 5:ge.label++,pe=tt[1],tt=[0];continue;case 7:tt=ge.ops.pop(),ge.trys.pop();continue;default:if(!(ee=(ee=ge.trys).length>0&&ee[ee.length-1])&&(6===tt[0]||2===tt[0])){ge=0;continue}if(3===tt[0]&&(!ee||tt[1]>ee[0]&&tt[1]<ee[3])){ge.label=tt[1];break}if(6===tt[0]&&ge.label<ee[1]){ge.label=ee[1],ee=tt;break}if(ee&&ge.label<ee[2]){ge.label=ee[2],ge.ops.push(tt);break}ee[2]&&ge.ops.pop(),ge.trys.pop();continue}tt=he.call(se,ge)}catch(mt){tt=[6,mt],pe=0}finally{fe=ee=0}if(5&tt[0])throw tt[1];return{value:tt[0]?tt[1]:void 0,done:!0}}([tt,mt])}}}function X(se){var he="function"==typeof Symbol&&Symbol.iterator,ge=he&&se[he],fe=0;if(ge)return ge.call(se);if(se&&"number"==typeof se.length)return{next:function(){return se&&fe>=se.length&&(se=void 0),{value:se&&se[fe++],done:!se}}};throw new TypeError(he?"Object is not iterable.":"Symbol.iterator is not defined.")}function Y(se,he){var ge="function"==typeof Symbol&&se[Symbol.iterator];if(!ge)return se;var pe,Re,fe=ge.call(se),ee=[];try{for(;(void 0===he||he-- >0)&&!(pe=fe.next()).done;)ee.push(pe.value)}catch(Ze){Re={error:Ze}}finally{try{pe&&!pe.done&&(ge=fe.return)&&ge.call(fe)}finally{if(Re)throw Re.error}}return ee}function re(se,he,ge){if(ge||2===arguments.length)for(var ee,fe=0,pe=he.length;fe<pe;fe++)(ee||!(fe in he))&&(ee||(ee=Array.prototype.slice.call(he,0,fe)),ee[fe]=he[fe]);return se.concat(ee||Array.prototype.slice.call(he))}L.d(we,{_T:()=>ve,mG:()=>ue,Jh:()=>$,XA:()=>X,CR:()=>Y,ev:()=>re})},8239:(Ge,we,L)=>{"use strict";function f(B,ve,_e,oe,le,ue,$){try{var F=B[ue]($),V=F.value}catch(X){return void _e(X)}F.done?ve(V):Promise.resolve(V).then(oe,le)}function te(B){return function(){var ve=this,_e=arguments;return new Promise(function(oe,le){var ue=B.apply(ve,_e);function $(V){f(ue,oe,le,$,F,"next",V)}function F(V){f(ue,oe,le,$,F,"throw",V)}$(void 0)})}}L.d(we,{Z:()=>te})}},Ge=>{Ge(Ge.s=4249)}]);